var fC=Object.defineProperty;var dC=(n,e,t)=>e in n?fC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var q=(n,e,t)=>(dC(n,typeof e!="symbol"?e+"":e,t),t);function gb(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vb={exports:{}},Qd={},_b={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),hC=Symbol.for("react.portal"),pC=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),gC=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),yC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),wC=Symbol.for("react.memo"),bC=Symbol.for("react.lazy"),P_=Symbol.iterator;function SC(n){return n===null||typeof n!="object"?null:(n=P_&&n[P_]||n["@@iterator"],typeof n=="function"?n:null)}var yb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xb=Object.assign,wb={};function Bl(n,e,t){this.props=n,this.context=e,this.refs=wb,this.updater=t||yb}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Bl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function bb(){}bb.prototype=Bl.prototype;function Dv(n,e,t){this.props=n,this.context=e,this.refs=wb,this.updater=t||yb}var Pv=Dv.prototype=new bb;Pv.constructor=Dv;xb(Pv,Bl.prototype);Pv.isPureReactComponent=!0;var L_=Array.isArray,Sb=Object.prototype.hasOwnProperty,Lv={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0};function Tb(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Sb.call(e,i)&&!Mb.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:kc,type:n,key:s,ref:o,props:r,_owner:Lv.current}}function MC(n,e){return{$$typeof:kc,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Rv(n){return typeof n=="object"&&n!==null&&n.$$typeof===kc}function TC(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var R_=/\/+/g;function rp(n,e){return typeof n=="object"&&n!==null&&n.key!=null?TC(""+n.key):e.toString(36)}function Gf(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case kc:case hC:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+rp(o,0):i,L_(r)?(t="",n!=null&&(t=n.replace(R_,"$&/")+"/"),Gf(r,e,t,"",function(c){return c})):r!=null&&(Rv(r)&&(r=MC(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(R_,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",L_(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+rp(s,a);o+=Gf(s,e,t,l,r)}else if(l=SC(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+rp(s,a++),o+=Gf(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xc(n,e,t){if(n==null)return n;var i=[],r=0;return Gf(n,i,"","",function(s){return e.call(t,s,r++)}),i}function EC(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var kn={current:null},$f={transition:null},AC={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:$f,ReactCurrentOwner:Lv};function Eb(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Xc,forEach:function(n,e,t){Xc(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Xc(n,function(){e++}),e},toArray:function(n){return Xc(n,function(e){return e})||[]},only:function(n){if(!Rv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};qe.Component=Bl;qe.Fragment=pC;qe.Profiler=gC;qe.PureComponent=Dv;qe.StrictMode=mC;qe.Suspense=xC;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;qe.act=Eb;qe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=xb({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Lv.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Sb.call(e,l)&&!Mb.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:kc,type:n.type,key:r,ref:s,props:i,_owner:o}};qe.createContext=function(n){return n={$$typeof:_C,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:vC,_context:n},n.Consumer=n};qe.createElement=Tb;qe.createFactory=function(n){var e=Tb.bind(null,n);return e.type=n,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(n){return{$$typeof:yC,render:n}};qe.isValidElement=Rv;qe.lazy=function(n){return{$$typeof:bC,_payload:{_status:-1,_result:n},_init:EC}};qe.memo=function(n,e){return{$$typeof:wC,type:n,compare:e===void 0?null:e}};qe.startTransition=function(n){var e=$f.transition;$f.transition={};try{n()}finally{$f.transition=e}};qe.unstable_act=Eb;qe.useCallback=function(n,e){return kn.current.useCallback(n,e)};qe.useContext=function(n){return kn.current.useContext(n)};qe.useDebugValue=function(){};qe.useDeferredValue=function(n){return kn.current.useDeferredValue(n)};qe.useEffect=function(n,e){return kn.current.useEffect(n,e)};qe.useId=function(){return kn.current.useId()};qe.useImperativeHandle=function(n,e,t){return kn.current.useImperativeHandle(n,e,t)};qe.useInsertionEffect=function(n,e){return kn.current.useInsertionEffect(n,e)};qe.useLayoutEffect=function(n,e){return kn.current.useLayoutEffect(n,e)};qe.useMemo=function(n,e){return kn.current.useMemo(n,e)};qe.useReducer=function(n,e,t){return kn.current.useReducer(n,e,t)};qe.useRef=function(n){return kn.current.useRef(n)};qe.useState=function(n){return kn.current.useState(n)};qe.useSyncExternalStore=function(n,e,t){return kn.current.useSyncExternalStore(n,e,t)};qe.useTransition=function(){return kn.current.useTransition()};qe.version="18.3.1";_b.exports=qe;var j=_b.exports;const CC=rs(j),Hm=gb({__proto__:null,default:CC},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=j,PC=Symbol.for("react.element"),LC=Symbol.for("react.fragment"),RC=Object.prototype.hasOwnProperty,OC=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kC={key:!0,ref:!0,__self:!0,__source:!0};function Ab(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)RC.call(e,i)&&!kC.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:PC,type:n,key:s,ref:o,props:r,_owner:OC.current}}Qd.Fragment=LC;Qd.jsx=Ab;Qd.jsxs=Ab;vb.exports=Qd;var D=vb.exports,Wm={},Cb={exports:{}},hi={},Db={exports:{}},Pb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(P,Y){var X=P.length;P.push(Y);e:for(;0<X;){var $=X-1>>>1,Z=P[$];if(0<r(Z,Y))P[$]=Y,P[X]=Z,X=$;else break e}}function t(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var Y=P[0],X=P.pop();if(X!==Y){P[0]=X;e:for(var $=0,Z=P.length,re=Z>>>1;$<re;){var se=2*($+1)-1,ve=P[se],te=se+1,ke=P[te];if(0>r(ve,X))te<Z&&0>r(ke,ve)?(P[$]=ke,P[te]=X,$=te):(P[$]=ve,P[se]=X,$=se);else if(te<Z&&0>r(ke,X))P[$]=ke,P[te]=X,$=te;else break e}}return Y}function r(P,Y){var X=P.sortIndex-Y.sortIndex;return X!==0?X:P.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,h=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var Y=t(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=P)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function x(P){if(p=!1,_(P),!m)if(t(l)!==null)m=!0,B(w);else{var Y=t(c);Y!==null&&H(x,Y.startTime-P)}}function w(P,Y){m=!1,p&&(p=!1,v(b),b=-1),h=!0;var X=f;try{for(_(Y),u=t(l);u!==null&&(!(u.expirationTime>Y)||P&&!O());){var $=u.callback;if(typeof $=="function"){u.callback=null,f=u.priorityLevel;var Z=$(u.expirationTime<=Y);Y=n.unstable_now(),typeof Z=="function"?u.callback=Z:u===t(l)&&i(l),_(Y)}else i(l);u=t(l)}if(u!==null)var re=!0;else{var se=t(c);se!==null&&H(x,se.startTime-Y),re=!1}return re}finally{u=null,f=X,h=!1}}var T=!1,S=null,b=-1,M=5,E=-1;function O(){return!(n.unstable_now()-E<M)}function V(){if(S!==null){var P=n.unstable_now();E=P;var Y=!0;try{Y=S(!0,P)}finally{Y?I():(T=!1,S=null)}}else T=!1}var I;if(typeof y=="function")I=function(){y(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,C=N.port2;N.port1.onmessage=V,I=function(){C.postMessage(null)}}else I=function(){g(V,0)};function B(P){S=P,T||(T=!0,I())}function H(P,Y){b=g(function(){P(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){m||h||(m=!0,B(w))},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(P){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var X=f;f=Y;try{return P()}finally{f=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,Y){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=f;f=P;try{return Y()}finally{f=X}},n.unstable_scheduleCallback=function(P,Y,X){var $=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?$+X:$):X=$,P){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,P={id:d++,callback:Y,priorityLevel:P,startTime:X,expirationTime:Z,sortIndex:-1},X>$?(P.sortIndex=X,e(c,P),t(l)===null&&P===t(c)&&(p?(v(b),b=-1):p=!0,H(x,X-$))):(P.sortIndex=Z,e(l,P),m||h||(m=!0,B(w))),P},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(P){var Y=f;return function(){var X=f;f=Y;try{return P.apply(this,arguments)}finally{f=X}}}})(Pb);Db.exports=Pb;var IC=Db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=j,ci=IC;function me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lb=new Set,Ku={};function sa(n,e){vl(n,e),vl(n+"Capture",e)}function vl(n,e){for(Ku[n]=e,n=0;n<e.length;n++)Lb.add(e[n])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,NC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O_={},k_={};function zC(n){return Gm.call(k_,n)?!0:Gm.call(O_,n)?!1:NC.test(n)?k_[n]=!0:(O_[n]=!0,!1)}function BC(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function UC(n,e,t,i){if(e===null||typeof e>"u"||BC(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){fn[n]=new In(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];fn[e]=new In(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){fn[n]=new In(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){fn[n]=new In(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){fn[n]=new In(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){fn[n]=new In(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){fn[n]=new In(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){fn[n]=new In(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){fn[n]=new In(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ov=/[\-:]([a-z])/g;function kv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Ov,kv);fn[e]=new In(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Ov,kv);fn[e]=new In(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Ov,kv);fn[e]=new In(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){fn[n]=new In(n,1,!1,n.toLowerCase(),null,!1,!1)});fn.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){fn[n]=new In(n,1,!1,n.toLowerCase(),null,!0,!0)});function Iv(n,e,t,i){var r=fn.hasOwnProperty(e)?fn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UC(e,t,r,i)&&(t=null),i||r===null?zC(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ss=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qc=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),Rb=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),Nv=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),zv=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),kb=Symbol.for("react.offscreen"),I_=Symbol.iterator;function Jl(n){return n===null||typeof n!="object"?null:(n=I_&&n[I_]||n["@@iterator"],typeof n=="function"?n:null)}var Et=Object.assign,sp;function Tu(n){if(sp===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);sp=e&&e[1]||""}return`
`+sp+n}var op=!1;function ap(n,e){if(!n||op)return"";op=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{op=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Tu(n):""}function jC(n){switch(n.tag){case 5:return Tu(n.type);case 16:return Tu("Lazy");case 13:return Tu("Suspense");case 19:return Tu("SuspenseList");case 0:case 2:case 15:return n=ap(n.type,!1),n;case 11:return n=ap(n.type.render,!1),n;case 1:return n=ap(n.type,!0),n;default:return""}}function Ym(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Na:return"Fragment";case Fa:return"Portal";case $m:return"Profiler";case Fv:return"StrictMode";case Xm:return"Suspense";case qm:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ob:return(n.displayName||"Context")+".Consumer";case Rb:return(n._context.displayName||"Context")+".Provider";case Nv:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case zv:return e=n.displayName||null,e!==null?e:Ym(n.type)||"Memo";case ps:e=n._payload,n=n._init;try{return Ym(n(e))}catch{}}return null}function VC(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ym(e);case 8:return e===Fv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ib(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HC(n){var e=Ib(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Yc(n){n._valueTracker||(n._valueTracker=HC(n))}function Fb(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Ib(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function cd(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Km(n,e){var t=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function F_(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Vs(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nb(n,e){e=e.checked,e!=null&&Iv(n,"checked",e,!1)}function Jm(n,e){Nb(n,e);var t=Vs(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Zm(n,e.type,t):e.hasOwnProperty("defaultValue")&&Zm(n,e.type,Vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function N_(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Zm(n,e,t){(e!=="number"||cd(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Eu=Array.isArray;function nl(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Vs(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Qm(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function z_(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(me(92));if(Eu(t)){if(1<t.length)throw Error(me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Vs(t)}}function zb(n,e){var t=Vs(e.value),i=Vs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function B_(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Bb(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eg(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Bb(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kc,Ub=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ju(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ku={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WC=["Webkit","ms","Moz","O"];Object.keys(ku).forEach(function(n){WC.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ku[e]=ku[n]})});function jb(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ku.hasOwnProperty(n)&&ku[n]?(""+e).trim():e+"px"}function Vb(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=jb(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var GC=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tg(n,e){if(e){if(GC[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function ng(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=null;function Bv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rg=null,il=null,rl=null;function U_(n){if(n=Nc(n)){if(typeof rg!="function")throw Error(me(280));var e=n.stateNode;e&&(e=rh(e),rg(n.stateNode,n.type,e))}}function Hb(n){il?rl?rl.push(n):rl=[n]:il=n}function Wb(){if(il){var n=il,e=rl;if(rl=il=null,U_(n),e)for(n=0;n<e.length;n++)U_(e[n])}}function Gb(n,e){return n(e)}function $b(){}var lp=!1;function Xb(n,e,t){if(lp)return n(e,t);lp=!0;try{return Gb(n,e,t)}finally{lp=!1,(il!==null||rl!==null)&&($b(),Wb())}}function Zu(n,e){var t=n.stateNode;if(t===null)return null;var i=rh(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(me(231,e,typeof t));return t}var sg=!1;if(Zr)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){sg=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{sg=!1}function $C(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Iu=!1,fd=null,dd=!1,og=null,XC={onError:function(n){Iu=!0,fd=n}};function qC(n,e,t,i,r,s,o,a,l){Iu=!1,fd=null,$C.apply(XC,arguments)}function YC(n,e,t,i,r,s,o,a,l){if(qC.apply(this,arguments),Iu){if(Iu){var c=fd;Iu=!1,fd=null}else throw Error(me(198));dd||(dd=!0,og=c)}}function oa(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function qb(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function j_(n){if(oa(n)!==n)throw Error(me(188))}function KC(n){var e=n.alternate;if(!e){if(e=oa(n),e===null)throw Error(me(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return j_(r),n;if(s===i)return j_(r),e;s=s.sibling}throw Error(me(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(me(189))}}if(t.alternate!==i)throw Error(me(190))}if(t.tag!==3)throw Error(me(188));return t.stateNode.current===t?n:e}function Yb(n){return n=KC(n),n!==null?Kb(n):null}function Kb(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Kb(n);if(e!==null)return e;n=n.sibling}return null}var Jb=ci.unstable_scheduleCallback,V_=ci.unstable_cancelCallback,JC=ci.unstable_shouldYield,ZC=ci.unstable_requestPaint,Pt=ci.unstable_now,QC=ci.unstable_getCurrentPriorityLevel,Uv=ci.unstable_ImmediatePriority,Zb=ci.unstable_UserBlockingPriority,hd=ci.unstable_NormalPriority,eD=ci.unstable_LowPriority,Qb=ci.unstable_IdlePriority,eh=null,yr=null;function tD(n){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(eh,n,void 0,(n.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:rD,nD=Math.log,iD=Math.LN2;function rD(n){return n>>>=0,n===0?32:31-(nD(n)/iD|0)|0}var Jc=64,Zc=4194304;function Au(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function pd(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Au(a):(s&=o,s!==0&&(i=Au(s)))}else o=t&~r,o!==0?i=Au(o):s!==0&&(i=Au(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-nr(e),r=1<<t,i|=n[t],e&=~r;return i}function sD(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oD(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-nr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=sD(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function ag(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function eS(){var n=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),n}function up(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ic(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-nr(e),n[e]=t}function aD(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-nr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function jv(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-nr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var st=0;function tS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var nS,Vv,iS,rS,sS,lg=!1,Qc=[],Ds=null,Ps=null,Ls=null,Qu=new Map,ec=new Map,_s=[],lD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H_(n,e){switch(n){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function Ql(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Nc(e),e!==null&&Vv(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function uD(n,e,t,i,r){switch(e){case"focusin":return Ds=Ql(Ds,n,e,t,i,r),!0;case"dragenter":return Ps=Ql(Ps,n,e,t,i,r),!0;case"mouseover":return Ls=Ql(Ls,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Qu.set(s,Ql(Qu.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ec.set(s,Ql(ec.get(s)||null,n,e,t,i,r)),!0}return!1}function oS(n){var e=Do(n.target);if(e!==null){var t=oa(e);if(t!==null){if(e=t.tag,e===13){if(e=qb(t),e!==null){n.blockedOn=e,sS(n.priority,function(){iS(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=ug(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);ig=i,t.target.dispatchEvent(i),ig=null}else return e=Nc(t),e!==null&&Vv(e),n.blockedOn=t,!1;e.shift()}return!0}function W_(n,e,t){Xf(n)&&t.delete(e)}function cD(){lg=!1,Ds!==null&&Xf(Ds)&&(Ds=null),Ps!==null&&Xf(Ps)&&(Ps=null),Ls!==null&&Xf(Ls)&&(Ls=null),Qu.forEach(W_),ec.forEach(W_)}function eu(n,e){n.blockedOn===e&&(n.blockedOn=null,lg||(lg=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,cD)))}function tc(n){function e(r){return eu(r,n)}if(0<Qc.length){eu(Qc[0],n);for(var t=1;t<Qc.length;t++){var i=Qc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ds!==null&&eu(Ds,n),Ps!==null&&eu(Ps,n),Ls!==null&&eu(Ls,n),Qu.forEach(e),ec.forEach(e),t=0;t<_s.length;t++)i=_s[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<_s.length&&(t=_s[0],t.blockedOn===null);)oS(t),t.blockedOn===null&&_s.shift()}var sl=ss.ReactCurrentBatchConfig,md=!0;function fD(n,e,t,i){var r=st,s=sl.transition;sl.transition=null;try{st=1,Hv(n,e,t,i)}finally{st=r,sl.transition=s}}function dD(n,e,t,i){var r=st,s=sl.transition;sl.transition=null;try{st=4,Hv(n,e,t,i)}finally{st=r,sl.transition=s}}function Hv(n,e,t,i){if(md){var r=ug(n,e,t,i);if(r===null)yp(n,e,i,gd,t),H_(n,i);else if(uD(r,n,e,t,i))i.stopPropagation();else if(H_(n,i),e&4&&-1<lD.indexOf(n)){for(;r!==null;){var s=Nc(r);if(s!==null&&nS(s),s=ug(n,e,t,i),s===null&&yp(n,e,i,gd,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else yp(n,e,i,null,t)}}var gd=null;function ug(n,e,t,i){if(gd=null,n=Bv(i),n=Do(n),n!==null)if(e=oa(n),e===null)n=null;else if(t=e.tag,t===13){if(n=qb(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return gd=n,null}function aS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QC()){case Uv:return 1;case Zb:return 4;case hd:case eD:return 16;case Qb:return 536870912;default:return 16}default:return 16}}var bs=null,Wv=null,qf=null;function lS(){if(qf)return qf;var n,e=Wv,t=e.length,i,r="value"in bs?bs.value:bs.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return qf=r.slice(n,1<i?1-i:void 0)}function Yf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ef(){return!0}function G_(){return!1}function pi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ef:G_,this.isPropagationStopped=G_,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ef)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ef)},persist:function(){},isPersistent:ef}),e}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gv=pi(Ul),Fc=Et({},Ul,{view:0,detail:0}),hD=pi(Fc),cp,fp,tu,th=Et({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tu&&(tu&&n.type==="mousemove"?(cp=n.screenX-tu.screenX,fp=n.screenY-tu.screenY):fp=cp=0,tu=n),cp)},movementY:function(n){return"movementY"in n?n.movementY:fp}}),$_=pi(th),pD=Et({},th,{dataTransfer:0}),mD=pi(pD),gD=Et({},Fc,{relatedTarget:0}),dp=pi(gD),vD=Et({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),_D=pi(vD),yD=Et({},Ul,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xD=pi(yD),wD=Et({},Ul,{data:0}),X_=pi(wD),bD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TD(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=MD[n])?!!e[n]:!1}function $v(){return TD}var ED=Et({},Fc,{key:function(n){if(n.key){var e=bD[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Yf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?SD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(n){return n.type==="keypress"?Yf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),AD=pi(ED),CD=Et({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q_=pi(CD),DD=Et({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),PD=pi(DD),LD=Et({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),RD=pi(LD),OD=Et({},th,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kD=pi(OD),ID=[9,13,27,32],Xv=Zr&&"CompositionEvent"in window,Fu=null;Zr&&"documentMode"in document&&(Fu=document.documentMode);var FD=Zr&&"TextEvent"in window&&!Fu,uS=Zr&&(!Xv||Fu&&8<Fu&&11>=Fu),Y_=String.fromCharCode(32),K_=!1;function cS(n,e){switch(n){case"keyup":return ID.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var za=!1;function ND(n,e){switch(n){case"compositionend":return fS(e);case"keypress":return e.which!==32?null:(K_=!0,Y_);case"textInput":return n=e.data,n===Y_&&K_?null:n;default:return null}}function zD(n,e){if(za)return n==="compositionend"||!Xv&&cS(n,e)?(n=lS(),qf=Wv=bs=null,za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var BD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!BD[n.type]:e==="textarea"}function dS(n,e,t,i){Hb(i),e=vd(e,"onChange"),0<e.length&&(t=new Gv("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Nu=null,nc=null;function UD(n){SS(n,0)}function nh(n){var e=ja(n);if(Fb(e))return n}function jD(n,e){if(n==="change")return e}var hS=!1;if(Zr){var hp;if(Zr){var pp="oninput"in document;if(!pp){var Z_=document.createElement("div");Z_.setAttribute("oninput","return;"),pp=typeof Z_.oninput=="function"}hp=pp}else hp=!1;hS=hp&&(!document.documentMode||9<document.documentMode)}function Q_(){Nu&&(Nu.detachEvent("onpropertychange",pS),nc=Nu=null)}function pS(n){if(n.propertyName==="value"&&nh(nc)){var e=[];dS(e,nc,n,Bv(n)),Xb(UD,e)}}function VD(n,e,t){n==="focusin"?(Q_(),Nu=e,nc=t,Nu.attachEvent("onpropertychange",pS)):n==="focusout"&&Q_()}function HD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nh(nc)}function WD(n,e){if(n==="click")return nh(e)}function GD(n,e){if(n==="input"||n==="change")return nh(e)}function $D(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var sr=typeof Object.is=="function"?Object.is:$D;function ic(n,e){if(sr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Gm.call(e,r)||!sr(n[r],e[r]))return!1}return!0}function ey(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ty(n,e){var t=ey(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ey(t)}}function mS(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?mS(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function gS(){for(var n=window,e=cd();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=cd(n.document)}return e}function qv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function XD(n){var e=gS(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&mS(t.ownerDocument.documentElement,t)){if(i!==null&&qv(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=ty(t,s);var o=ty(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qD=Zr&&"documentMode"in document&&11>=document.documentMode,Ba=null,cg=null,zu=null,fg=!1;function ny(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;fg||Ba==null||Ba!==cd(i)||(i=Ba,"selectionStart"in i&&qv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zu&&ic(zu,i)||(zu=i,i=vd(cg,"onSelect"),0<i.length&&(e=new Gv("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ba)))}function tf(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ua={animationend:tf("Animation","AnimationEnd"),animationiteration:tf("Animation","AnimationIteration"),animationstart:tf("Animation","AnimationStart"),transitionend:tf("Transition","TransitionEnd")},mp={},vS={};Zr&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function ih(n){if(mp[n])return mp[n];if(!Ua[n])return n;var e=Ua[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in vS)return mp[n]=e[t];return n}var _S=ih("animationend"),yS=ih("animationiteration"),xS=ih("animationstart"),wS=ih("transitionend"),bS=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(n,e){bS.set(n,e),sa(e,[n])}for(var gp=0;gp<iy.length;gp++){var vp=iy[gp],YD=vp.toLowerCase(),KD=vp[0].toUpperCase()+vp.slice(1);Qs(YD,"on"+KD)}Qs(_S,"onAnimationEnd");Qs(yS,"onAnimationIteration");Qs(xS,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(wS,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function ry(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,YC(i,e,void 0,n),n.currentTarget=null}function SS(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;ry(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;ry(r,a,c),s=l}}}if(dd)throw n=og,dd=!1,og=null,n}function mt(n,e){var t=e[gg];t===void 0&&(t=e[gg]=new Set);var i=n+"__bubble";t.has(i)||(MS(e,n,2,!1),t.add(i))}function _p(n,e,t){var i=0;e&&(i|=4),MS(t,n,i,e)}var nf="_reactListening"+Math.random().toString(36).slice(2);function rc(n){if(!n[nf]){n[nf]=!0,Lb.forEach(function(t){t!=="selectionchange"&&(JD.has(t)||_p(t,!1,n),_p(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[nf]||(e[nf]=!0,_p("selectionchange",!1,e))}}function MS(n,e,t,i){switch(aS(e)){case 1:var r=fD;break;case 4:r=dD;break;default:r=Hv}t=r.bind(null,e,t,n),r=void 0,!sg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function yp(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Do(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Xb(function(){var c=s,d=Bv(t),u=[];e:{var f=bS.get(n);if(f!==void 0){var h=Gv,m=n;switch(n){case"keypress":if(Yf(t)===0)break e;case"keydown":case"keyup":h=AD;break;case"focusin":m="focus",h=dp;break;case"focusout":m="blur",h=dp;break;case"beforeblur":case"afterblur":h=dp;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=PD;break;case _S:case yS:case xS:h=_D;break;case wS:h=RD;break;case"scroll":h=hD;break;case"wheel":h=kD;break;case"copy":case"cut":case"paste":h=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=q_}var p=(e&4)!==0,g=!p&&n==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var y=c,_;y!==null;){_=y;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=Zu(y,v),x!=null&&p.push(sc(y,x,_)))),g)break;y=y.return}0<p.length&&(f=new h(f,m,null,t,d),u.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",f&&t!==ig&&(m=t.relatedTarget||t.fromElement)&&(Do(m)||m[Qr]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=t.relatedTarget||t.toElement,h=c,m=m?Do(m):null,m!==null&&(g=oa(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(p=$_,x="onMouseLeave",v="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(p=q_,x="onPointerLeave",v="onPointerEnter",y="pointer"),g=h==null?f:ja(h),_=m==null?f:ja(m),f=new p(x,y+"leave",h,t,d),f.target=g,f.relatedTarget=_,x=null,Do(d)===c&&(p=new p(v,y+"enter",m,t,d),p.target=_,p.relatedTarget=g,x=p),g=x,h&&m)t:{for(p=h,v=m,y=0,_=p;_;_=ma(_))y++;for(_=0,x=v;x;x=ma(x))_++;for(;0<y-_;)p=ma(p),y--;for(;0<_-y;)v=ma(v),_--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=ma(p),v=ma(v)}p=null}else p=null;h!==null&&sy(u,f,h,p,!1),m!==null&&g!==null&&sy(u,g,m,p,!0)}}e:{if(f=c?ja(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var w=jD;else if(J_(f))if(hS)w=GD;else{w=HD;var T=VD}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=WD);if(w&&(w=w(n,c))){dS(u,w,t,d);break e}T&&T(n,f,c),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Zm(f,"number",f.value)}switch(T=c?ja(c):window,n){case"focusin":(J_(T)||T.contentEditable==="true")&&(Ba=T,cg=c,zu=null);break;case"focusout":zu=cg=Ba=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,ny(u,t,d);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":ny(u,t,d)}var S;if(Xv)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else za?cS(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(uS&&t.locale!=="ko"&&(za||b!=="onCompositionStart"?b==="onCompositionEnd"&&za&&(S=lS()):(bs=d,Wv="value"in bs?bs.value:bs.textContent,za=!0)),T=vd(c,b),0<T.length&&(b=new X_(b,n,null,t,d),u.push({event:b,listeners:T}),S?b.data=S:(S=fS(t),S!==null&&(b.data=S)))),(S=FD?ND(n,t):zD(n,t))&&(c=vd(c,"onBeforeInput"),0<c.length&&(d=new X_("onBeforeInput","beforeinput",null,t,d),u.push({event:d,listeners:c}),d.data=S))}SS(u,e)})}function sc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function vd(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Zu(n,t),s!=null&&i.unshift(sc(n,s,r)),s=Zu(n,e),s!=null&&i.push(sc(n,s,r))),n=n.return}return i}function ma(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sy(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Zu(t,s),l!=null&&o.unshift(sc(t,l,a))):r||(l=Zu(t,s),l!=null&&o.push(sc(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var ZD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function oy(n){return(typeof n=="string"?n:""+n).replace(ZD,`
`).replace(QD,"")}function rf(n,e,t){if(e=oy(e),oy(n)!==e&&t)throw Error(me(425))}function _d(){}var dg=null,hg=null;function pg(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(n){return ay.resolve(null).then(n).catch(n2)}:mg;function n2(n){setTimeout(function(){throw n})}function xp(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),tc(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);tc(e)}function Rs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function ly(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var jl=Math.random().toString(36).slice(2),pr="__reactFiber$"+jl,oc="__reactProps$"+jl,Qr="__reactContainer$"+jl,gg="__reactEvents$"+jl,i2="__reactListeners$"+jl,r2="__reactHandles$"+jl;function Do(n){var e=n[pr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Qr]||t[pr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=ly(n);n!==null;){if(t=n[pr])return t;n=ly(n)}return e}n=t,t=n.parentNode}return null}function Nc(n){return n=n[pr]||n[Qr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ja(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(me(33))}function rh(n){return n[oc]||null}var vg=[],Va=-1;function eo(n){return{current:n}}function vt(n){0>Va||(n.current=vg[Va],vg[Va]=null,Va--)}function ht(n,e){Va++,vg[Va]=n.current,n.current=e}var Hs={},bn=eo(Hs),Vn=eo(!1),Go=Hs;function _l(n,e){var t=n.type.contextTypes;if(!t)return Hs;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Hn(n){return n=n.childContextTypes,n!=null}function yd(){vt(Vn),vt(bn)}function uy(n,e,t){if(bn.current!==Hs)throw Error(me(168));ht(bn,e),ht(Vn,t)}function TS(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(me(108,VC(n)||"Unknown",r));return Et({},t,i)}function xd(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Hs,Go=bn.current,ht(bn,n),ht(Vn,Vn.current),!0}function cy(n,e,t){var i=n.stateNode;if(!i)throw Error(me(169));t?(n=TS(n,e,Go),i.__reactInternalMemoizedMergedChildContext=n,vt(Vn),vt(bn),ht(bn,n)):vt(Vn),ht(Vn,t)}var Br=null,sh=!1,wp=!1;function ES(n){Br===null?Br=[n]:Br.push(n)}function s2(n){sh=!0,ES(n)}function to(){if(!wp&&Br!==null){wp=!0;var n=0,e=st;try{var t=Br;for(st=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Br=null,sh=!1}catch(r){throw Br!==null&&(Br=Br.slice(n+1)),Jb(Uv,to),r}finally{st=e,wp=!1}}return null}var Ha=[],Wa=0,wd=null,bd=0,Ei=[],Ai=0,$o=null,Vr=1,Hr="";function bo(n,e){Ha[Wa++]=bd,Ha[Wa++]=wd,wd=n,bd=e}function AS(n,e,t){Ei[Ai++]=Vr,Ei[Ai++]=Hr,Ei[Ai++]=$o,$o=n;var i=Vr;n=Hr;var r=32-nr(i)-1;i&=~(1<<r),t+=1;var s=32-nr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Vr=1<<32-nr(e)+r|t<<r|i,Hr=s+n}else Vr=1<<s|t<<r|i,Hr=n}function Yv(n){n.return!==null&&(bo(n,1),AS(n,1,0))}function Kv(n){for(;n===wd;)wd=Ha[--Wa],Ha[Wa]=null,bd=Ha[--Wa],Ha[Wa]=null;for(;n===$o;)$o=Ei[--Ai],Ei[Ai]=null,Hr=Ei[--Ai],Ei[Ai]=null,Vr=Ei[--Ai],Ei[Ai]=null}var oi=null,ri=null,xt=!1,Qi=null;function CS(n,e){var t=Pi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fy(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,oi=n,ri=Rs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,oi=n,ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=$o!==null?{id:Vr,overflow:Hr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Pi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,oi=n,ri=null,!0):!1;default:return!1}}function _g(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yg(n){if(xt){var e=ri;if(e){var t=e;if(!fy(n,e)){if(_g(n))throw Error(me(418));e=Rs(t.nextSibling);var i=oi;e&&fy(n,e)?CS(i,t):(n.flags=n.flags&-4097|2,xt=!1,oi=n)}}else{if(_g(n))throw Error(me(418));n.flags=n.flags&-4097|2,xt=!1,oi=n}}}function dy(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;oi=n}function sf(n){if(n!==oi)return!1;if(!xt)return dy(n),xt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!pg(n.type,n.memoizedProps)),e&&(e=ri)){if(_g(n))throw DS(),Error(me(418));for(;e;)CS(n,e),e=Rs(e.nextSibling)}if(dy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ri=Rs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ri=null}}else ri=oi?Rs(n.stateNode.nextSibling):null;return!0}function DS(){for(var n=ri;n;)n=Rs(n.nextSibling)}function yl(){ri=oi=null,xt=!1}function Jv(n){Qi===null?Qi=[n]:Qi.push(n)}var o2=ss.ReactCurrentBatchConfig;function nu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(me(309));var i=t.stateNode}if(!i)throw Error(me(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(me(284));if(!t._owner)throw Error(me(290,n))}return n}function of(n,e){throw n=Object.prototype.toString.call(e),Error(me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function hy(n){var e=n._init;return e(n._payload)}function PS(n){function e(v,y){if(n){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function t(v,y){if(!n)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=Fs(v,y),v.index=0,v.sibling=null,v}function s(v,y,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,y,_,x){return y===null||y.tag!==6?(y=Cp(_,v.mode,x),y.return=v,y):(y=r(y,_),y.return=v,y)}function l(v,y,_,x){var w=_.type;return w===Na?d(v,y,_.props.children,x,_.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ps&&hy(w)===y.type)?(x=r(y,_.props),x.ref=nu(v,y,_),x.return=v,x):(x=nd(_.type,_.key,_.props,null,v.mode,x),x.ref=nu(v,y,_),x.return=v,x)}function c(v,y,_,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Dp(_,v.mode,x),y.return=v,y):(y=r(y,_.children||[]),y.return=v,y)}function d(v,y,_,x,w){return y===null||y.tag!==7?(y=zo(_,v.mode,x,w),y.return=v,y):(y=r(y,_),y.return=v,y)}function u(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Cp(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qc:return _=nd(y.type,y.key,y.props,null,v.mode,_),_.ref=nu(v,null,y),_.return=v,_;case Fa:return y=Dp(y,v.mode,_),y.return=v,y;case ps:var x=y._init;return u(v,x(y._payload),_)}if(Eu(y)||Jl(y))return y=zo(y,v.mode,_,null),y.return=v,y;of(v,y)}return null}function f(v,y,_,x){var w=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:a(v,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qc:return _.key===w?l(v,y,_,x):null;case Fa:return _.key===w?c(v,y,_,x):null;case ps:return w=_._init,f(v,y,w(_._payload),x)}if(Eu(_)||Jl(_))return w!==null?null:d(v,y,_,x,null);of(v,_)}return null}function h(v,y,_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,a(y,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qc:return v=v.get(x.key===null?_:x.key)||null,l(y,v,x,w);case Fa:return v=v.get(x.key===null?_:x.key)||null,c(y,v,x,w);case ps:var T=x._init;return h(v,y,_,T(x._payload),w)}if(Eu(x)||Jl(x))return v=v.get(_)||null,d(y,v,x,w,null);of(y,x)}return null}function m(v,y,_,x){for(var w=null,T=null,S=y,b=y=0,M=null;S!==null&&b<_.length;b++){S.index>b?(M=S,S=null):M=S.sibling;var E=f(v,S,_[b],x);if(E===null){S===null&&(S=M);break}n&&S&&E.alternate===null&&e(v,S),y=s(E,y,b),T===null?w=E:T.sibling=E,T=E,S=M}if(b===_.length)return t(v,S),xt&&bo(v,b),w;if(S===null){for(;b<_.length;b++)S=u(v,_[b],x),S!==null&&(y=s(S,y,b),T===null?w=S:T.sibling=S,T=S);return xt&&bo(v,b),w}for(S=i(v,S);b<_.length;b++)M=h(S,v,b,_[b],x),M!==null&&(n&&M.alternate!==null&&S.delete(M.key===null?b:M.key),y=s(M,y,b),T===null?w=M:T.sibling=M,T=M);return n&&S.forEach(function(O){return e(v,O)}),xt&&bo(v,b),w}function p(v,y,_,x){var w=Jl(_);if(typeof w!="function")throw Error(me(150));if(_=w.call(_),_==null)throw Error(me(151));for(var T=w=null,S=y,b=y=0,M=null,E=_.next();S!==null&&!E.done;b++,E=_.next()){S.index>b?(M=S,S=null):M=S.sibling;var O=f(v,S,E.value,x);if(O===null){S===null&&(S=M);break}n&&S&&O.alternate===null&&e(v,S),y=s(O,y,b),T===null?w=O:T.sibling=O,T=O,S=M}if(E.done)return t(v,S),xt&&bo(v,b),w;if(S===null){for(;!E.done;b++,E=_.next())E=u(v,E.value,x),E!==null&&(y=s(E,y,b),T===null?w=E:T.sibling=E,T=E);return xt&&bo(v,b),w}for(S=i(v,S);!E.done;b++,E=_.next())E=h(S,v,b,E.value,x),E!==null&&(n&&E.alternate!==null&&S.delete(E.key===null?b:E.key),y=s(E,y,b),T===null?w=E:T.sibling=E,T=E);return n&&S.forEach(function(V){return e(v,V)}),xt&&bo(v,b),w}function g(v,y,_,x){if(typeof _=="object"&&_!==null&&_.type===Na&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case qc:e:{for(var w=_.key,T=y;T!==null;){if(T.key===w){if(w=_.type,w===Na){if(T.tag===7){t(v,T.sibling),y=r(T,_.props.children),y.return=v,v=y;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ps&&hy(w)===T.type){t(v,T.sibling),y=r(T,_.props),y.ref=nu(v,T,_),y.return=v,v=y;break e}t(v,T);break}else e(v,T);T=T.sibling}_.type===Na?(y=zo(_.props.children,v.mode,x,_.key),y.return=v,v=y):(x=nd(_.type,_.key,_.props,null,v.mode,x),x.ref=nu(v,y,_),x.return=v,v=x)}return o(v);case Fa:e:{for(T=_.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){t(v,y.sibling),y=r(y,_.children||[]),y.return=v,v=y;break e}else{t(v,y);break}else e(v,y);y=y.sibling}y=Dp(_,v.mode,x),y.return=v,v=y}return o(v);case ps:return T=_._init,g(v,y,T(_._payload),x)}if(Eu(_))return m(v,y,_,x);if(Jl(_))return p(v,y,_,x);of(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(t(v,y.sibling),y=r(y,_),y.return=v,v=y):(t(v,y),y=Cp(_,v.mode,x),y.return=v,v=y),o(v)):t(v,y)}return g}var xl=PS(!0),LS=PS(!1),Sd=eo(null),Md=null,Ga=null,Zv=null;function Qv(){Zv=Ga=Md=null}function e0(n){var e=Sd.current;vt(Sd),n._currentValue=e}function xg(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ol(n,e){Md=n,Zv=Ga=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(jn=!0),n.firstContext=null)}function Ni(n){var e=n._currentValue;if(Zv!==n)if(n={context:n,memoizedValue:e,next:null},Ga===null){if(Md===null)throw Error(me(308));Ga=n,Md.dependencies={lanes:0,firstContext:n}}else Ga=Ga.next=n;return e}var Po=null;function t0(n){Po===null?Po=[n]:Po.push(n)}function RS(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,t0(e)):(t.next=r.next,r.next=t),e.interleaved=t,es(n,i)}function es(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ms=!1;function n0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OS(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Xr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Os(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,et&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,es(n,t)}return r=i.interleaved,r===null?(e.next=e,t0(i)):(e.next=r.next,r.next=e),i.interleaved=e,es(n,t)}function Kf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,jv(n,t)}}function py(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Td(n,e,t,i){var r=n.updateQueue;ms=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=r.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,p=a;switch(f=e,h=t,p.tag){case 1:if(m=p.payload,typeof m=="function"){u=m.call(h,u,f);break e}u=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(h,u,f):m,f==null)break e;u=Et({},u,f);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=h,l=u):d=d.next=h,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(d===null&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qo|=o,n.lanes=o,n.memoizedState=u}}function my(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(me(191,r));r.call(i)}}}var zc={},xr=eo(zc),ac=eo(zc),lc=eo(zc);function Lo(n){if(n===zc)throw Error(me(174));return n}function i0(n,e){switch(ht(lc,e),ht(ac,n),ht(xr,zc),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eg(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=eg(e,n)}vt(xr),ht(xr,e)}function wl(){vt(xr),vt(ac),vt(lc)}function kS(n){Lo(lc.current);var e=Lo(xr.current),t=eg(e,n.type);e!==t&&(ht(ac,n),ht(xr,t))}function r0(n){ac.current===n&&(vt(xr),vt(ac))}var wt=eo(0);function Ed(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bp=[];function s0(){for(var n=0;n<bp.length;n++)bp[n]._workInProgressVersionPrimary=null;bp.length=0}var Jf=ss.ReactCurrentDispatcher,Sp=ss.ReactCurrentBatchConfig,Xo=0,Mt=null,Vt=null,Jt=null,Ad=!1,Bu=!1,uc=0,a2=0;function hn(){throw Error(me(321))}function o0(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!sr(n[t],e[t]))return!1;return!0}function a0(n,e,t,i,r,s){if(Xo=s,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jf.current=n===null||n.memoizedState===null?f2:d2,n=t(i,r),Bu){s=0;do{if(Bu=!1,uc=0,25<=s)throw Error(me(301));s+=1,Jt=Vt=null,e.updateQueue=null,Jf.current=h2,n=t(i,r)}while(Bu)}if(Jf.current=Cd,e=Vt!==null&&Vt.next!==null,Xo=0,Jt=Vt=Mt=null,Ad=!1,e)throw Error(me(300));return n}function l0(){var n=uc!==0;return uc=0,n}function fr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Mt.memoizedState=Jt=n:Jt=Jt.next=n,Jt}function zi(){if(Vt===null){var n=Mt.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var e=Jt===null?Mt.memoizedState:Jt.next;if(e!==null)Jt=e,Vt=n;else{if(n===null)throw Error(me(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Jt===null?Mt.memoizedState=Jt=n:Jt=Jt.next=n}return Jt}function cc(n,e){return typeof e=="function"?e(n):e}function Mp(n){var e=zi(),t=e.queue;if(t===null)throw Error(me(311));t.lastRenderedReducer=n;var i=Vt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Xo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=i):l=l.next=u,Mt.lanes|=d,qo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,sr(i,e.memoizedState)||(jn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Mt.lanes|=s,qo|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Tp(n){var e=zi(),t=e.queue;if(t===null)throw Error(me(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);sr(s,e.memoizedState)||(jn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function IS(){}function FS(n,e){var t=Mt,i=zi(),r=e(),s=!sr(i.memoizedState,r);if(s&&(i.memoizedState=r,jn=!0),i=i.queue,u0(BS.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(t.flags|=2048,fc(9,zS.bind(null,t,i,r,e),void 0,null),nn===null)throw Error(me(349));Xo&30||NS(t,e,r)}return r}function NS(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function zS(n,e,t,i){e.value=t,e.getSnapshot=i,US(e)&&jS(n)}function BS(n,e,t){return t(function(){US(e)&&jS(n)})}function US(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!sr(n,t)}catch{return!0}}function jS(n){var e=es(n,1);e!==null&&ir(e,n,1,-1)}function gy(n){var e=fr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:n},e.queue=n,n=n.dispatch=c2.bind(null,Mt,n),[e.memoizedState,n]}function fc(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function VS(){return zi().memoizedState}function Zf(n,e,t,i){var r=fr();Mt.flags|=n,r.memoizedState=fc(1|e,t,void 0,i===void 0?null:i)}function oh(n,e,t,i){var r=zi();i=i===void 0?null:i;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,i!==null&&o0(i,o.deps)){r.memoizedState=fc(e,t,s,i);return}}Mt.flags|=n,r.memoizedState=fc(1|e,t,s,i)}function vy(n,e){return Zf(8390656,8,n,e)}function u0(n,e){return oh(2048,8,n,e)}function HS(n,e){return oh(4,2,n,e)}function WS(n,e){return oh(4,4,n,e)}function GS(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function $S(n,e,t){return t=t!=null?t.concat([n]):null,oh(4,4,GS.bind(null,e,n),t)}function c0(){}function XS(n,e){var t=zi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&o0(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function qS(n,e){var t=zi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&o0(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function YS(n,e,t){return Xo&21?(sr(t,e)||(t=eS(),Mt.lanes|=t,qo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,jn=!0),n.memoizedState=t)}function l2(n,e){var t=st;st=t!==0&&4>t?t:4,n(!0);var i=Sp.transition;Sp.transition={};try{n(!1),e()}finally{st=t,Sp.transition=i}}function KS(){return zi().memoizedState}function u2(n,e,t){var i=Is(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},JS(n))ZS(e,t);else if(t=RS(n,e,t,i),t!==null){var r=On();ir(t,n,i,r),QS(t,e,i)}}function c2(n,e,t){var i=Is(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(JS(n))ZS(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,sr(a,o)){var l=e.interleaved;l===null?(r.next=r,t0(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=RS(n,e,r,i),t!==null&&(r=On(),ir(t,n,i,r),QS(t,e,i))}}function JS(n){var e=n.alternate;return n===Mt||e!==null&&e===Mt}function ZS(n,e){Bu=Ad=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function QS(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,jv(n,t)}}var Cd={readContext:Ni,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},f2={readContext:Ni,useCallback:function(n,e){return fr().memoizedState=[n,e===void 0?null:e],n},useContext:Ni,useEffect:vy,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Zf(4194308,4,GS.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Zf(4194308,4,n,e)},useInsertionEffect:function(n,e){return Zf(4,2,n,e)},useMemo:function(n,e){var t=fr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=fr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=u2.bind(null,Mt,n),[i.memoizedState,n]},useRef:function(n){var e=fr();return n={current:n},e.memoizedState=n},useState:gy,useDebugValue:c0,useDeferredValue:function(n){return fr().memoizedState=n},useTransition:function(){var n=gy(!1),e=n[0];return n=l2.bind(null,n[1]),fr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Mt,r=fr();if(xt){if(t===void 0)throw Error(me(407));t=t()}else{if(t=e(),nn===null)throw Error(me(349));Xo&30||NS(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,vy(BS.bind(null,i,s,n),[n]),i.flags|=2048,fc(9,zS.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=fr(),e=nn.identifierPrefix;if(xt){var t=Hr,i=Vr;t=(i&~(1<<32-nr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=uc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=a2++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},d2={readContext:Ni,useCallback:XS,useContext:Ni,useEffect:u0,useImperativeHandle:$S,useInsertionEffect:HS,useLayoutEffect:WS,useMemo:qS,useReducer:Mp,useRef:VS,useState:function(){return Mp(cc)},useDebugValue:c0,useDeferredValue:function(n){var e=zi();return YS(e,Vt.memoizedState,n)},useTransition:function(){var n=Mp(cc)[0],e=zi().memoizedState;return[n,e]},useMutableSource:IS,useSyncExternalStore:FS,useId:KS,unstable_isNewReconciler:!1},h2={readContext:Ni,useCallback:XS,useContext:Ni,useEffect:u0,useImperativeHandle:$S,useInsertionEffect:HS,useLayoutEffect:WS,useMemo:qS,useReducer:Tp,useRef:VS,useState:function(){return Tp(cc)},useDebugValue:c0,useDeferredValue:function(n){var e=zi();return Vt===null?e.memoizedState=n:YS(e,Vt.memoizedState,n)},useTransition:function(){var n=Tp(cc)[0],e=zi().memoizedState;return[n,e]},useMutableSource:IS,useSyncExternalStore:FS,useId:KS,unstable_isNewReconciler:!1};function Ji(n,e){if(n&&n.defaultProps){e=Et({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function wg(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Et({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ah={isMounted:function(n){return(n=n._reactInternals)?oa(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=On(),r=Is(n),s=Xr(i,r);s.payload=e,t!=null&&(s.callback=t),e=Os(n,s,r),e!==null&&(ir(e,n,r,i),Kf(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=On(),r=Is(n),s=Xr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Os(n,s,r),e!==null&&(ir(e,n,r,i),Kf(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=On(),i=Is(n),r=Xr(t,i);r.tag=2,e!=null&&(r.callback=e),e=Os(n,r,i),e!==null&&(ir(e,n,i,t),Kf(e,n,i))}};function _y(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!ic(t,i)||!ic(r,s):!0}function eM(n,e,t){var i=!1,r=Hs,s=e.contextType;return typeof s=="object"&&s!==null?s=Ni(s):(r=Hn(e)?Go:bn.current,i=e.contextTypes,s=(i=i!=null)?_l(n,r):Hs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function yy(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&ah.enqueueReplaceState(e,e.state,null)}function bg(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},n0(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Ni(s):(s=Hn(e)?Go:bn.current,r.context=_l(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wg(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ah.enqueueReplaceState(r,r.state,null),Td(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function bl(n,e){try{var t="",i=e;do t+=jC(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Ep(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Sg(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var p2=typeof WeakMap=="function"?WeakMap:Map;function tM(n,e,t){t=Xr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Pd||(Pd=!0,Og=i),Sg(n,e)},t}function nM(n,e,t){t=Xr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Sg(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Sg(n,e),typeof i!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function xy(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new p2;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=C2.bind(null,n,e,t),e.then(n,n))}function wy(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function by(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Xr(-1,1),e.tag=2,Os(t,e,1))),t.lanes|=1),n)}var m2=ss.ReactCurrentOwner,jn=!1;function Pn(n,e,t,i){e.child=n===null?LS(e,null,t,i):xl(e,n.child,t,i)}function Sy(n,e,t,i,r){t=t.render;var s=e.ref;return ol(e,r),i=a0(n,e,t,i,s,r),t=l0(),n!==null&&!jn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ts(n,e,r)):(xt&&t&&Yv(e),e.flags|=1,Pn(n,e,i,r),e.child)}function My(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!_0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,iM(n,e,s,i,r)):(n=nd(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:ic,t(o,i)&&n.ref===e.ref)return ts(n,e,r)}return e.flags|=1,n=Fs(s,i),n.ref=e.ref,n.return=e,e.child=n}function iM(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(ic(s,i)&&n.ref===e.ref)if(jn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(jn=!0);else return e.lanes=n.lanes,ts(n,e,r)}return Mg(n,e,t,i,r)}function rM(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Xa,ei),ei|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ht(Xa,ei),ei|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,ht(Xa,ei),ei|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,ht(Xa,ei),ei|=i;return Pn(n,e,r,t),e.child}function sM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Mg(n,e,t,i,r){var s=Hn(t)?Go:bn.current;return s=_l(e,s),ol(e,r),t=a0(n,e,t,i,s,r),i=l0(),n!==null&&!jn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ts(n,e,r)):(xt&&i&&Yv(e),e.flags|=1,Pn(n,e,t,r),e.child)}function Ty(n,e,t,i,r){if(Hn(t)){var s=!0;xd(e)}else s=!1;if(ol(e,r),e.stateNode===null)Qf(n,e),eM(e,t,i),bg(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ni(c):(c=Hn(t)?Go:bn.current,c=_l(e,c));var d=t.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&yy(e,o,i,c),ms=!1;var f=e.memoizedState;o.state=f,Td(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Vn.current||ms?(typeof d=="function"&&(wg(e,t,d,i),l=e.memoizedState),(a=ms||_y(e,t,a,i,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,OS(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ji(e.type,a),o.props=c,u=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ni(l):(l=Hn(t)?Go:bn.current,l=_l(e,l));var h=t.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&yy(e,o,i,l),ms=!1,f=e.memoizedState,o.state=f,Td(e,i,o,r);var m=e.memoizedState;a!==u||f!==m||Vn.current||ms?(typeof h=="function"&&(wg(e,t,h,i),m=e.memoizedState),(c=ms||_y(e,t,c,i,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return Tg(n,e,t,i,s,r)}function Tg(n,e,t,i,r,s){sM(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&cy(e,t,!1),ts(n,e,s);i=e.stateNode,m2.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=xl(e,n.child,null,s),e.child=xl(e,null,a,s)):Pn(n,e,a,s),e.memoizedState=i.state,r&&cy(e,t,!0),e.child}function oM(n){var e=n.stateNode;e.pendingContext?uy(n,e.pendingContext,e.pendingContext!==e.context):e.context&&uy(n,e.context,!1),i0(n,e.containerInfo)}function Ey(n,e,t,i,r){return yl(),Jv(r),e.flags|=256,Pn(n,e,t,i),e.child}var Eg={dehydrated:null,treeContext:null,retryLane:0};function Ag(n){return{baseLanes:n,cachePool:null,transitions:null}}function aM(n,e,t){var i=e.pendingProps,r=wt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),ht(wt,r&1),n===null)return yg(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ch(o,i,0,null),n=zo(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Ag(t),e.memoizedState=Eg,n):f0(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return g2(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Fs(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Fs(a,s):(s=zo(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Ag(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Eg,i}return s=n.child,n=s.sibling,i=Fs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function f0(n,e){return e=ch({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function af(n,e,t,i){return i!==null&&Jv(i),xl(e,n.child,null,t),n=f0(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function g2(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Ep(Error(me(422))),af(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ch({mode:"visible",children:i.children},r,0,null),s=zo(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&xl(e,n.child,null,o),e.child.memoizedState=Ag(o),e.memoizedState=Eg,s);if(!(e.mode&1))return af(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(me(419)),i=Ep(s,i,void 0),af(n,e,o,i)}if(a=(o&n.childLanes)!==0,jn||a){if(i=nn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,es(n,r),ir(i,n,r,-1))}return v0(),i=Ep(Error(me(421))),af(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=D2.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ri=Rs(r.nextSibling),oi=e,xt=!0,Qi=null,n!==null&&(Ei[Ai++]=Vr,Ei[Ai++]=Hr,Ei[Ai++]=$o,Vr=n.id,Hr=n.overflow,$o=e),e=f0(e,i.children),e.flags|=4096,e)}function Ay(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),xg(n.return,e,t)}function Ap(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function lM(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Pn(n,e,i.children,t),i=wt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ay(n,t,e);else if(n.tag===19)Ay(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(ht(wt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Ed(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ap(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Ed(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ap(e,!0,t,null,s);break;case"together":Ap(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ts(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),qo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(me(153));if(e.child!==null){for(n=e.child,t=Fs(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Fs(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function v2(n,e,t){switch(e.tag){case 3:oM(e),yl();break;case 5:kS(e);break;case 1:Hn(e.type)&&xd(e);break;case 4:i0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ht(Sd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ht(wt,wt.current&1),e.flags|=128,null):t&e.child.childLanes?aM(n,e,t):(ht(wt,wt.current&1),n=ts(n,e,t),n!==null?n.sibling:null);ht(wt,wt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return lM(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ht(wt,wt.current),i)break;return null;case 22:case 23:return e.lanes=0,rM(n,e,t)}return ts(n,e,t)}var uM,Cg,cM,fM;uM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Cg=function(){};cM=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Lo(xr.current);var s=null;switch(t){case"input":r=Km(n,r),i=Km(n,i),s=[];break;case"select":r=Et({},r,{value:void 0}),i=Et({},i,{value:void 0}),s=[];break;case"textarea":r=Qm(n,r),i=Qm(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=_d)}tg(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ku.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ku.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};fM=function(n,e,t,i){t!==i&&(e.flags|=4)};function iu(n,e){if(!xt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function pn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function _2(n,e,t){var i=e.pendingProps;switch(Kv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Hn(e.type)&&yd(),pn(e),null;case 3:return i=e.stateNode,wl(),vt(Vn),vt(bn),s0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(sf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(Fg(Qi),Qi=null))),Cg(n,e),pn(e),null;case 5:r0(e);var r=Lo(lc.current);if(t=e.type,n!==null&&e.stateNode!=null)cM(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(me(166));return pn(e),null}if(n=Lo(xr.current),sf(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[pr]=e,i[oc]=s,n=(e.mode&1)!==0,t){case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":case"embed":mt("load",i);break;case"video":case"audio":for(r=0;r<Cu.length;r++)mt(Cu[r],i);break;case"source":mt("error",i);break;case"img":case"image":case"link":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"input":F_(i,s),mt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},mt("invalid",i);break;case"textarea":z_(i,s),mt("invalid",i)}tg(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&rf(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rf(i.textContent,a,n),r=["children",""+a]):Ku.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&mt("scroll",i)}switch(t){case"input":Yc(i),N_(i,s,!0);break;case"textarea":Yc(i),B_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=_d)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Bb(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[pr]=e,n[oc]=i,uM(n,e,!1,!1),e.stateNode=n;e:{switch(o=ng(t,i),t){case"dialog":mt("cancel",n),mt("close",n),r=i;break;case"iframe":case"object":case"embed":mt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Cu.length;r++)mt(Cu[r],n);r=i;break;case"source":mt("error",n),r=i;break;case"img":case"image":case"link":mt("error",n),mt("load",n),r=i;break;case"details":mt("toggle",n),r=i;break;case"input":F_(n,i),r=Km(n,i),mt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Et({},i,{value:void 0}),mt("invalid",n);break;case"textarea":z_(n,i),r=Qm(n,i),mt("invalid",n);break;default:r=i}tg(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Vb(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ub(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ju(n,l):typeof l=="number"&&Ju(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ku.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mt("scroll",n):l!=null&&Iv(n,s,l,o))}switch(t){case"input":Yc(n),N_(n,i,!1);break;case"textarea":Yc(n),B_(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Vs(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?nl(n,!!i.multiple,s,!1):i.defaultValue!=null&&nl(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=_d)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(n&&e.stateNode!=null)fM(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(me(166));if(t=Lo(lc.current),Lo(xr.current),sf(e)){if(i=e.stateNode,t=e.memoizedProps,i[pr]=e,(s=i.nodeValue!==t)&&(n=oi,n!==null))switch(n.tag){case 3:rf(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&rf(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[pr]=e,e.stateNode=i}return pn(e),null;case 13:if(vt(wt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(xt&&ri!==null&&e.mode&1&&!(e.flags&128))DS(),yl(),e.flags|=98560,s=!1;else if(s=sf(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[pr]=e}else yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),s=!1}else Qi!==null&&(Fg(Qi),Qi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||wt.current&1?Ht===0&&(Ht=3):v0())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return wl(),Cg(n,e),n===null&&rc(e.stateNode.containerInfo),pn(e),null;case 10:return e0(e.type._context),pn(e),null;case 17:return Hn(e.type)&&yd(),pn(e),null;case 19:if(vt(wt),s=e.memoizedState,s===null)return pn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)iu(s,!1);else{if(Ht!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ed(n),o!==null){for(e.flags|=128,iu(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ht(wt,wt.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pt()>Sl&&(e.flags|=128,i=!0,iu(s,!1),e.lanes=4194304)}else{if(!i)if(n=Ed(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),iu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xt)return pn(e),null}else 2*Pt()-s.renderingStartTime>Sl&&t!==1073741824&&(e.flags|=128,i=!0,iu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,t=wt.current,ht(wt,i?t&1|2:t&1),e):(pn(e),null);case 22:case 23:return g0(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ei&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function y2(n,e){switch(Kv(e),e.tag){case 1:return Hn(e.type)&&yd(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return wl(),vt(Vn),vt(bn),s0(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return r0(e),null;case 13:if(vt(wt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(me(340));yl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return vt(wt),null;case 4:return wl(),null;case 10:return e0(e.type._context),null;case 22:case 23:return g0(),null;case 24:return null;default:return null}}var lf=!1,_n=!1,x2=typeof WeakSet=="function"?WeakSet:Set,De=null;function $a(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Ct(n,e,i)}else t.current=null}function Dg(n,e,t){try{t()}catch(i){Ct(n,e,i)}}var Cy=!1;function w2(n,e){if(dg=md,n=gS(),qv(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=n,f=null;t:for(;;){for(var h;u!==t||r!==0&&u.nodeType!==3||(a=o+r),u!==s||i!==0&&u.nodeType!==3||(l=o+i),u.nodeType===3&&(o+=u.nodeValue.length),(h=u.firstChild)!==null;)f=u,u=h;for(;;){if(u===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++d===i&&(l=o),(h=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=h}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(hg={focusedElem:n,selectionRange:t},md=!1,De=e;De!==null;)if(e=De,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,De=n;else for(;De!==null;){e=De;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?p:Ji(e.type,p),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(x){Ct(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}return m=Cy,Cy=!1,m}function Uu(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Dg(e,t,s)}r=r.next}while(r!==i)}}function lh(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Pg(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function dM(n){var e=n.alternate;e!==null&&(n.alternate=null,dM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[pr],delete e[oc],delete e[gg],delete e[i2],delete e[r2])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function hM(n){return n.tag===5||n.tag===3||n.tag===4}function Dy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=_d));else if(i!==4&&(n=n.child,n!==null))for(Lg(n,e,t),n=n.sibling;n!==null;)Lg(n,e,t),n=n.sibling}function Rg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Rg(n,e,t),n=n.sibling;n!==null;)Rg(n,e,t),n=n.sibling}var an=null,Zi=!1;function ls(n,e,t){for(t=t.child;t!==null;)pM(n,e,t),t=t.sibling}function pM(n,e,t){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(eh,t)}catch{}switch(t.tag){case 5:_n||$a(t,e);case 6:var i=an,r=Zi;an=null,ls(n,e,t),an=i,Zi=r,an!==null&&(Zi?(n=an,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):an.removeChild(t.stateNode));break;case 18:an!==null&&(Zi?(n=an,t=t.stateNode,n.nodeType===8?xp(n.parentNode,t):n.nodeType===1&&xp(n,t),tc(n)):xp(an,t.stateNode));break;case 4:i=an,r=Zi,an=t.stateNode.containerInfo,Zi=!0,ls(n,e,t),an=i,Zi=r;break;case 0:case 11:case 14:case 15:if(!_n&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dg(t,e,o),r=r.next}while(r!==i)}ls(n,e,t);break;case 1:if(!_n&&($a(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Ct(t,e,a)}ls(n,e,t);break;case 21:ls(n,e,t);break;case 22:t.mode&1?(_n=(i=_n)||t.memoizedState!==null,ls(n,e,t),_n=i):ls(n,e,t);break;default:ls(n,e,t)}}function Py(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new x2),e.forEach(function(i){var r=P2.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Gi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:an=a.stateNode,Zi=!1;break e;case 3:an=a.stateNode.containerInfo,Zi=!0;break e;case 4:an=a.stateNode.containerInfo,Zi=!0;break e}a=a.return}if(an===null)throw Error(me(160));pM(s,o,r),an=null,Zi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ct(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mM(e,n),e=e.sibling}function mM(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Gi(e,n),ar(n),i&4){try{Uu(3,n,n.return),lh(3,n)}catch(p){Ct(n,n.return,p)}try{Uu(5,n,n.return)}catch(p){Ct(n,n.return,p)}}break;case 1:Gi(e,n),ar(n),i&512&&t!==null&&$a(t,t.return);break;case 5:if(Gi(e,n),ar(n),i&512&&t!==null&&$a(t,t.return),n.flags&32){var r=n.stateNode;try{Ju(r,"")}catch(p){Ct(n,n.return,p)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nb(r,s),ng(a,o);var c=ng(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?Vb(r,u):d==="dangerouslySetInnerHTML"?Ub(r,u):d==="children"?Ju(r,u):Iv(r,d,u,c)}switch(a){case"input":Jm(r,s);break;case"textarea":zb(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?nl(r,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?nl(r,!!s.multiple,s.defaultValue,!0):nl(r,!!s.multiple,s.multiple?[]:"",!1))}r[oc]=s}catch(p){Ct(n,n.return,p)}}break;case 6:if(Gi(e,n),ar(n),i&4){if(n.stateNode===null)throw Error(me(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(p){Ct(n,n.return,p)}}break;case 3:if(Gi(e,n),ar(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{tc(e.containerInfo)}catch(p){Ct(n,n.return,p)}break;case 4:Gi(e,n),ar(n);break;case 13:Gi(e,n),ar(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(p0=Pt())),i&4&&Py(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(_n=(c=_n)||d,Gi(e,n),_n=c):Gi(e,n),ar(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(De=n,d=n.child;d!==null;){for(u=De=d;De!==null;){switch(f=De,h=f.child,f.tag){case 0:case 11:case 14:case 15:Uu(4,f,f.return);break;case 1:$a(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Ct(i,t,p)}}break;case 5:$a(f,f.return);break;case 22:if(f.memoizedState!==null){Ry(u);continue}}h!==null?(h.return=f,De=h):Ry(u)}d=d.sibling}e:for(d=null,u=n;;){if(u.tag===5){if(d===null){d=u;try{r=u.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jb("display",o))}catch(p){Ct(n,n.return,p)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(p){Ct(n,n.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===n)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Gi(e,n),ar(n),i&4&&Py(n);break;case 21:break;default:Gi(e,n),ar(n)}}function ar(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(hM(t)){var i=t;break e}t=t.return}throw Error(me(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ju(r,""),i.flags&=-33);var s=Dy(n);Rg(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Dy(n);Lg(n,a,o);break;default:throw Error(me(161))}}catch(l){Ct(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function b2(n,e,t){De=n,gM(n)}function gM(n,e,t){for(var i=(n.mode&1)!==0;De!==null;){var r=De,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||lf;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||_n;a=lf;var c=_n;if(lf=o,(_n=l)&&!c)for(De=r;De!==null;)o=De,l=o.child,o.tag===22&&o.memoizedState!==null?Oy(r):l!==null?(l.return=o,De=l):Oy(r);for(;s!==null;)De=s,gM(s),s=s.sibling;De=r,lf=a,_n=c}Ly(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,De=s):Ly(n)}}function Ly(n){for(;De!==null;){var e=De;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_n||lh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_n)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ji(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&my(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}my(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&tc(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}_n||e.flags&512&&Pg(e)}catch(f){Ct(e,e.return,f)}}if(e===n){De=null;break}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function Ry(n){for(;De!==null;){var e=De;if(e===n){De=null;break}var t=e.sibling;if(t!==null){t.return=e.return,De=t;break}De=e.return}}function Oy(n){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{lh(4,e)}catch(l){Ct(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ct(e,r,l)}}var s=e.return;try{Pg(e)}catch(l){Ct(e,s,l)}break;case 5:var o=e.return;try{Pg(e)}catch(l){Ct(e,o,l)}}}catch(l){Ct(e,e.return,l)}if(e===n){De=null;break}var a=e.sibling;if(a!==null){a.return=e.return,De=a;break}De=e.return}}var S2=Math.ceil,Dd=ss.ReactCurrentDispatcher,d0=ss.ReactCurrentOwner,ki=ss.ReactCurrentBatchConfig,et=0,nn=null,Bt=null,cn=0,ei=0,Xa=eo(0),Ht=0,dc=null,qo=0,uh=0,h0=0,ju=null,zn=null,p0=0,Sl=1/0,Nr=null,Pd=!1,Og=null,ks=null,uf=!1,Ss=null,Ld=0,Vu=0,kg=null,ed=-1,td=0;function On(){return et&6?Pt():ed!==-1?ed:ed=Pt()}function Is(n){return n.mode&1?et&2&&cn!==0?cn&-cn:o2.transition!==null?(td===0&&(td=eS()),td):(n=st,n!==0||(n=window.event,n=n===void 0?16:aS(n.type)),n):1}function ir(n,e,t,i){if(50<Vu)throw Vu=0,kg=null,Error(me(185));Ic(n,t,i),(!(et&2)||n!==nn)&&(n===nn&&(!(et&2)&&(uh|=t),Ht===4&&ys(n,cn)),Wn(n,i),t===1&&et===0&&!(e.mode&1)&&(Sl=Pt()+500,sh&&to()))}function Wn(n,e){var t=n.callbackNode;oD(n,e);var i=pd(n,n===nn?cn:0);if(i===0)t!==null&&V_(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&V_(t),e===1)n.tag===0?s2(ky.bind(null,n)):ES(ky.bind(null,n)),t2(function(){!(et&6)&&to()}),t=null;else{switch(tS(i)){case 1:t=Uv;break;case 4:t=Zb;break;case 16:t=hd;break;case 536870912:t=Qb;break;default:t=hd}t=MM(t,vM.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function vM(n,e){if(ed=-1,td=0,et&6)throw Error(me(327));var t=n.callbackNode;if(al()&&n.callbackNode!==t)return null;var i=pd(n,n===nn?cn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Rd(n,i);else{e=i;var r=et;et|=2;var s=yM();(nn!==n||cn!==e)&&(Nr=null,Sl=Pt()+500,No(n,e));do try{E2();break}catch(a){_M(n,a)}while(1);Qv(),Dd.current=s,et=r,Bt!==null?e=0:(nn=null,cn=0,e=Ht)}if(e!==0){if(e===2&&(r=ag(n),r!==0&&(i=r,e=Ig(n,r))),e===1)throw t=dc,No(n,0),ys(n,i),Wn(n,Pt()),t;if(e===6)ys(n,i);else{if(r=n.current.alternate,!(i&30)&&!M2(r)&&(e=Rd(n,i),e===2&&(s=ag(n),s!==0&&(i=s,e=Ig(n,s))),e===1))throw t=dc,No(n,0),ys(n,i),Wn(n,Pt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(me(345));case 2:So(n,zn,Nr);break;case 3:if(ys(n,i),(i&130023424)===i&&(e=p0+500-Pt(),10<e)){if(pd(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){On(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=mg(So.bind(null,n,zn,Nr),e);break}So(n,zn,Nr);break;case 4:if(ys(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-nr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Pt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*S2(i/1960))-i,10<i){n.timeoutHandle=mg(So.bind(null,n,zn,Nr),i);break}So(n,zn,Nr);break;case 5:So(n,zn,Nr);break;default:throw Error(me(329))}}}return Wn(n,Pt()),n.callbackNode===t?vM.bind(null,n):null}function Ig(n,e){var t=ju;return n.current.memoizedState.isDehydrated&&(No(n,e).flags|=256),n=Rd(n,e),n!==2&&(e=zn,zn=t,e!==null&&Fg(e)),n}function Fg(n){zn===null?zn=n:zn.push.apply(zn,n)}function M2(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!sr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ys(n,e){for(e&=~h0,e&=~uh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-nr(e),i=1<<t;n[t]=-1,e&=~i}}function ky(n){if(et&6)throw Error(me(327));al();var e=pd(n,0);if(!(e&1))return Wn(n,Pt()),null;var t=Rd(n,e);if(n.tag!==0&&t===2){var i=ag(n);i!==0&&(e=i,t=Ig(n,i))}if(t===1)throw t=dc,No(n,0),ys(n,e),Wn(n,Pt()),t;if(t===6)throw Error(me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,So(n,zn,Nr),Wn(n,Pt()),null}function m0(n,e){var t=et;et|=1;try{return n(e)}finally{et=t,et===0&&(Sl=Pt()+500,sh&&to())}}function Yo(n){Ss!==null&&Ss.tag===0&&!(et&6)&&al();var e=et;et|=1;var t=ki.transition,i=st;try{if(ki.transition=null,st=1,n)return n()}finally{st=i,ki.transition=t,et=e,!(et&6)&&to()}}function g0(){ei=Xa.current,vt(Xa)}function No(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,e2(t)),Bt!==null)for(t=Bt.return;t!==null;){var i=t;switch(Kv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yd();break;case 3:wl(),vt(Vn),vt(bn),s0();break;case 5:r0(i);break;case 4:wl();break;case 13:vt(wt);break;case 19:vt(wt);break;case 10:e0(i.type._context);break;case 22:case 23:g0()}t=t.return}if(nn=n,Bt=n=Fs(n.current,null),cn=ei=e,Ht=0,dc=null,h0=uh=qo=0,zn=ju=null,Po!==null){for(e=0;e<Po.length;e++)if(t=Po[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Po=null}return n}function _M(n,e){do{var t=Bt;try{if(Qv(),Jf.current=Cd,Ad){for(var i=Mt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ad=!1}if(Xo=0,Jt=Vt=Mt=null,Bu=!1,uc=0,d0.current=null,t===null||t.return===null){Ht=1,dc=e,Bt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=cn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=wy(o);if(h!==null){h.flags&=-257,by(h,o,a,s,e),h.mode&1&&xy(s,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){xy(s,c,e),v0();break e}l=Error(me(426))}}else if(xt&&a.mode&1){var g=wy(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),by(g,o,a,s,e),Jv(bl(l,a));break e}}s=l=bl(l,a),Ht!==4&&(Ht=2),ju===null?ju=[s]:ju.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=tM(s,l,e);py(s,v);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ks===null||!ks.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=nM(s,a,e);py(s,x);break e}}s=s.return}while(s!==null)}wM(t)}catch(w){e=w,Bt===t&&t!==null&&(Bt=t=t.return);continue}break}while(1)}function yM(){var n=Dd.current;return Dd.current=Cd,n===null?Cd:n}function v0(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),nn===null||!(qo&268435455)&&!(uh&268435455)||ys(nn,cn)}function Rd(n,e){var t=et;et|=2;var i=yM();(nn!==n||cn!==e)&&(Nr=null,No(n,e));do try{T2();break}catch(r){_M(n,r)}while(1);if(Qv(),et=t,Dd.current=i,Bt!==null)throw Error(me(261));return nn=null,cn=0,Ht}function T2(){for(;Bt!==null;)xM(Bt)}function E2(){for(;Bt!==null&&!JC();)xM(Bt)}function xM(n){var e=SM(n.alternate,n,ei);n.memoizedProps=n.pendingProps,e===null?wM(n):Bt=e,d0.current=null}function wM(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=y2(t,e),t!==null){t.flags&=32767,Bt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ht=6,Bt=null;return}}else if(t=_2(t,e,ei),t!==null){Bt=t;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=n}while(e!==null);Ht===0&&(Ht=5)}function So(n,e,t){var i=st,r=ki.transition;try{ki.transition=null,st=1,A2(n,e,t,i)}finally{ki.transition=r,st=i}return null}function A2(n,e,t,i){do al();while(Ss!==null);if(et&6)throw Error(me(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(aD(n,s),n===nn&&(Bt=nn=null,cn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||uf||(uf=!0,MM(hd,function(){return al(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ki.transition,ki.transition=null;var o=st;st=1;var a=et;et|=4,d0.current=null,w2(n,t),mM(t,n),XD(hg),md=!!dg,hg=dg=null,n.current=t,b2(t),ZC(),et=a,st=o,ki.transition=s}else n.current=t;if(uf&&(uf=!1,Ss=n,Ld=r),s=n.pendingLanes,s===0&&(ks=null),tD(t.stateNode),Wn(n,Pt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Pd)throw Pd=!1,n=Og,Og=null,n;return Ld&1&&n.tag!==0&&al(),s=n.pendingLanes,s&1?n===kg?Vu++:(Vu=0,kg=n):Vu=0,to(),null}function al(){if(Ss!==null){var n=tS(Ld),e=ki.transition,t=st;try{if(ki.transition=null,st=16>n?16:n,Ss===null)var i=!1;else{if(n=Ss,Ss=null,Ld=0,et&6)throw Error(me(331));var r=et;for(et|=4,De=n.current;De!==null;){var s=De,o=s.child;if(De.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(De=c;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Uu(8,d,s)}var u=d.child;if(u!==null)u.return=d,De=u;else for(;De!==null;){d=De;var f=d.sibling,h=d.return;if(dM(d),d===c){De=null;break}if(f!==null){f.return=h,De=f;break}De=h}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}De=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,De=o;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,De=v;break e}De=s.return}}var y=n.current;for(De=y;De!==null;){o=De;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,De=_;else e:for(o=y;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lh(9,a)}}catch(w){Ct(a,a.return,w)}if(a===o){De=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,De=x;break e}De=a.return}}if(et=r,to(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(eh,n)}catch{}i=!0}return i}finally{st=t,ki.transition=e}}return!1}function Iy(n,e,t){e=bl(t,e),e=tM(n,e,1),n=Os(n,e,1),e=On(),n!==null&&(Ic(n,1,e),Wn(n,e))}function Ct(n,e,t){if(n.tag===3)Iy(n,n,t);else for(;e!==null;){if(e.tag===3){Iy(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ks===null||!ks.has(i))){n=bl(t,n),n=nM(e,n,1),e=Os(e,n,1),n=On(),e!==null&&(Ic(e,1,n),Wn(e,n));break}}e=e.return}}function C2(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=On(),n.pingedLanes|=n.suspendedLanes&t,nn===n&&(cn&t)===t&&(Ht===4||Ht===3&&(cn&130023424)===cn&&500>Pt()-p0?No(n,0):h0|=t),Wn(n,e)}function bM(n,e){e===0&&(n.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var t=On();n=es(n,e),n!==null&&(Ic(n,e,t),Wn(n,t))}function D2(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),bM(n,t)}function P2(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(me(314))}i!==null&&i.delete(e),bM(n,t)}var SM;SM=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Vn.current)jn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return jn=!1,v2(n,e,t);jn=!!(n.flags&131072)}else jn=!1,xt&&e.flags&1048576&&AS(e,bd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Qf(n,e),n=e.pendingProps;var r=_l(e,bn.current);ol(e,t),r=a0(null,e,i,n,r,t);var s=l0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hn(i)?(s=!0,xd(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,n0(e),r.updater=ah,e.stateNode=r,r._reactInternals=e,bg(e,i,n,t),e=Tg(null,e,i,!0,s,t)):(e.tag=0,xt&&s&&Yv(e),Pn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Qf(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=R2(i),n=Ji(i,n),r){case 0:e=Mg(null,e,i,n,t);break e;case 1:e=Ty(null,e,i,n,t);break e;case 11:e=Sy(null,e,i,n,t);break e;case 14:e=My(null,e,i,Ji(i.type,n),t);break e}throw Error(me(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Mg(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Ty(n,e,i,r,t);case 3:e:{if(oM(e),n===null)throw Error(me(387));i=e.pendingProps,s=e.memoizedState,r=s.element,OS(n,e),Td(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=bl(Error(me(423)),e),e=Ey(n,e,i,t,r);break e}else if(i!==r){r=bl(Error(me(424)),e),e=Ey(n,e,i,t,r);break e}else for(ri=Rs(e.stateNode.containerInfo.firstChild),oi=e,xt=!0,Qi=null,t=LS(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(yl(),i===r){e=ts(n,e,t);break e}Pn(n,e,i,t)}e=e.child}return e;case 5:return kS(e),n===null&&yg(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,pg(i,r)?o=null:s!==null&&pg(i,s)&&(e.flags|=32),sM(n,e),Pn(n,e,o,t),e.child;case 6:return n===null&&yg(e),null;case 13:return aM(n,e,t);case 4:return i0(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=xl(e,null,i,t):Pn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Sy(n,e,i,r,t);case 7:return Pn(n,e,e.pendingProps,t),e.child;case 8:return Pn(n,e,e.pendingProps.children,t),e.child;case 12:return Pn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ht(Sd,i._currentValue),i._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===r.children&&!Vn.current){e=ts(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Xr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),xg(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),xg(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ol(e,t),r=Ni(r),i=i(r),e.flags|=1,Pn(n,e,i,t),e.child;case 14:return i=e.type,r=Ji(i,e.pendingProps),r=Ji(i.type,r),My(n,e,i,r,t);case 15:return iM(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ji(i,r),Qf(n,e),e.tag=1,Hn(i)?(n=!0,xd(e)):n=!1,ol(e,t),eM(e,i,r),bg(e,i,r,t),Tg(null,e,i,!0,n,t);case 19:return lM(n,e,t);case 22:return rM(n,e,t)}throw Error(me(156,e.tag))};function MM(n,e){return Jb(n,e)}function L2(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(n,e,t,i){return new L2(n,e,t,i)}function _0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function R2(n){if(typeof n=="function")return _0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Nv)return 11;if(n===zv)return 14}return 2}function Fs(n,e){var t=n.alternate;return t===null?(t=Pi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function nd(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")_0(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Na:return zo(t.children,r,s,e);case Fv:o=8,r|=8;break;case $m:return n=Pi(12,t,e,r|2),n.elementType=$m,n.lanes=s,n;case Xm:return n=Pi(13,t,e,r),n.elementType=Xm,n.lanes=s,n;case qm:return n=Pi(19,t,e,r),n.elementType=qm,n.lanes=s,n;case kb:return ch(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Rb:o=10;break e;case Ob:o=9;break e;case Nv:o=11;break e;case zv:o=14;break e;case ps:o=16,i=null;break e}throw Error(me(130,n==null?n:typeof n,""))}return e=Pi(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function zo(n,e,t,i){return n=Pi(7,n,i,e),n.lanes=t,n}function ch(n,e,t,i){return n=Pi(22,n,i,e),n.elementType=kb,n.lanes=t,n.stateNode={isHidden:!1},n}function Cp(n,e,t){return n=Pi(6,n,null,e),n.lanes=t,n}function Dp(n,e,t){return e=Pi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function O2(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=up(0),this.expirationTimes=up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=up(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function y0(n,e,t,i,r,s,o,a,l){return n=new O2(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},n0(s),n}function k2(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function TM(n){if(!n)return Hs;n=n._reactInternals;e:{if(oa(n)!==n||n.tag!==1)throw Error(me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(n.tag===1){var t=n.type;if(Hn(t))return TS(n,t,e)}return e}function EM(n,e,t,i,r,s,o,a,l){return n=y0(t,i,!0,n,r,s,o,a,l),n.context=TM(null),t=n.current,i=On(),r=Is(t),s=Xr(i,r),s.callback=e??null,Os(t,s,r),n.current.lanes=r,Ic(n,r,i),Wn(n,i),n}function fh(n,e,t,i){var r=e.current,s=On(),o=Is(r);return t=TM(t),e.context===null?e.context=t:e.pendingContext=t,e=Xr(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Os(r,e,o),n!==null&&(ir(n,r,o,s),Kf(n,r,o)),o}function Od(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Fy(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function x0(n,e){Fy(n,e),(n=n.alternate)&&Fy(n,e)}function I2(){return null}var AM=typeof reportError=="function"?reportError:function(n){console.error(n)};function w0(n){this._internalRoot=n}dh.prototype.render=w0.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(me(409));fh(n,e,null,null)};dh.prototype.unmount=w0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Yo(function(){fh(null,n,null,null)}),e[Qr]=null}};function dh(n){this._internalRoot=n}dh.prototype.unstable_scheduleHydration=function(n){if(n){var e=rS();n={blockedOn:null,target:n,priority:e};for(var t=0;t<_s.length&&e!==0&&e<_s[t].priority;t++);_s.splice(t,0,n),t===0&&oS(n)}};function b0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function F2(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Od(o);s.call(c)}}var o=EM(e,i,n,0,null,!1,!1,"",Ny);return n._reactRootContainer=o,n[Qr]=o.current,rc(n.nodeType===8?n.parentNode:n),Yo(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Od(l);a.call(c)}}var l=y0(n,0,!1,null,null,!1,!1,"",Ny);return n._reactRootContainer=l,n[Qr]=l.current,rc(n.nodeType===8?n.parentNode:n),Yo(function(){fh(e,l,t,i)}),l}function ph(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Od(o);a.call(l)}}fh(e,o,n,r)}else o=F2(t,e,n,r,i);return Od(o)}nS=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Au(e.pendingLanes);t!==0&&(jv(e,t|1),Wn(e,Pt()),!(et&6)&&(Sl=Pt()+500,to()))}break;case 13:Yo(function(){var i=es(n,1);if(i!==null){var r=On();ir(i,n,1,r)}}),x0(n,1)}};Vv=function(n){if(n.tag===13){var e=es(n,134217728);if(e!==null){var t=On();ir(e,n,134217728,t)}x0(n,134217728)}};iS=function(n){if(n.tag===13){var e=Is(n),t=es(n,e);if(t!==null){var i=On();ir(t,n,e,i)}x0(n,e)}};rS=function(){return st};sS=function(n,e){var t=st;try{return st=n,e()}finally{st=t}};rg=function(n,e,t){switch(e){case"input":if(Jm(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=rh(i);if(!r)throw Error(me(90));Fb(i),Jm(i,r)}}}break;case"textarea":zb(n,t);break;case"select":e=t.value,e!=null&&nl(n,!!t.multiple,e,!1)}};Gb=m0;$b=Yo;var N2={usingClientEntryPoint:!1,Events:[Nc,ja,rh,Hb,Wb,m0]},ru={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z2={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Yb(n),n===null?null:n.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||I2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{eh=cf.inject(z2),yr=cf}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N2;hi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b0(e))throw Error(me(200));return k2(n,e,null,t)};hi.createRoot=function(n,e){if(!b0(n))throw Error(me(299));var t=!1,i="",r=AM;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=y0(n,1,!1,null,null,t,!1,i,r),n[Qr]=e.current,rc(n.nodeType===8?n.parentNode:n),new w0(e)};hi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(me(188)):(n=Object.keys(n).join(","),Error(me(268,n)));return n=Yb(e),n=n===null?null:n.stateNode,n};hi.flushSync=function(n){return Yo(n)};hi.hydrate=function(n,e,t){if(!hh(e))throw Error(me(200));return ph(null,n,e,!0,t)};hi.hydrateRoot=function(n,e,t){if(!b0(n))throw Error(me(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=AM;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=EM(e,null,n,1,t??null,r,!1,s,o),n[Qr]=e.current,rc(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new dh(e)};hi.render=function(n,e,t){if(!hh(e))throw Error(me(200));return ph(null,n,e,!1,t)};hi.unmountComponentAtNode=function(n){if(!hh(n))throw Error(me(40));return n._reactRootContainer?(Yo(function(){ph(null,null,n,!1,function(){n._reactRootContainer=null,n[Qr]=null})}),!0):!1};hi.unstable_batchedUpdates=m0;hi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!hh(t))throw Error(me(200));if(n==null||n._reactInternals===void 0)throw Error(me(38));return ph(n,e,t,!1,i)};hi.version="18.3.1-next-f1338f8080-20240426";function CM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CM)}catch(n){console.error(n)}}CM(),Cb.exports=hi;var DM=Cb.exports,zy=DM;Wm.createRoot=zy.createRoot,Wm.hydrateRoot=zy.hydrateRoot;var PM={exports:{}},LM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=j;function B2(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var U2=typeof Object.is=="function"?Object.is:B2,j2=Ml.useState,V2=Ml.useEffect,H2=Ml.useLayoutEffect,W2=Ml.useDebugValue;function G2(n,e){var t=e(),i=j2({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return H2(function(){r.value=t,r.getSnapshot=e,Pp(r)&&s({inst:r})},[n,t,e]),V2(function(){return Pp(r)&&s({inst:r}),n(function(){Pp(r)&&s({inst:r})})},[n]),W2(t),t}function Pp(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!U2(n,t)}catch{return!0}}function $2(n,e){return e()}var X2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$2:G2;LM.useSyncExternalStore=Ml.useSyncExternalStore!==void 0?Ml.useSyncExternalStore:X2;PM.exports=LM;var q2=PM.exports,RM={exports:{}},OM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=j,Y2=q2;function K2(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var J2=typeof Object.is=="function"?Object.is:K2,Z2=Y2.useSyncExternalStore,Q2=mh.useRef,eP=mh.useEffect,tP=mh.useMemo,nP=mh.useDebugValue;OM.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=Q2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=tP(function(){function l(h){if(!c){if(c=!0,d=h,h=i(h),r!==void 0&&o.hasValue){var m=o.value;if(r(m,h))return u=m}return u=h}if(m=u,J2(d,h))return m;var p=i(h);return r!==void 0&&r(m,p)?(d=h,m):(d=h,u=p)}var c=!1,d,u,f=t===void 0?null:t;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,t,i,r]);var a=Z2(n,s[0],s[1]);return eP(function(){o.hasValue=!0,o.value=a},[a]),nP(a),a};RM.exports=OM;var iP=RM.exports;function rP(n){n()}let kM=rP;const sP=n=>kM=n,oP=()=>kM,By=Symbol.for("react-redux-context"),Uy=typeof globalThis<"u"?globalThis:{};function aP(){var n;if(!j.createContext)return{};const e=(n=Uy[By])!=null?n:Uy[By]=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}const Ws=aP();function S0(n=Ws){return function(){return j.useContext(n)}}const IM=S0(),lP=()=>{throw new Error("uSES not initialized!")};let FM=lP;const uP=n=>{FM=n},cP=(n,e)=>n===e;function fP(n=Ws){const e=n===Ws?IM:S0(n);return function(i,r={}){const{equalityFn:s=cP,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof r=="function"?{equalityFn:r}:r,{store:l,subscription:c,getServerState:d,stabilityCheck:u,noopCheck:f}=e();j.useRef(!0);const h=j.useCallback({[i.name](p){return i(p)}}[i.name],[i,u,o]),m=FM(c.addNestedSub,l.getState,d||l.getState,h,s);return j.useDebugValue(m),m}}const $t=fP();function kd(){return kd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kd.apply(null,arguments)}function dP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var NM={exports:{}},ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=typeof Symbol=="function"&&Symbol.for,M0=on?Symbol.for("react.element"):60103,T0=on?Symbol.for("react.portal"):60106,gh=on?Symbol.for("react.fragment"):60107,vh=on?Symbol.for("react.strict_mode"):60108,_h=on?Symbol.for("react.profiler"):60114,yh=on?Symbol.for("react.provider"):60109,xh=on?Symbol.for("react.context"):60110,E0=on?Symbol.for("react.async_mode"):60111,wh=on?Symbol.for("react.concurrent_mode"):60111,bh=on?Symbol.for("react.forward_ref"):60112,Sh=on?Symbol.for("react.suspense"):60113,hP=on?Symbol.for("react.suspense_list"):60120,Mh=on?Symbol.for("react.memo"):60115,Th=on?Symbol.for("react.lazy"):60116,pP=on?Symbol.for("react.block"):60121,mP=on?Symbol.for("react.fundamental"):60117,gP=on?Symbol.for("react.responder"):60118,vP=on?Symbol.for("react.scope"):60119;function mi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case M0:switch(n=n.type,n){case E0:case wh:case gh:case _h:case vh:case Sh:return n;default:switch(n=n&&n.$$typeof,n){case xh:case bh:case Th:case Mh:case yh:return n;default:return e}}case T0:return e}}}function zM(n){return mi(n)===wh}ot.AsyncMode=E0;ot.ConcurrentMode=wh;ot.ContextConsumer=xh;ot.ContextProvider=yh;ot.Element=M0;ot.ForwardRef=bh;ot.Fragment=gh;ot.Lazy=Th;ot.Memo=Mh;ot.Portal=T0;ot.Profiler=_h;ot.StrictMode=vh;ot.Suspense=Sh;ot.isAsyncMode=function(n){return zM(n)||mi(n)===E0};ot.isConcurrentMode=zM;ot.isContextConsumer=function(n){return mi(n)===xh};ot.isContextProvider=function(n){return mi(n)===yh};ot.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===M0};ot.isForwardRef=function(n){return mi(n)===bh};ot.isFragment=function(n){return mi(n)===gh};ot.isLazy=function(n){return mi(n)===Th};ot.isMemo=function(n){return mi(n)===Mh};ot.isPortal=function(n){return mi(n)===T0};ot.isProfiler=function(n){return mi(n)===_h};ot.isStrictMode=function(n){return mi(n)===vh};ot.isSuspense=function(n){return mi(n)===Sh};ot.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===gh||n===wh||n===_h||n===vh||n===Sh||n===hP||typeof n=="object"&&n!==null&&(n.$$typeof===Th||n.$$typeof===Mh||n.$$typeof===yh||n.$$typeof===xh||n.$$typeof===bh||n.$$typeof===mP||n.$$typeof===gP||n.$$typeof===vP||n.$$typeof===pP)};ot.typeOf=mi;NM.exports=ot;var _P=NM.exports,BM=_P,yP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},UM={};UM[BM.ForwardRef]=yP;UM[BM.Memo]=xP;var lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=Symbol.for("react.element"),C0=Symbol.for("react.portal"),Eh=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),Dh=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),wP=Symbol.for("react.server_context"),Lh=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Oh=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Ih=Symbol.for("react.lazy"),bP=Symbol.for("react.offscreen"),jM;jM=Symbol.for("react.module.reference");function Vi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case A0:switch(n=n.type,n){case Eh:case Ch:case Ah:case Rh:case Oh:return n;default:switch(n=n&&n.$$typeof,n){case wP:case Ph:case Lh:case Ih:case kh:case Dh:return n;default:return e}}case C0:return e}}}lt.ContextConsumer=Ph;lt.ContextProvider=Dh;lt.Element=A0;lt.ForwardRef=Lh;lt.Fragment=Eh;lt.Lazy=Ih;lt.Memo=kh;lt.Portal=C0;lt.Profiler=Ch;lt.StrictMode=Ah;lt.Suspense=Rh;lt.SuspenseList=Oh;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(n){return Vi(n)===Ph};lt.isContextProvider=function(n){return Vi(n)===Dh};lt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===A0};lt.isForwardRef=function(n){return Vi(n)===Lh};lt.isFragment=function(n){return Vi(n)===Eh};lt.isLazy=function(n){return Vi(n)===Ih};lt.isMemo=function(n){return Vi(n)===kh};lt.isPortal=function(n){return Vi(n)===C0};lt.isProfiler=function(n){return Vi(n)===Ch};lt.isStrictMode=function(n){return Vi(n)===Ah};lt.isSuspense=function(n){return Vi(n)===Rh};lt.isSuspenseList=function(n){return Vi(n)===Oh};lt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Eh||n===Ch||n===Ah||n===Rh||n===Oh||n===bP||typeof n=="object"&&n!==null&&(n.$$typeof===Ih||n.$$typeof===kh||n.$$typeof===Dh||n.$$typeof===Ph||n.$$typeof===Lh||n.$$typeof===jM||n.getModuleId!==void 0)};lt.typeOf=Vi;function SP(){const n=oP();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=e;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=t={callback:i,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const jy={notify(){},get:()=>[]};function MP(n,e){let t,i=jy,r=0,s=!1;function o(p){d();const g=i.subscribe(p);let v=!1;return()=>{v||(v=!0,g(),u())}}function a(){i.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function d(){r++,t||(t=e?e.addNestedSub(l):n.subscribe(l),i=SP())}function u(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=jy)}function f(){s||(s=!0,d())}function h(){s&&(s=!1,u())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>i};return m}const TP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EP=TP?j.useLayoutEffect:j.useEffect;function AP({store:n,context:e,children:t,serverState:i,stabilityCheck:r="once",noopCheck:s="once"}){const o=j.useMemo(()=>{const c=MP(n);return{store:n,subscription:c,getServerState:i?()=>i:void 0,stabilityCheck:r,noopCheck:s}},[n,i,r,s]),a=j.useMemo(()=>n.getState(),[n]);EP(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Ws;return j.createElement(l.Provider,{value:o},t)}function VM(n=Ws){const e=n===Ws?IM:S0(n);return function(){const{store:i}=e();return i}}const CP=VM();function DP(n=Ws){const e=n===Ws?CP:VM(n);return function(){return e().dispatch}}const gi=DP();uP(iP.useSyncExternalStoreWithSelector);sP(DM.unstable_batchedUpdates);function en(n){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(n)}function Hi(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function PP(n,e){if(en(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(en(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function HM(n){var e=PP(n,"string");return en(e)=="symbol"?e:e+""}function Vy(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,HM(i.key),i)}}function Wi(n,e,t){return e&&Vy(n.prototype,e),t&&Vy(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ns(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ng(n,e){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Ng(n,e)}function Fh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Ng(n,e)}function Bc(n,e){if(e&&(en(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ns(n)}function br(n){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},br(n)}function vi(n,e,t){return(e=HM(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WM(n){if(Array.isArray(n))return n}function LP(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function GM(n,e){if(n){if(typeof n=="string")return Hy(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Hy(n,e):void 0}}function $M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RP(n){return WM(n)||LP(n)||GM(n)||$M()}function Wy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var OP={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},kP=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hi(this,n),this.init(e,t)}return Wi(n,[{key:"init",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=t||OP,this.options=i,this.debug=i.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return this.forward(i,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return this.forward(i,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return this.forward(i,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,i,r,s){return s&&!this.debug?null:(typeof t[0]=="string"&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[i](t))}},{key:"create",value:function(t){return new n(this.logger,Gy(Gy({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new n(this.logger,t)}}]),n}(),gr=new kP,Gs=function(){function n(){Hi(this,n),this.observers={}}return Wi(n,[{key:"on",value:function(t,i){var r=this;return t.split(" ").forEach(function(s){r.observers[s]=r.observers[s]||[],r.observers[s].push(i)}),this}},{key:"off",value:function(t,i){if(this.observers[t]){if(!i){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(function(r){return r!==i})}}},{key:"emit",value:function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];if(this.observers[t]){var o=[].concat(this.observers[t]);o.forEach(function(l){l.apply(void 0,r)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(l){l.apply(l,[t].concat(r))})}}}]),n}();function su(){var n,e,t=new Promise(function(i,r){n=i,e=r});return t.resolve=n,t.reject=e,t}function $y(n){return n==null?"":""+n}function IP(n,e,t){n.forEach(function(i){e[i]&&(t[i]=e[i])})}function D0(n,e,t){function i(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function r(){return!n||typeof n=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(r())return{};var o=i(s.shift());!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={}}return r()?{}:{obj:n,k:i(s.shift())}}function Xy(n,e,t){var i=D0(n,e,Object),r=i.obj,s=i.k;r[s]=t}function FP(n,e,t,i){var r=D0(n,e,Object),s=r.obj,o=r.k;s[o]=s[o]||[],i&&(s[o]=s[o].concat(t)),i||s[o].push(t)}function Id(n,e){var t=D0(n,e),i=t.obj,r=t.k;if(i)return i[r]}function NP(n,e,t){var i=Id(n,t);return i!==void 0?i:Id(e,t)}function XM(n,e,t){for(var i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?t&&(n[i]=e[i]):XM(n[i],e[i],t):n[i]=e[i]);return n}function ga(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var zP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function BP(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,function(e){return zP[e]}):n}var Nh=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,UP=[" ",",","?","!",";"];function jP(n,e,t){e=e||"",t=t||"";var i=UP.filter(function(a){return e.indexOf(a)<0&&t.indexOf(a)<0});if(i.length===0)return!0;var r=new RegExp("(".concat(i.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),s=!r.test(n);if(!s){var o=n.indexOf(t);o>0&&!r.test(n.substring(0,o))&&(s=!0)}return s}function Fd(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(n){if(n[e])return n[e];for(var i=e.split(t),r=n,s=0;s<i.length;++s){if(!r||typeof r[i[s]]=="string"&&s+1<i.length)return;if(r[i[s]]===void 0){for(var o=2,a=i.slice(s,s+o).join(t),l=r[a];l===void 0&&i.length>s+o;)o++,a=i.slice(s,s+o).join(t),l=r[a];if(l===void 0)return;if(l===null)return null;if(e.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}var c=i.slice(s+o).join(t);return c?Fd(l,c,t):void 0}r=r[i[s]]}return r}}function qy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ff(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qy(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VP(n){var e=HP();return function(){var i=br(n),r;if(e){var s=br(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Bc(this,r)}}function HP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var WP=function(n){Fh(t,n);var e=VP(t);function t(i){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Hi(this,t),r=e.call(this),Nh&&Gs.call(Ns(r)),r.data=i||{},r.options=s,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.options.ignoreJSONStructure===void 0&&(r.options.ignoreJSONStructure=!0),r}return Wi(t,[{key:"addNamespaces",value:function(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}},{key:"removeNamespaces",value:function(r){var s=this.options.ns.indexOf(r);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(r,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,d=[r,s];o&&typeof o!="string"&&(d=d.concat(o)),o&&typeof o=="string"&&(d=d.concat(l?o.split(l):o)),r.indexOf(".")>-1&&(d=r.split("."));var u=Id(this.data,d);return u||!c||typeof o!="string"?u:Fd(this.data&&this.data[r]&&this.data[r][s],o,l)}},{key:"addResource",value:function(r,s,o,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=[r,s];o&&(d=d.concat(c?o.split(c):o)),r.indexOf(".")>-1&&(d=r.split("."),a=s,s=d[1]),this.addNamespaces(s),Xy(this.data,d,a),l.silent||this.emit("added",r,s,o,a)}},{key:"addResources",value:function(r,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(r,s,l,o[l],{silent:!0});a.silent||this.emit("added",r,s,o)}},{key:"addResourceBundle",value:function(r,s,o,a,l){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},d=[r,s];r.indexOf(".")>-1&&(d=r.split("."),a=o,o=s,s=d[1]),this.addNamespaces(s);var u=Id(this.data,d)||{};a?XM(u,o,l):u=ff(ff({},u),o),Xy(this.data,d,u),c.silent||this.emit("added",r,s,o)}},{key:"removeResourceBundle",value:function(r,s){this.hasResourceBundle(r,s)&&delete this.data[r][s],this.removeNamespaces(s),this.emit("removed",r,s)}},{key:"hasResourceBundle",value:function(r,s){return this.getResource(r,s)!==void 0}},{key:"getResourceBundle",value:function(r,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ff(ff({},{}),this.getResource(r,s)):this.getResource(r,s)}},{key:"getDataByLanguage",value:function(r){return this.data[r]}},{key:"hasLanguageSomeTranslations",value:function(r){var s=this.getDataByLanguage(r),o=s&&Object.keys(s)||[];return!!o.find(function(a){return s[a]&&Object.keys(s[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),t}(Gs),qM={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,r,s){var o=this;return e.forEach(function(a){o.processors[a]&&(t=o.processors[a].process(t,i,r,s))}),t}};function Yy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yy(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GP(n){var e=$P();return function(){var i=br(n),r;if(e){var s=br(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Bc(this,r)}}function $P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ky={},Jy=function(n){Fh(t,n);var e=GP(t);function t(i){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Hi(this,t),r=e.call(this),Nh&&Gs.call(Ns(r)),IP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,Ns(r)),r.options=s,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.logger=gr.create("translator"),r}return Wi(t,[{key:"changeLanguage",value:function(r){r&&(this.language=r)}},{key:"exists",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;var o=this.resolve(r,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(r,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],c=o&&r.indexOf(o)>-1,d=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!jP(r,o,a);if(c&&!d){var u=r.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:r,namespaces:l};var f=r.split(o);(o!==a||o===a&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),r=f.join(a)}return typeof l=="string"&&(l=[l]),{key:r,namespaces:l}}},{key:"translate",value:function(r,s,o){var a=this;if(en(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),en(s)==="object"&&(s=mn({},s)),s||(s={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,d=this.extractFromKey(r[r.length-1],s),u=d.key,f=d.namespaces,h=f[f.length-1],m=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(p){var g=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(h).concat(g).concat(u),usedKey:u,exactUsedKey:u,usedLng:m,usedNS:h}:"".concat(h).concat(g).concat(u)}return l?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:h}:u}var v=this.resolve(r,s),y=v&&v.res,_=v&&v.usedKey||u,x=v&&v.exactUsedKey||u,w=Object.prototype.toString.apply(y),T=["[object Number]","[object Function]","[object RegExp]"],S=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,M=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(b&&y&&M&&T.indexOf(w)<0&&!(typeof S=="string"&&w==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,y,mn(mn({},s),{},{ns:f})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return l?(v.res=E,v):E}if(c){var O=w==="[object Array]",V=O?[]:{},I=O?x:_;for(var N in y)if(Object.prototype.hasOwnProperty.call(y,N)){var C="".concat(I).concat(c).concat(N);V[N]=this.translate(C,mn(mn({},s),{joinArrays:!1,ns:f})),V[N]===C&&(V[N]=y[N])}y=V}}else if(b&&typeof S=="string"&&w==="[object Array]")y=y.join(S),y&&(y=this.extendTranslation(y,r,s,o));else{var B=!1,H=!1,P=s.count!==void 0&&typeof s.count!="string",Y=t.hasDefaultValue(s),X=P?this.pluralResolver.getSuffix(m,s.count,s):"",$=s["defaultValue".concat(X)]||s.defaultValue;!this.isValidLookup(y)&&Y&&(B=!0,y=$),this.isValidLookup(y)||(H=!0,y=u);var Z=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,re=Z&&H?void 0:y,se=Y&&$!==y&&this.options.updateMissing;if(H||B||se){if(this.logger.log(se?"updateKey":"missingKey",m,h,u,se?$:y),c){var ve=this.resolve(u,mn(mn({},s),{},{keySeparator:!1}));ve&&ve.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var te=[],ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(var Te=0;Te<ke.length;Te++)te.push(ke[Te]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(s.lng||this.language):te.push(s.lng||this.language);var Re=function(he,Se,ye){var Pe=Y&&ye!==y?ye:re;a.options.missingKeyHandler?a.options.missingKeyHandler(he,h,Se,Pe,se,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(he,h,Se,Pe,se,s),a.emit("missingKey",he,h,Se,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?te.forEach(function(Q){a.pluralResolver.getSuffixes(Q,s).forEach(function(he){Re([Q],u+he,s["defaultValue".concat(he)]||$)})}):Re(te,u,$))}y=this.extendTranslation(y,r,s,v,o),H&&y===u&&this.options.appendNamespaceToMissingKey&&(y="".concat(h,":").concat(u)),(H||B)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(h,":").concat(u):u,B?y:void 0):y=this.options.parseMissingKeyHandler(y))}return l?(v.res=y,v):y}},{key:"extendTranslation",value:function(r,s,o,a,l){var c=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,mn(mn({},this.options.interpolation.defaultVariables),o),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(mn(mn({},o),{interpolation:mn(mn({},this.options.interpolation),o.interpolation)}));var d=typeof r=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),u;if(d){var f=r.match(this.interpolator.nestingRegexp);u=f&&f.length}var h=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(h=mn(mn({},this.options.interpolation.defaultVariables),h)),r=this.interpolator.interpolate(r,h,o.lng||this.language,o),d){var m=r.match(this.interpolator.nestingRegexp),p=m&&m.length;u<p&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(o.lng=a.usedLng),o.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var y=arguments.length,_=new Array(y),x=0;x<y;x++)_[x]=arguments[x];return l&&l[0]===_[0]&&!o.context?(c.logger.warn("It seems you are nesting recursively key: ".concat(_[0]," in key: ").concat(s[0])),null):c.translate.apply(c,_.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var g=o.postProcess||this.options.postProcess,v=typeof g=="string"?[g]:g;return r!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(r=qM.handle(v,r,s,this.options&&this.options.postProcessPassResolved?mn({i18nResolved:a},o):o,this)),r}},{key:"resolve",value:function(r){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,l,c,d,u;return typeof r=="string"&&(r=[r]),r.forEach(function(f){if(!s.isValidLookup(a)){var h=s.extractFromKey(f,o),m=h.key;l=m;var p=h.namespaces;s.options.fallbackNS&&(p=p.concat(s.options.fallbackNS));var g=o.count!==void 0&&typeof o.count!="string",v=g&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),y=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",_=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);p.forEach(function(x){s.isValidLookup(a)||(u=x,!Ky["".concat(_[0],"-").concat(x)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(u)&&(Ky["".concat(_[0],"-").concat(x)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(_.join(", "),`" won't get resolved as namespace "`).concat(u,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(function(w){if(!s.isValidLookup(a)){d=w;var T=[m];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(T,m,w,x,o);else{var S;g&&(S=s.pluralResolver.getSuffix(w,o.count,o));var b="".concat(s.options.pluralSeparator,"zero");if(g&&(T.push(m+S),v&&T.push(m+b)),y){var M="".concat(m).concat(s.options.contextSeparator).concat(o.context);T.push(M),g&&(T.push(M+S),v&&T.push(M+b))}}for(var E;E=T.pop();)s.isValidLookup(a)||(c=E,a=s.getResource(w,x,E,o))}}))})}}),{res:a,usedKey:l,exactUsedKey:c,usedLng:d,usedNS:u}}},{key:"isValidLookup",value:function(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}},{key:"getResource",value:function(r,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,s,o,a):this.resourceStore.getResource(r,s,o,a)}}],[{key:"hasDefaultValue",value:function(r){var s="defaultValue";for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&s===o.substring(0,s.length)&&r[o]!==void 0)return!0;return!1}}]),t}(Gs);function Lp(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Zy=function(){function n(e){Hi(this,n),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gr.create("languageUtils")}return Wi(n,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var i=t.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var i=t.split("-");return this.formatLanguageCode(i[0])}},{key:"formatLanguageCode",value:function(t){if(typeof t=="string"&&t.indexOf("-")>-1){var i=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map(function(s){return s.toLowerCase()}):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),i.indexOf(r[1].toLowerCase())>-1&&(r[1]=Lp(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),i.indexOf(r[1].toLowerCase())>-1&&(r[1]=Lp(r[1].toLowerCase())),i.indexOf(r[2].toLowerCase())>-1&&(r[2]=Lp(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var i=this;if(!t)return null;var r;return t.forEach(function(s){if(!r){var o=i.formatLanguageCode(s);(!i.options.supportedLngs||i.isSupportedCode(o))&&(r=o)}}),!r&&this.options.supportedLngs&&t.forEach(function(s){if(!r){var o=i.getLanguagePartFromCode(s);if(i.isSupportedCode(o))return r=o;r=i.options.supportedLngs.find(function(a){if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&a.indexOf(o)===0)return a})}}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}},{key:"getFallbackCodes",value:function(t,i){if(!t)return[];if(typeof t=="function"&&(t=t(i)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!i)return t.default||[];var r=t[i];return r||(r=t[this.getScriptPartFromCode(i)]),r||(r=t[this.formatLanguageCode(i)]),r||(r=t[this.getLanguagePartFromCode(i)]),r||(r=t.default),r||[]}},{key:"toResolveHierarchy",value:function(t,i){var r=this,s=this.getFallbackCodes(i||this.options.fallbackLng||[],t),o=[],a=function(c){c&&(r.isSupportedCode(c)?o.push(c):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof t=="string"&&t.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):typeof t=="string"&&a(this.formatLanguageCode(t)),s.forEach(function(l){o.indexOf(l)<0&&a(r.formatLanguageCode(l))}),o}}]),n}(),XP=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],qP={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},YP=["v1","v2","v3"],Qy={zero:0,one:1,two:2,few:3,many:4,other:5};function KP(){var n={};return XP.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:qP[e.fc]}})}),n}var JP=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hi(this,n),this.languageUtils=e,this.options=t,this.logger=gr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=KP()}return Wi(n,[{key:"addRule",value:function(t,i){this.rules[t]=i}},{key:"getRule",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,i);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(function(s){return"".concat(i).concat(s)})}},{key:"getSuffixes",value:function(t){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(t,r);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,a){return Qy[o]-Qy[a]}).map(function(o){return"".concat(i.options.prepend).concat(o)}):s.numbers.map(function(o){return i.getSuffix(t,o,r)}):[]}},{key:"getSuffix",value:function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(t,r);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(i)):this.getSuffixRetroCompatible(s,i):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,i){var r=this,s=t.noAbs?t.plurals(i):t.plurals(Math.abs(i)),o=t.numbers[s];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return r.options.prepend&&o.toString()?r.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!YP.includes(this.options.compatibilityJSON)}}]),n}();function ex(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $i(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ex(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tx(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=NP(n,e,t);return!s&&r&&typeof t=="string"&&(s=Fd(n,t,i),s===void 0&&(s=Fd(e,t,i))),s}var ZP=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hi(this,n),this.logger=gr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return Wi(n,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var i=t.interpolation;this.escape=i.escape!==void 0?i.escape:BP,this.escapeValue=i.escapeValue!==void 0?i.escapeValue:!0,this.useRawValueToEscape=i.useRawValueToEscape!==void 0?i.useRawValueToEscape:!1,this.prefix=i.prefix?ga(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?ga(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?ga(i.nestingPrefix):i.nestingPrefixEscaped||ga("$t("),this.nestingSuffix=i.nestingSuffix?ga(i.nestingSuffix):i.nestingSuffixEscaped||ga(")"),this.nestingOptionsSeparator=i.nestingOptionsSeparator?i.nestingOptionsSeparator:i.nestingOptionsSeparator||",",this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.alwaysFormat=i.alwaysFormat!==void 0?i.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var i="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(i,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(t,i,r,s){var o=this,a,l,c,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(g){return g.replace(/\$/g,"$$$$")}var f=function(v){if(v.indexOf(o.formatSeparator)<0){var y=tx(i,d,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(y,void 0,r,$i($i($i({},s),i),{},{interpolationkey:v})):y}var _=v.split(o.formatSeparator),x=_.shift().trim(),w=_.join(o.formatSeparator).trim();return o.format(tx(i,d,x,o.options.keySeparator,o.options.ignoreJSONStructure),w,r,$i($i($i({},s),i),{},{interpolationkey:x}))};this.resetRegExp();var h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,p=[{regex:this.regexpUnescape,safeValue:function(v){return u(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?u(o.escape(v)):u(v)}}];return p.forEach(function(g){for(c=0;a=g.regex.exec(t);){var v=a[1].trim();if(l=f(v),l===void 0)if(typeof h=="function"){var y=h(t,a,s);l=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))l="";else if(m){l=a[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(t)),l="";else typeof l!="string"&&!o.useRawValueToEscape&&(l=$y(l));var _=g.safeValue(l);if(t=t.replace(a[0],_),m?(g.regex.lastIndex+=l.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,c++,c>=o.maxReplaces)break}}),t}},{key:"nest",value:function(t,i){var r=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,l;function c(h,m){var p=this.nestingOptionsSeparator;if(h.indexOf(p)<0)return h;var g=h.split(new RegExp("".concat(p,"[ ]*{"))),v="{".concat(g[1]);h=g[0],v=this.interpolate(v,l);var y=v.match(/'/g),_=v.match(/"/g);(y&&y.length%2===0&&!_||_.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),m&&(l=$i($i({},m),l))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(h),x),"".concat(h).concat(p).concat(v)}return delete l.defaultValue,h}for(;o=this.nestingRegexp.exec(t);){var d=[];l=$i({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var u=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(h){return h.trim()});o[1]=f.shift(),d=f,u=!0}if(a=i(c.call(this,o[1].trim(),l),l),a&&o[0]===t&&typeof a!="string")return a;typeof a!="string"&&(a=$y(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(t)),a=""),u&&(a=d.reduce(function(h,m){return r.format(h,m,s.lng,$i($i({},s),{},{interpolationkey:o[1].trim()}))},a.trim())),t=t.replace(o[0],a),this.regexp.lastIndex=0}return t}}]),n}();function nx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Cr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QP(n){var e=n.toLowerCase().trim(),t={};if(n.indexOf("(")>-1){var i=n.split("(");e=i[0].toLowerCase().trim();var r=i[1].substring(0,i[1].length-1);if(e==="currency"&&r.indexOf(":")<0)t.currency||(t.currency=r.trim());else if(e==="relativetime"&&r.indexOf(":")<0)t.range||(t.range=r.trim());else{var s=r.split(";");s.forEach(function(o){if(o){var a=o.split(":"),l=RP(a),c=l[0],d=l.slice(1),u=d.join(":").trim().replace(/^'+|'+$/g,"");t[c.trim()]||(t[c.trim()]=u),u==="false"&&(t[c.trim()]=!1),u==="true"&&(t[c.trim()]=!0),isNaN(u)||(t[c.trim()]=parseInt(u,10))}})}}return{formatName:e,formatOptions:t}}function va(n){var e={};return function(i,r,s){var o=r+JSON.stringify(s),a=e[o];return a||(a=n(r,s),e[o]=a),a(i)}}var e3=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hi(this,n),this.logger=gr.create("formatter"),this.options=e,this.formats={number:va(function(t,i){var r=new Intl.NumberFormat(t,Cr({},i));return function(s){return r.format(s)}}),currency:va(function(t,i){var r=new Intl.NumberFormat(t,Cr(Cr({},i),{},{style:"currency"}));return function(s){return r.format(s)}}),datetime:va(function(t,i){var r=new Intl.DateTimeFormat(t,Cr({},i));return function(s){return r.format(s)}}),relativetime:va(function(t,i){var r=new Intl.RelativeTimeFormat(t,Cr({},i));return function(s){return r.format(s,i.range||"day")}}),list:va(function(t,i){var r=new Intl.ListFormat(t,Cr({},i));return function(s){return r.format(s)}})},this.init(e)}return Wi(n,[{key:"init",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},r=i.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function(t,i){this.formats[t.toLowerCase().trim()]=i}},{key:"addCached",value:function(t,i){this.formats[t.toLowerCase().trim()]=va(i)}},{key:"format",value:function(t,i,r){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=i.split(this.formatSeparator),l=a.reduce(function(c,d){var u=QP(d),f=u.formatName,h=u.formatOptions;if(s.formats[f]){var m=c;try{var p=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=p.locale||p.lng||o.locale||o.lng||r;m=s.formats[f](c,g,Cr(Cr(Cr({},h),o),p))}catch(v){s.logger.warn(v)}return m}else s.logger.warn("there was no format function for ".concat(f));return c},t);return l}}]),n}();function ix(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ix(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function t3(n){var e=n3();return function(){var i=br(n),r;if(e){var s=br(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Bc(this,r)}}function n3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i3(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}var r3=function(n){Fh(t,n);var e=t3(t);function t(i,r,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Hi(this,t),o=e.call(this),Nh&&Gs.call(Ns(o)),o.backend=i,o.store=r,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=gr.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return Wi(t,[{key:"queueLoad",value:function(r,s,o,a){var l=this,c={},d={},u={},f={};return r.forEach(function(h){var m=!0;s.forEach(function(p){var g="".concat(h,"|").concat(p);!o.reload&&l.store.hasResourceBundle(h,p)?l.state[g]=2:l.state[g]<0||(l.state[g]===1?d[g]===void 0&&(d[g]=!0):(l.state[g]=1,m=!1,d[g]===void 0&&(d[g]=!0),c[g]===void 0&&(c[g]=!0),f[p]===void 0&&(f[p]=!0)))}),m||(u[h]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function(r,s,o){var a=r.split("|"),l=a[0],c=a[1];s&&this.emit("failedLoading",l,c,s),o&&this.store.addResourceBundle(l,c,o),this.state[r]=s?-1:2;var d={};this.queue.forEach(function(u){FP(u.loaded,[l],c),i3(u,r),s&&u.errors.push(s),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(function(f){d[f]||(d[f]={});var h=u.loaded[f];h.length&&h.forEach(function(m){d[f][m]===void 0&&(d[f][m]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(function(u){return!u.done})}},{key:"read",value:function(r,s,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,d=arguments.length>5?arguments[5]:void 0;if(!r.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:s,fcName:o,tried:l,wait:c,callback:d});return}this.readingCalls++;var u=function(p,g){if(a.readingCalls--,a.waitingReads.length>0){var v=a.waitingReads.shift();a.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&g&&l<a.maxRetries){setTimeout(function(){a.read.call(a,r,s,o,l+1,c*2,d)},c);return}d(p,g)},f=this.backend[o].bind(this.backend);if(f.length===2){try{var h=f(r,s);h&&typeof h.then=="function"?h.then(function(m){return u(null,m)}).catch(u):u(null,h)}catch(m){u(m)}return}return f(r,s,u)}},{key:"prepareLoading",value:function(r,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof s=="string"&&(s=[s]);var c=this.queueLoad(r,s,a,l);if(!c.toLoad.length)return c.pending.length||l(),null;c.toLoad.forEach(function(d){o.loadOne(d)})}},{key:"load",value:function(r,s,o){this.prepareLoading(r,s,{},o)}},{key:"reload",value:function(r,s,o){this.prepareLoading(r,s,{reload:!0},o)}},{key:"loadOne",value:function(r){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=r.split("|"),l=a[0],c=a[1];this.read(l,c,"read",void 0,void 0,function(d,u){d&&s.logger.warn("".concat(o,"loading namespace ").concat(c," for language ").concat(l," failed"),d),!d&&u&&s.logger.log("".concat(o,"loaded namespace ").concat(c," for language ").concat(l),u),s.loaded(r,d,u)})}},{key:"saveMissing",value:function(r,s,o,a,l){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var u=rx(rx({},c),{},{isUpdate:l}),f=this.backend.create.bind(this.backend);if(f.length<6)try{var h;f.length===5?h=f(r,s,o,a,u):h=f(r,s,o,a),h&&typeof h.then=="function"?h.then(function(m){return d(null,m)}).catch(d):d(null,h)}catch(m){d(m)}else f(r,s,o,a,d,u)}!r||!r[0]||this.store.addResource(r[0],s,o,a)}}}]),t}(Gs);function sx(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if(en(e[1])==="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),en(e[2])==="object"||en(e[3])==="object"){var i=e[3]||e[2];Object.keys(i).forEach(function(r){t[r]=i[r]})}return t},interpolation:{escapeValue:!0,format:function(e,t,i,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ox(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function ax(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ax(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function s3(n){var e=o3();return function(){var i=br(n),r;if(e){var s=br(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return Bc(this,r)}}function o3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function df(){}function a3(n){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(n));e.forEach(function(t){typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}var Nd=function(n){Fh(t,n);var e=s3(t);function t(){var i,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Hi(this,t),i=e.call(this),Nh&&Gs.call(Ns(i)),i.options=ox(r),i.services={},i.logger=gr,i.modules={external:[]},a3(Ns(i)),s&&!i.isInitialized&&!r.isClone){if(!i.options.initImmediate)return i.init(r,s),Bc(i,Ns(i));setTimeout(function(){i.init(r,s)},0)}return i}return Wi(t,[{key:"init",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var a=sx();this.options=lr(lr(lr({},a),this.options),ox(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=lr(lr({},a.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?gr.init(l(this.modules.logger),this.options):gr.init(null,this.options);var c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=e3);var d=new Zy(this.options);this.store=new WP(this.options.resources,this.options);var u=this.services;u.logger=gr,u.resourceStore=this.store,u.languageUtils=d,u.pluralResolver=new JP(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(u.formatter=l(c),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new ZP(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new r3(l(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(v){for(var y=arguments.length,_=new Array(y>1?y-1:0),x=1;x<y;x++)_[x-1]=arguments[x];r.emit.apply(r,[v].concat(_))}),this.modules.languageDetector&&(u.languageDetector=l(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=l(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Jy(this.services,this.options),this.translator.on("*",function(v){for(var y=arguments.length,_=new Array(y>1?y-1:0),x=1;x<y;x++)_[x-1]=arguments[x];r.emit.apply(r,[v].concat(_))}),this.modules.external.forEach(function(v){v.init&&v.init(r)})}if(this.format=this.options.interpolation.format,o||(o=df),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var h=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];h.forEach(function(v){r[v]=function(){var y;return(y=r.store)[v].apply(y,arguments)}});var m=["addResource","addResources","addResourceBundle","removeResourceBundle"];m.forEach(function(v){r[v]=function(){var y;return(y=r.store)[v].apply(y,arguments),r}});var p=su(),g=function(){var y=function(x,w){r.isInitialized&&!r.initializedStoreOnce&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),p.resolve(w),o(x,w)};if(r.languages&&r.options.compatibilityAPI!=="v1"&&!r.isInitialized)return y(null,r.t.bind(r));r.changeLanguage(r.options.lng,y)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),p}},{key:"loadResources",value:function(r){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:df,a=o,l=typeof r=="string"?r:this.language;if(typeof r=="function"&&(a=r),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return a();var c=[],d=function(h){if(h){var m=s.services.languageUtils.toResolveHierarchy(h);m.forEach(function(p){c.indexOf(p)<0&&c.push(p)})}};if(l)d(l);else{var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.forEach(function(f){return d(f)})}this.options.preload&&this.options.preload.forEach(function(f){return d(f)}),this.services.backendConnector.load(c,this.options.ns,function(f){!f&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),a(f)})}else a(null)}},{key:"reloadResources",value:function(r,s,o){var a=su();return r||(r=this.languages),s||(s=this.options.ns),o||(o=df),this.services.backendConnector.reload(r,s,function(l){a.resolve(),o(l)}),a}},{key:"use",value:function(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&qM.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}},{key:"setResolvedLanguage",value:function(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(r,s){var o=this;this.isLanguageChangingTo=r;var a=su();this.emit("languageChanging",r);var l=function(f){o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.resolvedLanguage=void 0,o.setResolvedLanguage(f)},c=function(f,h){h?(l(h),o.translator.changeLanguage(h),o.isLanguageChangingTo=void 0,o.emit("languageChanged",h),o.logger.log("languageChanged",h)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(f,function(){return o.t.apply(o,arguments)})},d=function(f){!r&&!f&&o.services.languageDetector&&(f=[]);var h=typeof f=="string"?f:o.services.languageUtils.getBestMatchFromCodes(f);h&&(o.language||l(h),o.translator.language||o.translator.changeLanguage(h),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(h)),o.loadResources(h,function(m){c(m,h)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(r),a}},{key:"getFixedT",value:function(r,s,o){var a=this,l=function c(d,u){var f;if(en(u)!=="object"){for(var h=arguments.length,m=new Array(h>2?h-2:0),p=2;p<h;p++)m[p-2]=arguments[p];f=a.options.overloadTranslationOptionHandler([d,u].concat(m))}else f=lr({},u);f.lng=f.lng||c.lng,f.lngs=f.lngs||c.lngs,f.ns=f.ns||c.ns,f.keyPrefix=f.keyPrefix||o||c.keyPrefix;var g=a.options.keySeparator||".",v;return f.keyPrefix&&Array.isArray(d)?v=d.map(function(y){return"".concat(f.keyPrefix).concat(g).concat(y)}):v=f.keyPrefix?"".concat(f.keyPrefix).concat(g).concat(d):d,a.t(v,f)};return typeof r=="string"?l.lng=r:l.lngs=r,l.ns=s,l.keyPrefix=o,l}},{key:"t",value:function(){var r;return this.translator&&(r=this.translator).translate.apply(r,arguments)}},{key:"exists",value:function(){var r;return this.translator&&(r=this.translator).exists.apply(r,arguments)}},{key:"setDefaultNamespace",value:function(r){this.options.defaultNS=r}},{key:"hasLoadedNamespace",value:function(r){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=o.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var d=function(h,m){var p=s.services.backendConnector.state["".concat(h,"|").concat(m)];return p===-1||p===2};if(o.precheck){var u=o.precheck(this,d);if(u!==void 0)return u}return!!(this.hasResourceBundle(a,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(a,r)&&(!l||d(c,r)))}},{key:"loadNamespaces",value:function(r,s){var o=this,a=su();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(r,s){var o=su();typeof r=="string"&&(r=[r]);var a=this.options.preload||[],l=r.filter(function(c){return a.indexOf(c)<0});return l.length?(this.options.preload=a.concat(l),this.loadResources(function(c){o.resolve(),s&&s(c)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Zy(sx());return s.indexOf(o.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:df,a=lr(lr(lr({},this.options),s),{isClone:!0}),l=new t(a);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var c=["store","services","language"];return c.forEach(function(d){l[d]=r[d]}),l.services=lr({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new Jy(l.services,l.options),l.translator.on("*",function(d){for(var u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];l.emit.apply(l,[d].concat(f))}),l.init(a,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),t}(Gs);vi(Nd,"createInstance",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Nd(n,e)});var Mn=Nd.createInstance();Mn.createInstance=Nd.createInstance;Mn.createInstance;Mn.dir;Mn.init;Mn.loadResources;Mn.reloadResources;Mn.use;Mn.changeLanguage;Mn.getFixedT;Mn.t;Mn.exists;Mn.setDefaultNamespace;Mn.hasLoadedNamespace;Mn.loadNamespaces;Mn.loadLanguages;function P0(n,e){if(n==null)return{};var t,i,r=dP(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var l3={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const u3=rs(l3);var c3=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function lx(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(u3[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var i=n.indexOf("-->");return{type:"comment",comment:i!==-1?n.slice(4,i):""}}for(var r=new RegExp(c3),s=null;(s=r.exec(n))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),a=[o,""];o.indexOf("=")>-1&&(a=o.split("=")),e.attrs[a[0]]=a[1],r.lastIndex--}else s[2]&&(e.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return e}var f3=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,d3=/^\s*$/,h3=Object.create(null);function YM(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var i=[];for(var r in t)i.push(r+'="'+t[r]+'"');return i.length?" "+i.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(YM,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var p3={parse:function(n,e){e||(e={}),e.components||(e.components=h3);var t,i=[],r=[],s=-1,o=!1;if(n.indexOf("<")!==0){var a=n.indexOf("<");i.push({type:"text",content:a===-1?n:n.substring(0,a)})}return n.replace(f3,function(l,c){if(o){if(l!=="</"+t.name+">")return;o=!1}var d,u=l.charAt(1)!=="/",f=l.startsWith("<!--"),h=c+l.length,m=n.charAt(h);if(f){var p=lx(l);return s<0?(i.push(p),i):((d=r[s]).children.push(p),i)}if(u&&(s++,(t=lx(l)).type==="tag"&&e.components[t.name]&&(t.type="component",o=!0),t.voidElement||o||!m||m==="<"||t.children.push({type:"text",content:n.slice(h,n.indexOf("<",h))}),s===0&&i.push(t),(d=r[s-1])&&d.children.push(t),r[s]=t),(!u||t.voidElement)&&(s>-1&&(t.voidElement||t.name===l.slice(2,-1))&&(s--,t=s===-1?i:r[s]),!o&&m!=="<"&&m)){d=s===-1?i:r[s].children;var g=n.indexOf("<",h),v=n.slice(h,g===-1?void 0:g);d3.test(v)&&(v=" "),(g>-1&&s+d.length>=0||v!==" ")&&d.push({type:"text",content:v})}}),i},stringify:function(n){return n.reduce(function(e,t){return e+YM("",t)},"")}};function id(){if(console&&console.warn){for(var n,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];typeof t[0]=="string"&&(t[0]="react-i18next:: ".concat(t[0])),(n=console).warn.apply(n,t)}}var ux={};function zd(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&ux[e[0]]||(typeof e[0]=="string"&&(ux[e[0]]=new Date),id.apply(void 0,e))}var KM=function(e,t){return function(){if(e.isInitialized)t();else{var i=function r(){setTimeout(function(){e.off("initialized",r)},0),t()};e.on("initialized",i)}}};function cx(n,e,t){n.loadNamespaces(e,KM(n,t))}function fx(n,e,t,i){typeof t=="string"&&(t=[t]),t.forEach(function(r){n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,KM(n,i))}function m3(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e.languages[0],r=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;var o=function(l,c){var d=e.services.backendConnector.state["".concat(l,"|").concat(c)];return d===-1||d===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(i,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(i,n)&&(!r||o(s,n)))}function g3(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return zd("i18n.languages were undefined or empty",e.languages),!0;var i=e.options.ignoreJSONStructure!==void 0;return i?e.hasLoadedNamespace(n,{lng:t.lng,precheck:function(s,o){if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,n))return!1}}):m3(n,e,t)}var v3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},y3=function(e){return _3[e]},x3=function(e){return e.replace(v3,y3)};function dx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dx(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var zg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:x3};function w3(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zg=hx(hx({},zg),n)}function JM(){return zg}var ZM;function b3(n){ZM=n}function L0(){return ZM}var S3=["format"],M3=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function px(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?px(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):px(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Rp(n,e){if(!n)return!1;var t=n.props?n.props.children:n.children;return e?t.length>0:!!t}function Op(n){return n?n.props?n.props.children:n.children:[]}function T3(n){return Object.prototype.toString.call(n)!=="[object Array]"?!1:n.every(function(e){return j.isValidElement(e)})}function Du(n){return Array.isArray(n)?n:[n]}function E3(n,e){var t=jt({},e);return t.props=Object.assign(n.props,e.props),t}function QM(n,e){if(!n)return"";var t="",i=Du(n),r=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return i.forEach(function(s,o){if(typeof s=="string")t+="".concat(s);else if(j.isValidElement(s)){var a=Object.keys(s.props).length,l=r.indexOf(s.type)>-1,c=s.props.children;if(!c&&l&&a===0)t+="<".concat(s.type,"/>");else if(!c&&(!l||a!==0))t+="<".concat(o,"></").concat(o,">");else if(s.props.i18nIsDynamicList)t+="<".concat(o,"></").concat(o,">");else if(l&&a===1&&typeof c=="string")t+="<".concat(s.type,">").concat(c,"</").concat(s.type,">");else{var d=QM(c,e);t+="<".concat(o,">").concat(d,"</").concat(o,">")}}else if(s===null)id("Trans: the passed in value is invalid - seems you passed in a null child.");else if(en(s)==="object"){var u=s.format,f=P0(s,S3),h=Object.keys(f);if(h.length===1){var m=u?"".concat(h[0],", ").concat(u):h[0];t+="{{".concat(m,"}}")}else id("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else id("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),t}function A3(n,e,t,i,r,s){if(e==="")return[];var o=i.transKeepBasicHtmlNodesFor||[],a=e&&new RegExp(o.join("|")).test(e);if(!n&&!a)return[e];var l={};function c(g){var v=Du(g);v.forEach(function(y){typeof y!="string"&&(Rp(y)?c(Op(y)):en(y)==="object"&&!j.isValidElement(y)&&Object.assign(l,y))})}c(n);var d=p3.parse("<0>".concat(e,"</0>")),u=jt(jt({},l),r);function f(g,v,y){var _=Op(g),x=m(_,v.children,y);return T3(_)&&x.length===0?_:x}function h(g,v,y,_,x){g.dummy&&(g.children=v),y.push(j.cloneElement(g,jt(jt({},g.props),{},{key:_}),x?void 0:v))}function m(g,v,y){var _=Du(g),x=Du(v);return x.reduce(function(w,T,S){var b=T.children&&T.children[0]&&T.children[0].content&&t.services.interpolator.interpolate(T.children[0].content,u,t.language);if(T.type==="tag"){var M=_[parseInt(T.name,10)];!M&&y.length===1&&y[0][T.name]&&(M=y[0][T.name]),M||(M={});var E=Object.keys(T.attrs).length!==0?E3({props:T.attrs},M):M,O=j.isValidElement(E),V=O&&Rp(T,!0)&&!T.voidElement,I=a&&en(E)==="object"&&E.dummy&&!O,N=en(n)==="object"&&n!==null&&Object.hasOwnProperty.call(n,T.name);if(typeof E=="string"){var C=t.services.interpolator.interpolate(E,u,t.language);w.push(C)}else if(Rp(E)||V){var B=f(E,T,y);h(E,B,w,S)}else if(I){var H=m(_,T.children,y);w.push(j.cloneElement(E,jt(jt({},E.props),{},{key:S}),H))}else if(Number.isNaN(parseFloat(T.name)))if(N){var P=f(E,T,y);h(E,P,w,S,T.voidElement)}else if(i.transSupportBasicHtmlNodes&&o.indexOf(T.name)>-1)if(T.voidElement)w.push(j.createElement(T.name,{key:"".concat(T.name,"-").concat(S)}));else{var Y=m(_,T.children,y);w.push(j.createElement(T.name,{key:"".concat(T.name,"-").concat(S)},Y))}else if(T.voidElement)w.push("<".concat(T.name," />"));else{var X=m(_,T.children,y);w.push("<".concat(T.name,">").concat(X,"</").concat(T.name,">"))}else if(en(E)==="object"&&!O){var $=T.children[0]?b:null;$&&w.push($)}else T.children.length===1&&b?w.push(j.cloneElement(E,jt(jt({},E.props),{},{key:S}),b)):w.push(j.cloneElement(E,jt(jt({},E.props),{},{key:S})))}else if(T.type==="text"){var Z=i.transWrapTextNodes,re=s?i.unescape(t.services.interpolator.interpolate(T.content,u,t.language)):t.services.interpolator.interpolate(T.content,u,t.language);Z?w.push(j.createElement(Z,{key:"".concat(T.name,"-").concat(S)},re)):w.push(re)}return w},[])}var p=m([{dummy:!0,children:n||[]}],d,Du(n||[]));return Op(p[0])}function C3(n){var e=n.children,t=n.count,i=n.parent,r=n.i18nKey,s=n.context,o=n.tOptions,a=o===void 0?{}:o,l=n.values,c=n.defaults,d=n.components,u=n.ns,f=n.i18n,h=n.t,m=n.shouldUnescape,p=P0(n,M3),g=f||L0();if(!g)return zd("You will need to pass in an i18next instance by using i18nextReactModule"),e;var v=h||g.t.bind(g)||function(V){return V};s&&(a.context=s);var y=jt(jt({},JM()),g.options&&g.options.react),_=u||v.ns||g.options&&g.options.defaultNS;_=typeof _=="string"?[_]:_||["translation"];var x=c||QM(e,y)||y.transEmptyNodeValue||r,w=y.hashTransKey,T=r||(w?w(x):x),S=l?a.interpolation:{interpolation:jt(jt({},a.interpolation),{},{prefix:"#$?",suffix:"?$#"})},b=jt(jt(jt(jt({},a),{},{count:t},l),S),{},{defaultValue:x,ns:_}),M=T?v(T,b):x,E=A3(d||e,M,g,y,b,m),O=i!==void 0?i:y.defaultTransParent;return O?j.createElement(O,p,E):E}var D3={type:"3rdParty",init:function(e){w3(e.options.react),b3(e)}},eT=j.createContext(),P3=function(){function n(){Hi(this,n),this.usedNamespaces={}}return Wi(n,[{key:"addUsedNamespaces",value:function(t){var i=this;t.forEach(function(r){i.usedNamespaces[r]||(i.usedNamespaces[r]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),n}(),L3=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function mx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function R3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mx(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Qn(n){var e=n.children,t=n.count,i=n.parent,r=n.i18nKey,s=n.context,o=n.tOptions,a=o===void 0?{}:o,l=n.values,c=n.defaults,d=n.components,u=n.ns,f=n.i18n,h=n.t,m=n.shouldUnescape,p=P0(n,L3),g=j.useContext(eT)||{},v=g.i18n,y=g.defaultNS,_=f||v||L0(),x=h||_&&_.t.bind(_);return C3(R3({children:e,count:t,parent:i,i18nKey:r,context:s,tOptions:a,values:l,defaults:c,components:d,ns:u||x&&x.ns||y||_&&_.options&&_.options.defaultNS,i18n:_,t:h,shouldUnescape:m},p))}function O3(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function k3(n,e){return WM(n)||O3(n,e)||GM(n,e)||$M()}function gx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gx(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var I3=function(e,t){var i=j.useRef();return j.useEffect(function(){i.current=t?i.current:e},[e,t]),i.current};function Bi(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.i18n,i=j.useContext(eT)||{},r=i.i18n,s=i.defaultNS,o=t||r||L0();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new P3),!o){zd("You will need to pass in an i18next instance by using initReactI18next");var a=function(M,E){return typeof E=="string"?E:E&&en(E)==="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(M)?M[M.length-1]:M},l=[a,{},!1];return l.t=a,l.i18n={},l.ready=!1,l}o.options.react&&o.options.react.wait!==void 0&&zd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=kp(kp(kp({},JM()),o.options.react),e),d=c.useSuspense,u=c.keyPrefix,f=n||s||o.options&&o.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(f);var h=(o.isInitialized||o.initializedStoreOnce)&&f.every(function(b){return g3(b,o,c)});function m(){return o.getFixedT(e.lng||null,c.nsMode==="fallback"?f:f[0],u)}var p=j.useState(m),g=k3(p,2),v=g[0],y=g[1],_=f.join();e.lng&&(_="".concat(e.lng).concat(_));var x=I3(_),w=j.useRef(!0);j.useEffect(function(){var b=c.bindI18n,M=c.bindI18nStore;w.current=!0,!h&&!d&&(e.lng?fx(o,e.lng,f,function(){w.current&&y(m)}):cx(o,f,function(){w.current&&y(m)})),h&&x&&x!==_&&w.current&&y(m);function E(){w.current&&y(m)}return b&&o&&o.on(b,E),M&&o&&o.store.on(M,E),function(){w.current=!1,b&&o&&b.split(" ").forEach(function(O){return o.off(O,E)}),M&&o&&M.split(" ").forEach(function(O){return o.store.off(O,E)})}},[o,_]);var T=j.useRef(!0);j.useEffect(function(){w.current&&!T.current&&y(m),T.current=!1},[o,u]);var S=[v,o,h];if(S.t=v,S.i18n=o,S.ready=h,h||!h&&!d)return S;throw new Promise(function(b){e.lng?fx(o,e.lng,f,function(){return b()}):cx(o,f,function(){return b()})})}function Bg(n){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(n)}function tT(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Bg(XMLHttpRequest))==="object"}function F3(n){return!!n&&typeof n.then=="function"}function N3(n){return F3(n)?n:Promise.resolve(n)}function z3(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ug={exports:{}},hf={exports:{}},vx;function B3(){return vx||(vx=1,function(n,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Rn<"u"&&Rn,i=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(C){return C&&d.indexOf(Object.prototype.toString.call(C))>-1};function f(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function h(C){return typeof C!="string"&&(C=String(C)),C}function m(C){var B={next:function(){var H=C.shift();return{done:H===void 0,value:H}}};return l.iterable&&(B[Symbol.iterator]=function(){return B}),B}function p(C){this.map={},C instanceof p?C.forEach(function(B,H){this.append(H,B)},this):Array.isArray(C)?C.forEach(function(B){this.append(B[0],B[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(B){this.append(B,C[B])},this)}p.prototype.append=function(C,B){C=f(C),B=h(B);var H=this.map[C];this.map[C]=H?H+", "+B:B},p.prototype.delete=function(C){delete this.map[f(C)]},p.prototype.get=function(C){return C=f(C),this.has(C)?this.map[C]:null},p.prototype.has=function(C){return this.map.hasOwnProperty(f(C))},p.prototype.set=function(C,B){this.map[f(C)]=h(B)},p.prototype.forEach=function(C,B){for(var H in this.map)this.map.hasOwnProperty(H)&&C.call(B,this.map[H],H,this)},p.prototype.keys=function(){var C=[];return this.forEach(function(B,H){C.push(H)}),m(C)},p.prototype.values=function(){var C=[];return this.forEach(function(B){C.push(B)}),m(C)},p.prototype.entries=function(){var C=[];return this.forEach(function(B,H){C.push([H,B])}),m(C)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function v(C){return new Promise(function(B,H){C.onload=function(){B(C.result)},C.onerror=function(){H(C.error)}})}function y(C){var B=new FileReader,H=v(B);return B.readAsArrayBuffer(C),H}function _(C){var B=new FileReader,H=v(B);return B.readAsText(C),H}function x(C){for(var B=new Uint8Array(C),H=new Array(B.length),P=0;P<B.length;P++)H[P]=String.fromCharCode(B[P]);return H.join("")}function w(C){if(C.slice)return C.slice(0);var B=new Uint8Array(C.byteLength);return B.set(new Uint8Array(C)),B.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&c(C)?(this._bodyArrayBuffer=w(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||u(C))?this._bodyArrayBuffer=w(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=g(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=g(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var C=g(this);if(C)return C;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(C){var B=C.toUpperCase();return S.indexOf(B)>-1?B:C}function M(C,B){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B=B||{};var H=B.body;if(C instanceof M){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,B.headers||(this.headers=new p(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!H&&C._bodyInit!=null&&(H=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new p(B.headers)),this.method=b(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),(this.method==="GET"||this.method==="HEAD")&&(B.cache==="no-store"||B.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var Y=/\?/;this.url+=(Y.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function E(C){var B=new FormData;return C.trim().split("&").forEach(function(H){if(H){var P=H.split("="),Y=P.shift().replace(/\+/g," "),X=P.join("=").replace(/\+/g," ");B.append(decodeURIComponent(Y),decodeURIComponent(X))}}),B}function O(C){var B=new p,H=C.replace(/\r?\n[\t ]+/g," ");return H.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var Y=P.split(":"),X=Y.shift().trim();if(X){var $=Y.join(":").trim();B.append(X,$)}}),B}T.call(M.prototype);function V(C,B){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.ok=this.status>=200&&this.status<300,this.statusText=B.statusText===void 0?"":""+B.statusText,this.headers=new p(B.headers),this.url=B.url||"",this._initBody(C)}T.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},V.error=function(){var C=new V(null,{status:0,statusText:""});return C.type="error",C};var I=[301,302,303,307,308];V.redirect=function(C,B){if(I.indexOf(B)===-1)throw new RangeError("Invalid status code");return new V(null,{status:B,headers:{location:C}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(B,H){this.message=B,this.name=H;var P=Error(B);this.stack=P.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function N(C,B){return new Promise(function(H,P){var Y=new M(C,B);if(Y.signal&&Y.signal.aborted)return P(new o.DOMException("Aborted","AbortError"));var X=new XMLHttpRequest;function $(){X.abort()}X.onload=function(){var re={status:X.status,statusText:X.statusText,headers:O(X.getAllResponseHeaders()||"")};re.url="responseURL"in X?X.responseURL:re.headers.get("X-Request-URL");var se="response"in X?X.response:X.responseText;setTimeout(function(){H(new V(se,re))},0)},X.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},X.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},X.onabort=function(){setTimeout(function(){P(new o.DOMException("Aborted","AbortError"))},0)};function Z(re){try{return re===""&&a.location.href?a.location.href:re}catch{return re}}X.open(Y.method,Z(Y.url),!0),Y.credentials==="include"?X.withCredentials=!0:Y.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&(l.blob?X.responseType="blob":l.arrayBuffer&&Y.headers.get("Content-Type")&&Y.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(X.responseType="arraybuffer")),B&&typeof B.headers=="object"&&!(B.headers instanceof p)?Object.getOwnPropertyNames(B.headers).forEach(function(re){X.setRequestHeader(re,h(B.headers[re]))}):Y.headers.forEach(function(re,se){X.setRequestHeader(se,re)}),Y.signal&&(Y.signal.addEventListener("abort",$),X.onreadystatechange=function(){X.readyState===4&&Y.signal.removeEventListener("abort",$)}),X.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return N.polyfill=!0,a.fetch||(a.fetch=N,a.Headers=p,a.Request=M,a.Response=V),o.Headers=p,o.Request=M,o.Response=V,o.fetch=N,o})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=t.fetch?t:i;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,n.exports=e}(hf,hf.exports)),hf.exports}(function(n,e){var t=typeof fetch=="function"?fetch:void 0;if(typeof Rn<"u"&&Rn.fetch?t=Rn.fetch:typeof window<"u"&&window.fetch&&(t=window.fetch),typeof z3<"u"&&typeof window>"u"){var i=t||B3();i.default&&(i=i.default),e.default=i,n.exports=e.default}})(Ug,Ug.exports);var nT=Ug.exports;const iT=rs(nT),_x=gb({__proto__:null,default:iT},[nT]);function yx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(t),!0).forEach(function(i){U3(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function U3(n,e,t){return(e=j3(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j3(n){var e=V3(n,"string");return Ko(e)=="symbol"?e:e+""}function V3(n,e){if(Ko(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Ko(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ko(n){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(n)}var $s=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?$s=global.fetch:typeof window<"u"&&window.fetch&&($s=window.fetch);var hc;tT()&&(typeof global<"u"&&global.XMLHttpRequest?hc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(hc=window.XMLHttpRequest));var Bd;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Bd=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Bd=window.ActiveXObject));!$s&&_x&&!hc&&!Bd&&($s=iT||_x);typeof $s!="function"&&($s=void 0);var jg=function(e,t){if(t&&Ko(t)==="object"){var i="";for(var r in t)i+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!i)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+i.slice(1)}return e},wx=function(e,t,i,r){var s=function(l){if(!l.ok)return i(l.statusText||"Error",{status:l.status});l.text().then(function(c){i(null,{status:l.status,data:c})}).catch(i)};if(r){var o=r(e,t);if(o instanceof Promise){o.then(s).catch(i);return}}typeof fetch=="function"?fetch(e,t).then(s).catch(i):$s(e,t).then(s).catch(i)},bx=!1,H3=function(e,t,i,r){e.queryStringParams&&(t=jg(t,e.queryStringParams));var s=xx({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),i&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(i):e.requestOptions,a=xx({method:i?"POST":"GET",body:i?e.stringify(i):void 0,headers:s},bx?{}:o),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{wx(t,a,r,l)}catch(c){if(!o||Object.keys(o).length===0||!c.message||c.message.indexOf("not implemented")<0)return r(c);try{Object.keys(o).forEach(function(d){delete a[d]}),wx(t,a,r,l),bx=!0}catch(d){r(d)}}},W3=function(e,t,i,r){i&&Ko(i)==="object"&&(i=jg("",i).slice(1)),e.queryStringParams&&(t=jg(t,e.queryStringParams));try{var s;hc?s=new hc:s=new Bd("MSXML2.XMLHTTP.3.0"),s.open(i?"POST":"GET",t,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,i&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(i)}catch(l){console&&console.log(l)}},G3=function(e,t,i,r){if(typeof i=="function"&&(r=i,i=void 0),r=r||function(){},$s&&t.indexOf("file:")!==0)return H3(e,t,i,r);if(tT()||typeof ActiveXObject=="function")return W3(e,t,i,r);r(new Error("No fetch and no xhr implementation found!"))};function Tl(n){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(n)}function Sx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ip(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(t),!0).forEach(function(i){rT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $3(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mx(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,sT(i.key),i)}}function X3(n,e,t){return e&&Mx(n.prototype,e),t&&Mx(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function rT(n,e,t){return(e=sT(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sT(n){var e=q3(n,"string");return Tl(e)=="symbol"?e:e+""}function q3(n,e){if(Tl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Tl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Y3=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,i,r){return rT({},i,r||"")},parseLoadPayload:function(t,i){},request:G3,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},oT=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$3(this,n),this.services=e,this.options=t,this.allOptions=i,this.type="backend",this.init(e,t,i)}return X3(n,[{key:"init",value:function(t){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=Ip(Ip(Ip({},Y3()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return i.reload()},this.options.reloadInterval);Tl(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(t,i,r){this._readAny(t,t,i,i,r)}},{key:"read",value:function(t,i,r){this._readAny([t],t,[i],i,r)}},{key:"_readAny",value:function(t,i,r,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(t,r)),l=N3(l),l.then(function(c){if(!c)return o(null,{});var d=a.services.interpolator.interpolate(c,{lng:t.join("+"),ns:r.join("+")});a.loadUrl(d,o,i,s)})}},{key:"loadUrl",value:function(t,i,r,s){var o=this,a=typeof r=="string"?[r]:r,l=typeof s=="string"?[s]:s,c=this.options.parseLoadPayload(a,l);this.options.request(this.options,t,c,function(d,u){if(u&&(u.status>=500&&u.status<600||!u.status))return i("failed loading "+t+"; status code: "+u.status,!0);if(u&&u.status>=400&&u.status<500)return i("failed loading "+t+"; status code: "+u.status,!1);if(!u&&d&&d.message){var f=d.message.toLowerCase(),h=["failed","fetch","network","load"].find(function(g){return f.indexOf(g)>-1});if(h)return i("failed loading "+t+": "+d.message,!0)}if(d)return i(d,!1);var m,p;try{typeof u.data=="string"?m=o.options.parse(u.data,r,s):m=u.data}catch{p="failed parsing "+t+" to json"}if(p)return i(p,!1);i(null,m)})}},{key:"create",value:function(t,i,r,s,o){var a=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var l=this.options.parsePayload(i,r,s),c=0,d=[],u=[];t.forEach(function(f){var h=a.options.addPath;typeof a.options.addPath=="function"&&(h=a.options.addPath(f,i));var m=a.services.interpolator.interpolate(h,{lng:f,ns:i});a.options.request(a.options,m,l,function(p,g){c+=1,d.push(p),u.push(g),c===t.length&&typeof o=="function"&&o(d,u)})})}}},{key:"reload",value:function(){var t=this,i=this.services,r=i.backendConnector,s=i.languageUtils,o=i.logger,a=r.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],c=function(u){var f=s.toResolveHierarchy(u);f.forEach(function(h){l.indexOf(h)<0&&l.push(h)})};c(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return c(d)}),l.forEach(function(d){t.allOptions.ns.forEach(function(u){r.read(d,u,"read",null,null,function(f,h){f&&o.warn("loading namespace ".concat(u," for language ").concat(d," failed"),f),!f&&h&&o.log("loaded namespace ".concat(u," for language ").concat(d),h),r.loaded("".concat(d,"|").concat(u),f,h)})})})}}}])}();oT.type="backend";var aT=[],K3=aT.forEach,J3=aT.slice;function Z3(n){return K3.call(J3.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var Tx=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Q3=function(e,t,i){var r=i||{};r.path=r.path||"/";var s=encodeURIComponent(t),o="".concat(e,"=").concat(s);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!Tx.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!Tx.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},Ex={create:function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+i*60*1e3)),r&&(s.domain=r),document.cookie=Q3(e,encodeURIComponent(t),s)},read:function(e){for(var t="".concat(e,"="),i=document.cookie.split(";"),r=0;r<i.length;r++){for(var s=i[r];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},eL={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var i=Ex.read(e.lookupCookie);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&Ex.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},tL={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=i.substring(1),s=r.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===e.lookupQuerystring&&(t=s[o].substring(a+1))}}}return t}},ou=null,Ax=function(){if(ou!==null)return ou;try{ou=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ou=!1}return ou},nL={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Ax()){var i=window.localStorage.getItem(e.lookupLocalStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Ax()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},au=null,Cx=function(){if(au!==null)return au;try{au=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{au=!1}return au},iL={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Cx()){var i=window.sessionStorage.getItem(e.lookupSessionStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Cx()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},rL={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)t.push(navigator.languages[i]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},sL={name:"htmlTag",lookup:function(e){var t,i=e.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},oL={name:"path",lookup:function(e){var t;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof i[e.lookupFromPathIndex]!="string")return;t=i[e.lookupFromPathIndex].replace("/","")}else t=i[0].replace("/","")}return t}},aL={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[t]}},lT=!1;try{document.cookie,lT=!0}catch{}var uT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];lT||uT.splice(1,1);function lL(){return{order:uT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var cT=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hi(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return Wi(n,[{key:"init",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Z3(i,this.options||{},lL()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(eL),this.addDetector(tL),this.addDetector(nL),this.addDetector(iL),this.addDetector(rL),this.addDetector(sL),this.addDetector(oL),this.addDetector(aL)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var i=this;t||(t=this.options.order);var r=[];return t.forEach(function(s){if(i.detectors[s]){var o=i.detectors[s].lookup(i.options);o&&typeof o=="string"&&(o=[o]),o&&(r=r.concat(o))}}),r=r.map(function(s){return i.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(t,i){var r=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach(function(s){r.detectors[s]&&r.detectors[s].cacheUserLanguage(t,r.options)}))}}])}();cT.type="languageDetector";Mn.use(cT).use(D3).use(oT).init({debug:!1,fallbackLng:["en","it"],load:"languageOnly",interpolation:{escapeValue:!1},returnObjects:!0});(function(){if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function n(_){try{return _.defaultView&&_.defaultView.frameElement||null}catch{return null}}var e=function(_){for(var x=_,w=n(x);w;)x=w.ownerDocument,w=n(x);return x}(window.document),t=[],i=null,r=null;function s(_){this.time=_.time,this.target=_.target,this.rootBounds=m(_.rootBounds),this.boundingClientRect=m(_.boundingClientRect),this.intersectionRect=m(_.intersectionRect||h()),this.isIntersecting=!!_.intersectionRect;var x=this.boundingClientRect,w=x.width*x.height,T=this.intersectionRect,S=T.width*T.height;w?this.intersectionRatio=Number((S/w).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function o(_,x){var w=x||{};if(typeof _!="function")throw new Error("callback must be a function");if(w.root&&w.root.nodeType!=1&&w.root.nodeType!=9)throw new Error("root must be a Document or Element");this._checkForIntersections=l(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=_,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(w.rootMargin),this.thresholds=this._initThresholds(w.threshold),this.root=w.root||null,this.rootMargin=this._rootMarginValues.map(function(T){return T.value+T.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o._setupCrossOriginUpdater=function(){return i||(i=function(_,x){!_||!x?r=h():r=p(_,x),t.forEach(function(w){w._checkForIntersections()})}),i},o._resetCrossOriginUpdater=function(){i=null,r=null},o.prototype.observe=function(_){var x=this._observationTargets.some(function(w){return w.element==_});if(!x){if(!(_&&_.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:_,entry:null}),this._monitorIntersections(_.ownerDocument),this._checkForIntersections()}},o.prototype.unobserve=function(_){this._observationTargets=this._observationTargets.filter(function(x){return x.element!=_}),this._unmonitorIntersections(_.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var _=this._queuedEntries.slice();return this._queuedEntries=[],_},o.prototype._initThresholds=function(_){var x=_||[0];return Array.isArray(x)||(x=[x]),x.sort().filter(function(w,T,S){if(typeof w!="number"||isNaN(w)||w<0||w>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return w!==S[T-1]})},o.prototype._parseRootMargin=function(_){var x=_||"0px",w=x.split(/\s+/).map(function(T){var S=/^(-?\d*\.?\d+)(px|%)$/.exec(T);if(!S)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(S[1]),unit:S[2]}});return w[1]=w[1]||w[0],w[2]=w[2]||w[0],w[3]=w[3]||w[1],w},o.prototype._monitorIntersections=function(_){var x=_.defaultView;if(x&&this._monitoringDocuments.indexOf(_)==-1){var w=this._checkForIntersections,T=null,S=null;this.POLL_INTERVAL?T=x.setInterval(w,this.POLL_INTERVAL):(c(x,"resize",w,!0),c(_,"scroll",w,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in x&&(S=new x.MutationObserver(w),S.observe(_,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(_),this._monitoringUnsubscribes.push(function(){var E=_.defaultView;E&&(T&&E.clearInterval(T),d(E,"resize",w,!0)),d(_,"scroll",w,!0),S&&S.disconnect()});var b=this.root&&(this.root.ownerDocument||this.root)||e;if(_!=b){var M=n(_);M&&this._monitorIntersections(M.ownerDocument)}}},o.prototype._unmonitorIntersections=function(_){var x=this._monitoringDocuments.indexOf(_);if(x!=-1){var w=this.root&&(this.root.ownerDocument||this.root)||e,T=this._observationTargets.some(function(M){var E=M.element.ownerDocument;if(E==_)return!0;for(;E&&E!=w;){var O=n(E);if(E=O&&O.ownerDocument,E==_)return!0}return!1});if(!T){var S=this._monitoringUnsubscribes[x];if(this._monitoringDocuments.splice(x,1),this._monitoringUnsubscribes.splice(x,1),S(),_!=w){var b=n(_);b&&this._unmonitorIntersections(b.ownerDocument)}}}},o.prototype._unmonitorAllIntersections=function(){var _=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var x=0;x<_.length;x++)_[x]()},o.prototype._checkForIntersections=function(){if(!(!this.root&&i&&!r)){var _=this._rootIsInDom(),x=_?this._getRootRect():h();this._observationTargets.forEach(function(w){var T=w.element,S=f(T),b=this._rootContainsTarget(T),M=w.entry,E=_&&b&&this._computeTargetAndRootIntersection(T,S,x),O=null;this._rootContainsTarget(T)?(!i||this.root)&&(O=x):O=h();var V=w.entry=new s({time:a(),target:T,boundingClientRect:S,rootBounds:O,intersectionRect:E});M?_&&b?this._hasCrossedThreshold(M,V)&&this._queuedEntries.push(V):M&&M.isIntersecting&&this._queuedEntries.push(V):this._queuedEntries.push(V)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},o.prototype._computeTargetAndRootIntersection=function(_,x,w){if(window.getComputedStyle(_).display!="none"){for(var T=x,S=v(_),b=!1;!b&&S;){var M=null,E=S.nodeType==1?window.getComputedStyle(S):{};if(E.display=="none")return null;if(S==this.root||S.nodeType==9)if(b=!0,S==this.root||S==e)i&&!this.root?!r||r.width==0&&r.height==0?(S=null,M=null,T=null):M=r:M=w;else{var O=v(S),V=O&&f(O),I=O&&this._computeTargetAndRootIntersection(O,V,w);V&&I?(S=O,M=p(V,I)):(S=null,T=null)}else{var N=S.ownerDocument;S!=N.body&&S!=N.documentElement&&E.overflow!="visible"&&(M=f(S))}if(M&&(T=u(M,T)),!T)break;S=S&&v(S)}return T}},o.prototype._getRootRect=function(){var _;if(this.root&&!y(this.root))_=f(this.root);else{var x=y(this.root)?this.root:e,w=x.documentElement,T=x.body;_={top:0,left:0,right:w.clientWidth||T.clientWidth,width:w.clientWidth||T.clientWidth,bottom:w.clientHeight||T.clientHeight,height:w.clientHeight||T.clientHeight}}return this._expandRectByRootMargin(_)},o.prototype._expandRectByRootMargin=function(_){var x=this._rootMarginValues.map(function(T,S){return T.unit=="px"?T.value:T.value*(S%2?_.width:_.height)/100}),w={top:_.top-x[0],right:_.right+x[1],bottom:_.bottom+x[2],left:_.left-x[3]};return w.width=w.right-w.left,w.height=w.bottom-w.top,w},o.prototype._hasCrossedThreshold=function(_,x){var w=_&&_.isIntersecting?_.intersectionRatio||0:-1,T=x.isIntersecting?x.intersectionRatio||0:-1;if(w!==T)for(var S=0;S<this.thresholds.length;S++){var b=this.thresholds[S];if(b==w||b==T||b<w!=b<T)return!0}},o.prototype._rootIsInDom=function(){return!this.root||g(e,this.root)},o.prototype._rootContainsTarget=function(_){var x=this.root&&(this.root.ownerDocument||this.root)||e;return g(x,_)&&(!this.root||x==_.ownerDocument)},o.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},o.prototype._unregisterInstance=function(){var _=t.indexOf(this);_!=-1&&t.splice(_,1)};function a(){return window.performance&&performance.now&&performance.now()}function l(_,x){var w=null;return function(){w||(w=setTimeout(function(){_(),w=null},x))}}function c(_,x,w,T){typeof _.addEventListener=="function"?_.addEventListener(x,w,T||!1):typeof _.attachEvent=="function"&&_.attachEvent("on"+x,w)}function d(_,x,w,T){typeof _.removeEventListener=="function"?_.removeEventListener(x,w,T||!1):typeof _.detachEvent=="function"&&_.detachEvent("on"+x,w)}function u(_,x){var w=Math.max(_.top,x.top),T=Math.min(_.bottom,x.bottom),S=Math.max(_.left,x.left),b=Math.min(_.right,x.right),M=b-S,E=T-w;return M>=0&&E>=0&&{top:w,bottom:T,left:S,right:b,width:M,height:E}||null}function f(_){var x;try{x=_.getBoundingClientRect()}catch{}return x?(x.width&&x.height||(x={top:x.top,right:x.right,bottom:x.bottom,left:x.left,width:x.right-x.left,height:x.bottom-x.top}),x):h()}function h(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function m(_){return!_||"x"in _?_:{top:_.top,y:_.top,bottom:_.bottom,left:_.left,x:_.left,right:_.right,width:_.width,height:_.height}}function p(_,x){var w=x.top-_.top,T=x.left-_.left;return{top:w,left:T,height:x.height,width:x.width,bottom:w+x.height,right:T+x.width}}function g(_,x){for(var w=x;w;){if(w==_)return!0;w=v(w)}return!1}function v(_){var x=_.parentNode;return _.nodeType==9&&_!=e?n(_):(x&&x.assignedSlot&&(x=x.assignedSlot.parentNode),x&&x.nodeType==11&&x.host?x.host:x)}function y(_){return _&&_.nodeType===9}window.IntersectionObserver=o,window.IntersectionObserverEntry=s})();function Dx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Px(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(t),!0).forEach(function(i){vi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ln(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Lx=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Fp=function(){return Math.random().toString(36).substring(7).split("").join(".")},pc={INIT:"@@redux/INIT"+Fp(),REPLACE:"@@redux/REPLACE"+Fp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fp()}};function uL(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function zh(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ln(1));return t(zh)(n,e)}if(typeof n!="function")throw new Error(ln(2));var r=n,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(ln(3));return s}function u(p){if(typeof p!="function")throw new Error(ln(4));if(l)throw new Error(ln(5));var g=!0;return c(),a.push(p),function(){if(g){if(l)throw new Error(ln(6));g=!1,c();var y=a.indexOf(p);a.splice(y,1),o=null}}}function f(p){if(!uL(p))throw new Error(ln(7));if(typeof p.type>"u")throw new Error(ln(8));if(l)throw new Error(ln(9));try{l=!0,s=r(s,p)}finally{l=!1}for(var g=o=a,v=0;v<g.length;v++){var y=g[v];y()}return p}function h(p){if(typeof p!="function")throw new Error(ln(10));r=p,f({type:pc.REPLACE})}function m(){var p,g=u;return p={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(ln(11));function _(){y.next&&y.next(d())}_();var x=g(_);return{unsubscribe:x}}},p[Lx]=function(){return this},p}return f({type:pc.INIT}),i={dispatch:f,subscribe:u,getState:d,replaceReducer:h},i[Lx]=m,i}var cL=zh;function fL(n){Object.keys(n).forEach(function(e){var t=n[e],i=t(void 0,{type:pc.INIT});if(typeof i>"u")throw new Error(ln(12));if(typeof t(void 0,{type:pc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function fT(n){for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var r=e[i];typeof n[r]=="function"&&(t[r]=n[r])}var s=Object.keys(t),o;try{fL(t)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var d=!1,u={},f=0;f<s.length;f++){var h=s[f],m=t[h],p=l[h],g=m(p,c);if(typeof g>"u")throw c&&c.type,new Error(ln(14));u[h]=g,d=d||g!==p}return d=d||s.length!==Object.keys(l).length,d?u:l}}function Rx(n,e){return function(){return e(n.apply(this,arguments))}}function dL(n,e){if(typeof n=="function")return Rx(n,e);if(typeof n!="object"||n===null)throw new Error(ln(16));var t={};for(var i in n){var r=n[i];typeof r=="function"&&(t[i]=Rx(r,e))}return t}function R0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function dT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return function(){var r=i.apply(void 0,arguments),s=function(){throw new Error(ln(15))},o={getState:r.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=R0.apply(void 0,a)(r.dispatch),Px(Px({},r),{},{dispatch:s})}}}const hL=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:pc,applyMiddleware:dT,bindActionCreators:dL,combineReducers:fT,compose:R0,createStore:zh,legacy_createStore:cL},Symbol.toStringTag,{value:"Module"}));function Jo(){return Jo=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jo.apply(this,arguments)}function pL(n){var e;n.models.forEach(function(l){return hT(n,l)});var t=pT(n),i=dT.apply(hL,n.reduxConfig.middlewares),r=n.reduxConfig.devtoolComposer?(e=n.reduxConfig).devtoolComposer.apply(e,n.reduxConfig.enhancers.concat([i])):gL(n.reduxConfig.devtoolOptions).apply(void 0,n.reduxConfig.enhancers.concat([i])),s=n.reduxConfig.createStore||zh,o=n.reduxConfig.initialState,a=o===void 0?{}:o;return s(t,a,r)}function hT(n,e){var t={},i=Object.keys(e.reducers);i.forEach(function(a){var l=vL(a)?a:e.name+"/"+a;t[l]=e.reducers[a]});var r=function(l,c){return l===void 0&&(l=e.state),c.type in t?t[c.type](l,c.payload,c.meta):l},s=e.baseReducer,o=s?function(a,l){return a===void 0&&(a=e.state),r(s(a,l),l)}:r;n.forEachPlugin("onReducer",function(a){o=a(o,e.name,n)||o}),n.reduxConfig.reducers[e.name]=o}function pT(n){var e=n.reduxConfig.rootReducers,t=mL(n.reduxConfig),i=t;return e&&Object.keys(e).length&&(i=function(s,o){var a=e[o.type];return t(a?a(s,o):s,o)}),n.forEachPlugin("onRootReducer",function(r){i=r(i,n)||i}),i}function mL(n){var e=n.combineReducers||fT;return Object.keys(n.reducers).length?e(n.reducers):function(t){return t}}function gL(n){return n===void 0&&(n={}),!n.disabled&&typeof window=="object"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(n):R0}function vL(n){return n.indexOf("/")>-1}var _L=function(e,t,i){},yL=function(e,t,i){},mT=function(e,t,i,r){return Object.assign(function(s,o){var a={type:t+"/"+i};return typeof s<"u"&&(a.payload=s),typeof o<"u"&&(a.meta=o),e.dispatch(a)},{isEffect:r})},xL=function(e,t){var i=e.dispatch[t.name],r=Object.keys(t.reducers);r.forEach(function(s){_L(t.name,t.reducers),i[s]=mT(e,t.name,s,!1)})},wL=function(e,t,i){var r=e.dispatch[i.name],s={};i.effects&&(s=typeof i.effects=="function"?i.effects(e.dispatch):i.effects);var o=Object.keys(s);o.forEach(function(a){yL(i.name),t.effects[i.name+"/"+a]=s[a].bind(r),r[a]=mT(e,i.name,a,!0)})};function bL(n){return{models:SL(n.models),reduxConfig:n.redux,forEachPlugin:function(t,i){n.plugins.forEach(function(r){r[t]&&i(r[t])})},effects:{}}}function SL(n){return Object.keys(n).map(function(e){var t=ML(e,n[e]);return t})}function ML(n,e){return Jo({name:n,reducers:{}},e)}function TL(n){var e=bL(n);e.reduxConfig.middlewares.push(EL(e)),e.forEachPlugin("createMiddleware",function(r){e.reduxConfig.middlewares.push(r(e))});var t=pL(e),i=Jo({},t,{name:n.name,addModel:function(s){hT(e,s),Ox(i,s),kx(i,e,s),t.replaceReducer(pT(e)),t.dispatch({type:"@@redux/REPLACE"})}});return AL(i,n.plugins),e.models.forEach(function(r){return Ox(i,r)}),e.models.forEach(function(r){return kx(i,e,r)}),e.forEachPlugin("onStoreCreated",function(r){i=r(i,e)||i}),i}function EL(n){return function(e){return function(t){return function(i){return i.type in n.effects?(t(i),n.effects[i.type](i.payload,e.getState(),i.meta)):t(i)}}}}function Ox(n,e){var t={};n.dispatch[""+e.name]=t,xL(n,e)}function kx(n,e,t){wL(n,e,t),e.forEachPlugin("onModel",function(i){i(t,n)})}function AL(n,e){e.forEach(function(t){if(t.exposed){var i=Object.keys(t.exposed);i.forEach(function(r){if(t.exposed){var s=t.exposed[r],o=typeof s=="function";n[r]=o?function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s.apply(void 0,[n].concat(l))}:Object.create(t.exposed[r])}})}})}var Ix=0;function CL(n){var e,t,i,r=(e=n.name)!=null?e:"Rematch Store "+Ix;Ix+=1;var s={name:r,models:n.models||{},plugins:n.plugins||[],redux:Jo({reducers:{},rootReducers:{},enhancers:[],middlewares:[]},n.redux,{devtoolOptions:Jo({name:r},(t=(i=n.redux)==null?void 0:i.devtoolOptions)!=null?t:{})})};return s.plugins.forEach(function(o){o.config&&(s.models=pf(s.models,o.config.models),o.config.redux&&(s.redux.initialState=pf(s.redux.initialState,o.config.redux.initialState),s.redux.reducers=pf(s.redux.reducers,o.config.redux.reducers),s.redux.rootReducers=pf(s.redux.rootReducers,o.config.redux.reducers),s.redux.enhancers=[].concat(s.redux.enhancers,o.config.redux.enhancers||[]),s.redux.middlewares=[].concat(s.redux.middlewares,o.config.redux.middlewares||[]),s.redux.combineReducers=s.redux.combineReducers||o.config.redux.combineReducers,s.redux.createStore=s.redux.createStore||o.config.redux.createStore))}),s}function pf(n,e){return e?Jo({},e,n):n}var DL=function(e){var t=CL(e||{});return TL(t)},os=function(){return function(e){return e}};const PL=os()({state:{loaded:!1,ready:!1,loadingProgress:0},reducers:{setLoaded(n){return{...n,loaded:!0}},setReady(n){return{...n,ready:!0}},setLoadingProgress(n,e){return{...n,loadingProgress:e}}}}),LL={mute:!1},RL=os()({state:LL,reducers:{mute(n){return{...n,mute:!0}},unmute(n){return{...n,mute:!1}}}}),OL=os()({state:{},reducers:{addImage(n,e){return{...n,[e.name]:{hover:!1,sizes:e.sizes}}},showImage(n,e){const t=e,i=n[t];return{...n,[t]:{...i,hover:!0}}},hideImage(n,e){const t=e,i=n[t];return{...n,[t]:{...i,hover:!1}}}}}),kL={open:!1,index:-1},IL=os()({state:kL,reducers:{open(n,e){return{...n,open:e}},setIndex(n,e){return{...n,index:e}}}}),FL={type:"default"},NL=os()({state:FL,reducers:{setType(n,e){return{...n,type:e}}}}),zL=[{name:"Sketchin",url:"sketchin",videoID:"skReel"},{name:"AQuest",url:"aquest",videoID:"aqReel"},{name:"Fastweb",url:"fastweb",videoID:"fbReel"},{name:"Feudi",url:"feudi",videoID:"feudiReel"},{name:"Claraluna",url:"claraluna",videoID:"claralunaReel"}],BL=os()({state:zL}),UL=os()({state:!1,reducers:{canScroll(){return!0},stopScroll(){return!1}}}),jL=os()({state:{current:"hero",boundaries:[],sections:[{name:"TCMG",id:"hero"},{name:"Works",id:"portfolio"},{name:"About",id:"about"},{name:"Contact",id:"contact"}]},reducers:{update(n,e){return{...n,current:e}},setBoundary(n,e){const t=n.boundaries.findIndex(i=>i.name===e.name);return t>-1?{...n,boundaries:[...n.boundaries.slice(0,t),e,...n.boundaries.slice(t+1)]}:{...n,boundaries:[...n.boundaries,e]}}}}),VL=os()({state:{width:window.innerWidth,height:window.innerHeight},reducers:{update(n,e){return e}}}),HL={app:PL,audio:RL,images:OL,menu:IL,pointer:NL,projects:BL,scroll:UL,section:jL,sizes:VL};var qa;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(qa||(qa={}));var Fx=function(n){return n},Nx="beforeunload",WL="popstate";function GL(n){n===void 0&&(n={});var e=n,t=e.window,i=t===void 0?document.defaultView:t,r=i.history;function s(){var S=i.location,b=S.pathname,M=S.search,E=S.hash,O=r.state||{};return[O.idx,Fx({pathname:b,search:M,hash:E,state:O.usr||null,key:O.key||"default"})]}var o=null;function a(){if(o)h.call(o),o=null;else{var S=qa.Pop,b=s(),M=b[0],E=b[1];if(h.length){if(M!=null){var O=d-M;O&&(o={action:S,location:E,retry:function(){w(O*-1)}},w(O))}}else y(S)}}i.addEventListener(WL,a);var l=qa.Pop,c=s(),d=c[0],u=c[1],f=Bx(),h=Bx();d==null&&(d=0,r.replaceState(kd({},r.state,{idx:d}),""));function m(S){return typeof S=="string"?S:XL(S)}function p(S,b){return b===void 0&&(b=null),Fx(kd({pathname:u.pathname,hash:"",search:""},typeof S=="string"?qL(S):S,{state:b,key:$L()}))}function g(S,b){return[{usr:S.state,key:S.key,idx:b},m(S)]}function v(S,b,M){return!h.length||(h.call({action:S,location:b,retry:M}),!1)}function y(S){l=S;var b=s();d=b[0],u=b[1],f.call({action:l,location:u})}function _(S,b){var M=qa.Push,E=p(S,b);function O(){_(S,b)}if(v(M,E,O)){var V=g(E,d+1),I=V[0],N=V[1];try{r.pushState(I,"",N)}catch{i.location.assign(N)}y(M)}}function x(S,b){var M=qa.Replace,E=p(S,b);function O(){x(S,b)}if(v(M,E,O)){var V=g(E,d),I=V[0],N=V[1];r.replaceState(I,"",N),y(M)}}function w(S){r.go(S)}var T={get action(){return l},get location(){return u},createHref:m,push:_,replace:x,go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(b){return f.push(b)},block:function(b){var M=h.push(b);return h.length===1&&i.addEventListener(Nx,zx),function(){M(),h.length||i.removeEventListener(Nx,zx)}}};return T}function zx(n){n.preventDefault(),n.returnValue=""}function Bx(){var n=[];return{get length(){return n.length},push:function(t){return n.push(t),function(){n=n.filter(function(i){return i!==t})}},call:function(t){n.forEach(function(i){return i&&i(t)})}}}function $L(){return Math.random().toString(36).substr(2,8)}function XL(n){var e=n.pathname,t=e===void 0?"/":e,i=n.search,r=i===void 0?"":i,s=n.hash,o=s===void 0?"":s;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function qL(n){var e={};if(n){var t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));var i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}const gT=GL({window}),vT=DL({models:HL});window.store=vT;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ud;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ud||(Ud={}));function fi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function O0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}var Ux;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ux||(Ux={}));function YL(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?k0(e):e,r=xT(i.pathname||"/",t);if(r==null)return null;let s=_T(n);KL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=sR(s[a],lR(r));return o}function _T(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(fi(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=ll([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(fi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_T(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:iR(c,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of yT(s.path))r(s,o,l)}),e}function yT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=yT(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function KL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const JL=/^:\w+$/,ZL=3,QL=2,eR=1,tR=10,nR=-2,jx=n=>n==="*";function iR(n,e){let t=n.split("/"),i=t.length;return t.some(jx)&&(i+=nR),e&&(i+=QL),t.filter(r=>!jx(r)).reduce((r,s)=>r+(JL.test(s)?ZL:s===""?eR:tR),i)}function rR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function sR(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=r==="/"?e:e.slice(r.length)||"/",d=oR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(i,d.params);let u=a.route;s.push({params:i,pathname:ll([r,d.pathname]),pathnameBase:cR(ll([r,d.pathnameBase])),route:u}),d.pathnameBase!=="/"&&(r=ll([r,d.pathnameBase]))}return s}function oR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=aR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,d,u)=>{if(d==="*"){let f=a[u]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[d]=uR(a[u]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:n}}function aR(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),O0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function lR(n){try{return decodeURI(n)}catch(e){return O0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function uR(n,e){try{return decodeURIComponent(n)}catch(t){return O0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function xT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const ll=n=>n.join("/").replace(/\/\/+/g,"/"),cR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function fR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const wT=["post","put","patch","delete"];new Set(wT);const dR=["get",...wT];new Set(dR);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const pR=typeof Object.is=="function"?Object.is:hR,{useState:mR,useEffect:gR,useLayoutEffect:vR,useDebugValue:_R}=Hm;function yR(n,e,t){const i=e(),[{inst:r},s]=mR({inst:{value:i,getSnapshot:e}});return vR(()=>{r.value=i,r.getSnapshot=e,Np(r)&&s({inst:r})},[n,i,e]),gR(()=>(Np(r)&&s({inst:r}),n(()=>{Np(r)&&s({inst:r})})),[n]),_R(i),i}function Np(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!pR(t,i)}catch{return!0}}function xR(n,e,t){return e()}const wR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bR=!wR,SR=bR?xR:yR;"useSyncExternalStore"in Hm&&(n=>n.useSyncExternalStore)(Hm);const bT=j.createContext(null),ST=j.createContext(null),MT=j.createContext(null),Bh=j.createContext(null),Uc=j.createContext({outlet:null,matches:[]}),TT=j.createContext(null);function Vg(){return Vg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vg.apply(this,arguments)}function I0(){return j.useContext(Bh)!=null}function no(){return I0()||fi(!1),j.useContext(Bh).location}function F0(){let{matches:n}=j.useContext(Uc),e=n[n.length-1];return e?e.params:{}}function MR(n,e){I0()||fi(!1);let{navigator:t}=j.useContext(MT),i=j.useContext(ST),{matches:r}=j.useContext(Uc),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=no(),c;if(e){var d;let p=typeof e=="string"?k0(e):e;a==="/"||(d=p.pathname)!=null&&d.startsWith(a)||fi(!1),c=p}else c=l;let u=c.pathname||"/",f=a==="/"?u:u.slice(a.length)||"/",h=YL(n,{pathname:f}),m=CR(h&&h.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:ll([a,t.encodeLocation?t.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:ll([a,t.encodeLocation?t.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),r,i||void 0);return e&&m?j.createElement(Bh.Provider,{value:{location:Vg({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ud.Pop}},m):m}function TR(){let n=RR(),e=fR(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:r},t):null,s)}class ER extends j.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?j.createElement(Uc.Provider,{value:this.props.routeContext},j.createElement(TT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AR(n){let{routeContext:e,match:t,children:i}=n,r=j.useContext(bT);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Uc.Provider,{value:e},i)}function CR(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let i=n,r=t==null?void 0:t.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||fi(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,c=null;t&&(o.route.ErrorBoundary?c=j.createElement(o.route.ErrorBoundary,null):o.route.errorElement?c=o.route.errorElement:c=j.createElement(TR,null));let d=e.concat(i.slice(0,a+1)),u=()=>{let f=s;return l?f=c:o.route.Component?f=j.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),j.createElement(AR,{match:o,routeContext:{outlet:s,matches:d},children:f})};return t&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?j.createElement(ER,{location:t.location,component:c,error:l,children:u(),routeContext:{outlet:null,matches:d}}):u()},null)}var Vx;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(Vx||(Vx={}));var jd;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(jd||(jd={}));function DR(n){let e=j.useContext(ST);return e||fi(!1),e}function PR(n){let e=j.useContext(Uc);return e||fi(!1),e}function LR(n){let e=PR(),t=e.matches[e.matches.length-1];return t.route.id||fi(!1),t.route.id}function RR(){var n;let e=j.useContext(TT),t=DR(jd.UseRouteError),i=LR(jd.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function N0(n){fi(!1)}function OR(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Ud.Pop,navigator:s,static:o=!1}=n;I0()&&fi(!1);let a=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=k0(i));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:h="default"}=i,m=j.useMemo(()=>{let p=xT(c,a);return p==null?null:{location:{pathname:p,search:d,hash:u,state:f,key:h},navigationType:r}},[a,c,d,u,f,h,r]);return m==null?null:j.createElement(MT.Provider,{value:l},j.createElement(Bh.Provider,{children:t,value:m}))}function ET(n){let{children:e,location:t}=n,i=j.useContext(bT),r=i&&!e?i.router.routes:Hg(e);return MR(r,t)}var Hx;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(Hx||(Hx={}));new Promise(()=>{});function Hg(n,e){e===void 0&&(e=[]);let t=[];return j.Children.forEach(n,(i,r)=>{if(!j.isValidElement(i))return;let s=[...e,r];if(i.type===j.Fragment){t.push.apply(t,Hg(i.props.children,s));return}i.type!==N0&&fi(!1),!i.props.index||!i.props.children||fi(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Hg(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kR(n){let{basename:e,children:t,history:i}=n;const[r,s]=j.useState({action:i.action,location:i.location});return j.useLayoutEffect(()=>i.listen(s),[i]),j.createElement(OR,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:i})}var Wx;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(Wx||(Wx={}));var Gx;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Gx||(Gx={}));function IR({children:n,...e}){return D.jsx(kR,{history:gT,...e,children:n})}const Vd=n=>{gT.push(n)},FR="Modal-root_-iqyz",NR="Modal-open_-01e7",zR="Modal-transitionOut_KedjM",BR="Modal-close_gTBi6",UR="Modal-backButton_o0lF1",jR="Modal-contentContainer_bsuqJ",lu={root:FR,open:NR,transitionOut:zR,close:BR,backButton:UR,"arrow-left":"Modal-arrow-left_QDSlw",contentContainer:jR};var AT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(AT);var VR=AT.exports;const at=rs(VR);function zr(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function CT(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ai={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},El={duration:.5,overwrite:!1,delay:0},z0,Li=1e8,ft=1/Li,Wg=Math.PI*2,HR=Wg/4,WR=0,DT=Math.sqrt,GR=Math.cos,$R=Math.sin,sn=function(e){return typeof e=="string"},tn=function(e){return typeof e=="function"},ns=function(e){return typeof e=="number"},B0=function(e){return typeof e>"u"},is=function(e){return typeof e=="object"},Gn=function(e){return e!==!1},PT=function(){return typeof window<"u"},mf=function(e){return tn(e)||sn(e)},LT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},wn=Array.isArray,Gg=/(?:-?\.?\d|\.)+/gi,RT=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ya=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,zp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,OT=/[+-]=-?[.\d]+/,kT=/[^,'"\[\]\s]+/gi,XR=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bt,cr,$g,U0,di={},Hd={},IT,FT=function(e){return(Hd=Zo(e,di))&&or},j0=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Wd=function(e,t){return!t&&console.warn(e)},NT=function(e,t){return e&&(di[e]=t)&&Hd&&(Hd[e]=t)||di},mc=function(){return 0},V0={},zs=[],Xg={},zT,ni={},Bp={},$x=30,rd=[],H0="",W0=function(e){var t=e[0],i,r;if(is(t)||tn(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=rd.length;r--&&!rd[r].targetTest(t););i=rd[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new oE(e[r],i)))||e.splice(r,1);return e},Bo=function(e){return e._gsap||W0(Ri(e))[0]._gsap},BT=function(e,t,i){return(i=e[t])&&tn(i)?e[t]():B0(i)&&e.getAttribute&&e.getAttribute(t)||i},$n=function(e,t){return(e=e.split(",")).forEach(t)||e},Dt=function(e){return Math.round(e*1e5)/1e5||0},yn=function(e){return Math.round(e*1e7)/1e7||0},ul=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},qR=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},Gd=function(){var e=zs.length,t=zs.slice(0),i,r;for(Xg={},zs.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},UT=function(e,t,i,r){zs.length&&Gd(),e.render(t,i,r),zs.length&&Gd()},jT=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(kT).length<2?t:sn(e)?e.trim():e},VT=function(e){return e},Ui=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},YR=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},Zo=function(e,t){for(var i in t)e[i]=t[i];return e},Xx=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=is(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},$d=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Hu=function(e){var t=e.parent||bt,i=e.keyframes?YR(wn(e.keyframes)):Ui;if(Gn(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},KR=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},HT=function(e,t,i,r,s){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Uh=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},qr=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Uo=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},JR=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},ZR=function n(e){return!e||e._ts&&n(e.parent)},qx=function(e){return e._repeat?Al(e._tTime,e=e.duration()+e._rDelay)*e:0},Al=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},Xd=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},jh=function(e){return e._end=yn(e._start+(e._tDur/Math.abs(e._ts||e._rts||ft)||0))},G0=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=yn(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),jh(e),i._dirty||Uo(i,e)),e},WT=function(e,t){var i;if((t._time||t._initted&&!t._dur)&&(i=Xd(e.rawTime(),t),(!t._dur||jc(0,t.totalDuration(),i)-t._tTime>ft)&&t.render(i,!0)),Uo(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-ft}},mr=function(e,t,i,r){return t.parent&&qr(t),t._start=yn((ns(i)?i:i||e!==bt?bi(e,i,t):e._time)+t._delay),t._end=yn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),HT(e,t,"_first","_last",e._sort?"_start":0),qg(t)||(e._recent=t),r||WT(e,t),e},GT=function(e,t){return(di.ScrollTrigger||j0("scrollTrigger",t))&&di.ScrollTrigger.create(t,e)},$T=function(e,t,i,r){if(X0(e,t),!e._initted)return 1;if(!i&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&zT!==ii.frame)return zs.push(e),e._lazy=[t,r],1},QR=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},qg=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},eO=function(e,t,i,r){var s=e.ratio,o=t<0||!t&&(!e._start&&QR(e)&&!(!e._initted&&qg(e))||(e._ts<0||e._dp._ts<0)&&!qg(e))?0:1,a=e._rDelay,l=0,c,d,u;if(a&&e._repeat&&(l=jc(0,e._tDur,t),d=Al(l,a),e._yoyo&&d&1&&(o=1-o),d!==Al(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||r||e._zTime===ft||!t&&e._zTime){if(!e._initted&&$T(e,t,r,i))return;for(u=e._zTime,e._zTime=t||(i?ft:0),i||(i=t&&!u),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!i&&Oi(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Oi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&qr(e,1),i||(Oi(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},tO=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Cl=function(e,t,i,r){var s=e._repeat,o=yn(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:yn(o*(s+1)+e._rDelay*s):o,a>0&&!r?G0(e,e._tTime=e._tDur*a):e.parent&&jh(e),i||Uo(e.parent,e),e},Yx=function(e){return e instanceof Bn?Uo(e):Cl(e,e._dur)},nO={_start:0,endTime:mc,totalDuration:mc},bi=function n(e,t,i){var r=e.labels,s=e._recent||nO,o=e.duration()>=Li?s.endTime(!1):e._dur,a,l,c;return sn(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&i&&(l=l/100*(wn(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},Wu=function(e,t,i){var r=ns(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Gn(l.vars.inherit)&&l.parent;o.immediateRender=Gn(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Zt(t[0],o,t[s+1])},io=function(e,t){return e||e===0?t(e):t},jc=function(e,t,i){return i<e?e:i>t?t:i},xn=function(e,t){return!sn(e)||!(t=XR.exec(e))?"":t[1]},iO=function(e,t,i){return io(i,function(r){return jc(e,t,r)})},Yg=[].slice,XT=function(e,t){return e&&is(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&is(e[0]))&&!e.nodeType&&e!==cr},rO=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return sn(r)&&!t||XT(r,1)?(s=i).push.apply(s,Ri(r)):i.push(r)})||i},Ri=function(e,t,i){return sn(e)&&!i&&($g||!Dl())?Yg.call((t||U0).querySelectorAll(e),0):wn(e)?rO(e,i):XT(e)?Yg.call(e,0):e?[e]:[]},sO=function(e){return e=Ri(e)[0]||Wd("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ri(t,i.querySelectorAll?i:i===e?Wd("Invalid scope")||U0.createElement("div"):e)}},qT=function(e){return e.sort(function(){return .5-Math.random()})},YT=function(e){if(tn(e))return e;var t=is(e)?e:{each:e},i=jo(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,d=r,u=r;return sn(r)?d=u={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(d=r[0],u=r[1]),function(f,h,m){var p=(m||t).length,g=o[p],v,y,_,x,w,T,S,b,M;if(!g){if(M=t.grid==="auto"?0:(t.grid||[1,Li])[1],!M){for(S=-Li;S<(S=m[M++].getBoundingClientRect().left)&&M<p;);M--}for(g=o[p]=[],v=l?Math.min(M,p)*d-.5:r%M,y=M===Li?0:l?p*u/M-.5:r/M|0,S=0,b=Li,T=0;T<p;T++)_=T%M-v,x=y-(T/M|0),g[T]=w=c?Math.abs(c==="y"?x:_):DT(_*_+x*x),w>S&&(S=w),w<b&&(b=w);r==="random"&&qT(g),g.max=S-b,g.min=b,g.v=p=(parseFloat(t.amount)||parseFloat(t.each)*(M>p?p-1:c?c==="y"?p/M:M:Math.max(M,p/M))||0)*(r==="edges"?-1:1),g.b=p<0?s-p:s,g.u=xn(t.amount||t.each)||0,i=i&&p<0?iE(i):i}return p=(g[f]-g.min)/g.max||0,yn(g.b+(i?i(p):p)*g.v)+g.u}},Kg=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/e)*e*t;return(r-r%1)/t+(ns(i)?0:xn(i))}},KT=function(e,t){var i=wn(e),r,s;return!i&&is(e)&&(r=i=e.radius||Li,e.values?(e=Ri(e.values),(s=!ns(e[0]))&&(r*=r)):e=Kg(e.increment)),io(t,i?tn(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Li,d=0,u=e.length,f,h;u--;)s?(f=e[u].x-a,h=e[u].y-l,f=f*f+h*h):f=Math.abs(e[u]-a),f<c&&(c=f,d=u);return d=!r||c<=r?e[d]:o,s||d===o||ns(o)?d:d+xn(o)}:Kg(e))},JT=function(e,t,i,r){return io(wn(e)?!t:i===!0?!!(i=0):!r,function(){return wn(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},oO=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},aO=function(e,t){return function(i){return e(parseFloat(i))+(t||xn(i))}},lO=function(e,t,i){return QT(e,t,0,1,i)},ZT=function(e,t,i){return io(i,function(r){return e[~~t(r)]})},uO=function n(e,t,i){var r=t-e;return wn(e)?ZT(e,n(0,e.length),t):io(i,function(s){return(r+(s-e)%r)%r+e})},cO=function n(e,t,i){var r=t-e,s=r*2;return wn(e)?ZT(e,n(0,e.length-1),t):io(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},gc=function(e){for(var t=0,i="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?kT:Gg),i+=e.substr(t,r-t)+JT(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},QT=function(e,t,i,r,s){var o=t-e,a=r-i;return io(s,function(l){return i+((l-e)/o*a||0)})},fO=function n(e,t,i,r){var s=isNaN(e+t)?0:function(h){return(1-h)*e+h*t};if(!s){var o=sn(e),a={},l,c,d,u,f;if(i===!0&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(wn(e)&&!wn(t)){for(d=[],u=e.length,f=u-2,c=1;c<u;c++)d.push(n(e[c-1],e[c]));u--,s=function(m){m*=u;var p=Math.min(f,~~m);return d[p](m-p)},i=t}else r||(e=Zo(wn(e)?[]:{},e));if(!d){for(l in t)$0.call(a,e,l,"get",t[l]);s=function(m){return K0(m,a)||(o?e.p:e)}}}return io(i,s)},Kx=function(e,t,i){var r=e.labels,s=Li,o,a,l;for(o in r)a=r[o]-t,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Oi=function(e,t,i){var r=e.vars,s=r[t],o,a;if(s)return o=r[t+"Params"],a=r.callbackScope||e,i&&zs.length&&Gd(),o?s.apply(a,o):s.call(a)},Pu=function(e){return qr(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&Oi(e,"onInterrupt"),e},Ka,dO=function(e){e=!e.name&&e.default||e;var t=e.name,i=tn(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:mc,render:K0,add:$0,kill:CO,modifier:AO,rawVars:0},o={targetTest:0,get:0,getSetter:Y0,aliases:{},register:0};if(Dl(),e!==r){if(ni[t])return;Ui(r,Ui($d(e,s),o)),Zo(r.prototype,Zo(s,$d(e,o))),ni[r.prop=t]=r,e.targetTest&&(rd.push(r),V0[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}NT(t,r),e.register&&e.register(or,r,Xn)},ut=255,Lu={aqua:[0,ut,ut],lime:[0,ut,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ut],navy:[0,0,128],white:[ut,ut,ut],olive:[128,128,0],yellow:[ut,ut,0],orange:[ut,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ut,0,0],pink:[ut,192,203],cyan:[0,ut,ut],transparent:[ut,ut,ut,0]},Up=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*ut+.5|0},eE=function(e,t,i){var r=e?ns(e)?[e>>16,e>>8&ut,e&ut]:0:Lu.black,s,o,a,l,c,d,u,f,h,m;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Lu[e])r=Lu[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&ut,r&ut,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&ut,e&ut]}else if(e.substr(0,3)==="hsl"){if(r=m=e.match(Gg),!t)l=+r[0]%360/360,c=+r[1]/100,d=+r[2]/100,o=d<=.5?d*(c+1):d+c-d*c,s=d*2-o,r.length>3&&(r[3]*=1),r[0]=Up(l+1/3,s,o),r[1]=Up(l,s,o),r[2]=Up(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(RT),i&&r.length<4&&(r[3]=1),r}else r=e.match(Gg)||Lu.transparent;r=r.map(Number)}return t&&!m&&(s=r[0]/ut,o=r[1]/ut,a=r[2]/ut,u=Math.max(s,o,a),f=Math.min(s,o,a),d=(u+f)/2,u===f?l=c=0:(h=u-f,c=d>.5?h/(2-u-f):h/(u+f),l=u===s?(o-a)/h+(o<a?6:0):u===o?(a-s)/h+2:(s-o)/h+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(d*100+.5)),i&&r.length<4&&(r[3]=1),r},tE=function(e){var t=[],i=[],r=-1;return e.split(Bs).forEach(function(s){var o=s.match(Ya)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},Jx=function(e,t,i){var r="",s=(e+r).match(Bs),o=t?"hsla(":"rgba(",a=0,l,c,d,u;if(!s)return e;if(s=s.map(function(f){return(f=eE(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(d=tE(e),l=i.c,l.join(r)!==d.c.join(r)))for(c=e.replace(Bs,"1").split(Ya),u=c.length-1;a<u;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(d.length?d:s.length?s:i).shift());if(!c)for(c=e.split(Bs),u=c.length-1;a<u;a++)r+=c[a]+s[a];return r+c[u]},Bs=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Lu)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),hO=/hsl[a]?\(/,nE=function(e){var t=e.join(" "),i;if(Bs.lastIndex=0,Bs.test(t))return i=hO.test(t),e[1]=Jx(e[1],i),e[0]=Jx(e[0],i,tE(e[1])),!0},vc,ii=function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,o=s,a=[],l,c,d,u,f,h,m=function p(g){var v=n()-r,y=g===!0,_,x,w,T;if(v>e&&(i+=v-t),r+=v,w=r-i,_=w-o,(_>0||y)&&(T=++u.frame,f=w-u.time*1e3,u.time=w=w/1e3,o+=_+(_>=s?4:s-_),x=1),y||(l=c(p)),x)for(h=0;h<a.length;h++)a[h](w,f,T,g)};return u={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(g){return f/(1e3/(g||60))},wake:function(){IT&&(!$g&&PT()&&(cr=$g=window,U0=cr.document||{},di.gsap=or,(cr.gsapVersions||(cr.gsapVersions=[])).push(or.version),FT(Hd||cr.GreenSockGlobals||!cr.gsap&&cr||{}),d=cr.requestAnimationFrame),l&&u.sleep(),c=d||function(g){return setTimeout(g,o-u.time*1e3+1|0)},vc=1,m(2))},sleep:function(){(d?cr.cancelAnimationFrame:clearTimeout)(l),vc=0,c=mc},lagSmoothing:function(g,v){e=g||1/ft,t=Math.min(v,e,0)},fps:function(g){s=1e3/(g||240),o=u.time*1e3+s},add:function(g,v,y){var _=v?function(x,w,T,S){g(x,w,T,S),u.remove(_)}:g;return u.remove(g),a[y?"unshift":"push"](_),Dl(),_},remove:function(g,v){~(v=a.indexOf(g))&&a.splice(v,1)&&h>=v&&h--},_listeners:a},u}(),Dl=function(){return!vc&&ii.wake()},Ye={},pO=/^[\d.\-M][\d.\-,\s]/,mO=/["']/g,gO=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(mO,"").trim():+c,r=l.substr(a+1).trim();return t},vO=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},_O=function(e){var t=(e+"").split("("),i=Ye[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[gO(t[1])]:vO(e).split(",").map(jT)):Ye._CE&&pO.test(e)?Ye._CE("",e):i},iE=function(e){return function(t){return 1-e(1-t)}},rE=function n(e,t){for(var i=e._first,r;i;)i instanceof Bn?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},jo=function(e,t){return e&&(tn(e)?e:Ye[e]||_O(e))||t},aa=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},o;return $n(e,function(a){Ye[a]=di[a]=s,Ye[o=a.toLowerCase()]=i;for(var l in s)Ye[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Ye[a+"."+l]=s[l]}),s},sE=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},jp=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/Wg*(Math.asin(1/r)||0),a=function(d){return d===1?1:r*Math.pow(2,-10*d)*$R((d-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:sE(a);return s=Wg/s,l.config=function(c,d){return n(e,c,d)},l},Vp=function n(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:sE(i);return r.config=function(s){return n(e,s)},r};$n("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;aa(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Ye.Linear.easeNone=Ye.none=Ye.Linear.easeIn;aa("Elastic",jp("in"),jp("out"),jp());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(a){return a<t?n*a*a:a<i?n*Math.pow(a-1.5/e,2)+.75:a<r?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};aa("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);aa("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});aa("Circ",function(n){return-(DT(1-n*n)-1)});aa("Sine",function(n){return n===1?1:-GR(n*HR)+1});aa("Back",Vp("in"),Vp("out"),Vp());Ye.SteppedEase=Ye.steps=di.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,o=1-ft;return function(a){return((r*jc(0,o,a)|0)+s)*i}}};El.ease=Ye["quad.out"];$n("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return H0+=n+","+n+"Params,"});var oE=function(e,t){this.id=WR++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:BT,this.set=t?t.getSetter:Y0},_c=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Cl(this,+t.duration,1,1),this.data=t.data,vc||ii.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Cl(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(Dl(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(G0(this,i),!s._dp||s.parent||WT(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&mr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ft||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),UT(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+qx(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+qx(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?Al(this._tTime,s)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-ft?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?Xd(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ft?0:this._rts,this.totalTime(jc(-this._delay,this._tDur,r),!0),jh(this),JR(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Dl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ft&&(this._tTime-=ft)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&mr(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Gn(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Xd(r.rawTime(i),this):this._tTime:this._tTime},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Yx(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,Yx(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(bi(this,i),Gn(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Gn(r))},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ft:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ft,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-ft)},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=tn(i)?i:VT,a=function(){var c=r.then;r.then=null,tn(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Pu(this)},n}();Ui(_c.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ft,_prom:0,_ps:!1,_rts:1});var Bn=function(n){CT(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Gn(i.sortChildren),bt&&mr(i.parent||bt,zr(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&GT(zr(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return Wu(0,arguments,this),this},t.from=function(r,s,o){return Wu(1,arguments,this),this},t.fromTo=function(r,s,o,a){return Wu(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Hu(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Zt(r,s,bi(this,o),1),this},t.call=function(r,s,o){return mr(this,Zt.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,d){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=d,o.parent=this,new Zt(r,o,bi(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,d){return o.runBackwards=1,Hu(o).immediateRender=Gn(o.immediateRender),this.staggerTo(r,s,o,a,l,c,d)},t.staggerFromTo=function(r,s,o,a,l,c,d,u){return a.startAt=o,Hu(a).immediateRender=Gn(a.immediateRender),this.staggerTo(r,s,a,l,c,d,u)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,d=r<=0?0:yn(r),u=this._zTime<0!=r<0&&(this._initted||!c),f,h,m,p,g,v,y,_,x,w,T,S;if(this!==bt&&d>l&&r>=0&&(d=l),d!==this._tTime||o||u){if(a!==this._time&&c&&(d+=this._time-a,r+=this._time-a),f=d,x=this._start,_=this._ts,v=!_,u&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(T=this._yoyo,g=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(g*100+r,s,o);if(f=yn(d%g),d===l?(p=this._repeat,f=c):(p=~~(d/g),p&&p===d/g&&(f=c,p--),f>c&&(f=c)),w=Al(this._tTime,g),!a&&this._tTime&&w!==p&&(w=p),T&&p&1&&(f=c-f,S=1),p!==w&&!this._lock){var b=T&&w&1,M=b===(T&&p&1);if(p<w&&(b=!b),a=b?0:c,this._lock=1,this.render(a||(S?0:yn(p*g)),s,!c)._lock=0,this._tTime=d,!s&&this.parent&&Oi(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,M&&(this._lock=2,a=b?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;rE(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=tO(this,yn(a),yn(f)),y&&(d-=f-(f=y._start))),this._tTime=d,this._time=f,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&f&&!s&&(Oi(this,"onStart"),this._tTime!==d))return this;if(f>=a&&r>=0)for(h=this._first;h;){if(m=h._next,(h._act||f>=h._start)&&h._ts&&y!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(f-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(f-h._start)*h._ts,s,o),f!==this._time||!this._ts&&!v){y=0,m&&(d+=this._zTime=-ft);break}}h=m}else{h=this._last;for(var E=r<0?r:f;h;){if(m=h._prev,(h._act||E<=h._end)&&h._ts&&y!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(E-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(E-h._start)*h._ts,s,o),f!==this._time||!this._ts&&!v){y=0,m&&(d+=this._zTime=E?-ft:ft);break}}h=m}}if(y&&!s&&(this.pause(),y.render(f>=a?0:-ft)._zTime=f>=a?1:-1,this._ts))return this._start=x,jh(this),this.render(r,s,o);this._onUpdate&&!s&&Oi(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&a)&&(x===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(d===l&&this._ts>0||!d&&this._ts<0)&&qr(this,1),!s&&!(r<0&&!a)&&(d||a||!l)&&(Oi(this,d===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(ns(s)||(s=bi(this,s,r)),!(r instanceof _c)){if(wn(r))return r.forEach(function(a){return o.add(a,s)}),this;if(sn(r))return this.addLabel(r,s);if(tn(r))r=Zt.delayedCall(0,r);else return this}return this!==r?mr(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Li);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Zt?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return sn(r)?this.removeLabel(r):tn(r)?this.killTweensOf(r):(Uh(this,r),r===this._recent&&(this._recent=this._last),Uo(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=yn(ii.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=bi(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=Zt.delayedCall(0,s||mc,o);return a.data="isPause",this._hasPause=1,mr(this,a,bi(this,r))},t.removePause=function(r){var s=this._first;for(r=bi(this,r);s;)s._start===r&&s.data==="isPause"&&qr(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Ms!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=Ri(r),l=this._first,c=ns(s),d;l;)l instanceof Zt?qR(l._targets,a)&&(c?(!Ms||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(d=l.getTweensOf(a,s)).length&&o.push.apply(o,d),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=bi(o,r),l=s,c=l.startAt,d=l.onStart,u=l.onStartParams,f=l.immediateRender,h,m=Zt.to(o,Ui({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||ft,onStart:function(){if(o.pause(),!h){var g=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());m._dur!==g&&Cl(m,g,0,1).render(m._time,!0,!0),h=1}d&&d.apply(m,u||[])}},s));return f?m.render(0):m},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Ui({startAt:{time:bi(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Kx(this,bi(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Kx(this,bi(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ft)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return Uo(this)},t.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return n.prototype.invalidate.call(this)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Uo(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=Li,c,d,u;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(u=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),d=a._start,d>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,mr(o,a,d-a._delay,1)._lock=0):l=d,d<0&&a._ts&&(s-=d,(!u&&!o._dp||u&&u.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Cl(o,o===bt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(bt._ts&&(UT(bt,Xd(r,bt)),zT=ii.frame),ii.frame>=$x){$x+=ai.autoSleep||120;var s=bt._first;if((!s||!s._ts)&&ai.autoSleep&&ii._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ii.sleep()}}},e}(_c);Ui(Bn.prototype,{_lock:0,_hasPause:0,_forcing:0});var yO=function(e,t,i,r,s,o,a){var l=new Xn(this._pt,e,t,0,1,dE,null,s),c=0,d=0,u,f,h,m,p,g,v,y;for(l.b=i,l.e=r,i+="",r+="",(v=~r.indexOf("random("))&&(r=gc(r)),o&&(y=[i,r],o(y,e,t),i=y[0],r=y[1]),f=i.match(zp)||[];u=zp.exec(r);)m=u[0],p=r.substring(c,u.index),h?h=(h+1)%5:p.substr(-5)==="rgba("&&(h=1),m!==f[d++]&&(g=parseFloat(f[d-1])||0,l._pt={_next:l._pt,p:p||d===1?p:",",s:g,c:m.charAt(1)==="="?ul(g,m)-g:parseFloat(m)-g,m:h&&h<4?Math.round:0},c=zp.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(OT.test(r)||v)&&(l.e=0),this._pt=l,l},$0=function(e,t,i,r,s,o,a,l,c){tn(r)&&(r=r(s||0,e,o));var d=e[t],u=i!=="get"?i:tn(d)?c?e[t.indexOf("set")||!tn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,f=tn(d)?c?MO:cE:q0,h;if(sn(r)&&(~r.indexOf("random(")&&(r=gc(r)),r.charAt(1)==="="&&(h=ul(u,r)+(xn(u)||0),(h||h===0)&&(r=h))),u!==r||Jg)return!isNaN(u*r)&&r!==""?(h=new Xn(this._pt,e,t,+u||0,r-(u||0),typeof d=="boolean"?EO:fE,0,f),c&&(h.fp=c),a&&h.modifier(a,this,e),this._pt=h):(!d&&!(t in e)&&j0(t,r),yO.call(this,e,t,u,r,f,l||ai.stringFilter,c))},xO=function(e,t,i,r,s){if(tn(e)&&(e=Gu(e,s,t,i,r)),!is(e)||e.style&&e.nodeType||wn(e)||LT(e))return sn(e)?Gu(e,s,t,i,r):e;var o={},a;for(a in e)o[a]=Gu(e[a],s,t,i,r);return o},aE=function(e,t,i,r,s,o){var a,l,c,d;if(ni[e]&&(a=new ni[e]).init(s,a.rawVars?t[e]:xO(t[e],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new Xn(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==Ka))for(c=i._ptLookup[i._targets.indexOf(s)],d=a._props.length;d--;)c[a._props[d]]=l;return a},Ms,Jg,X0=function n(e,t){var i=e.vars,r=i.ease,s=i.startAt,o=i.immediateRender,a=i.lazy,l=i.onUpdate,c=i.onUpdateParams,d=i.callbackScope,u=i.runBackwards,f=i.yoyoEase,h=i.keyframes,m=i.autoRevert,p=e._dur,g=e._startAt,v=e._targets,y=e.parent,_=y&&y.data==="nested"?y.parent._targets:v,x=e._overwrite==="auto"&&!z0,w=e.timeline,T,S,b,M,E,O,V,I,N,C,B,H,P;if(w&&(!h||!r)&&(r="none"),e._ease=jo(r,El.ease),e._yEase=f?iE(jo(f===!0?r:f,El.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!w&&!!i.runBackwards,!w||h&&!i.stagger){if(I=v[0]?Bo(v[0]).harness:0,H=I&&i[I.prop],T=$d(i,V0),g&&(qr(g.render(-1,!0)),g._lazy=0),s)if(qr(e._startAt=Zt.set(v,Ui({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:Gn(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:d,stagger:0},s))),t<0&&!o&&!m&&e._startAt.render(-1,!0),o){if(t>0&&!m&&(e._startAt=0),p&&t<=0){t&&(e._zTime=t);return}}else m===!1&&(e._startAt=0);else if(u&&p){if(g)!m&&(e._startAt=0);else if(t&&(o=!1),b=Ui({overwrite:!1,data:"isFromStart",lazy:o&&Gn(a),immediateRender:o,stagger:0,parent:y},T),H&&(b[I.prop]=H),qr(e._startAt=Zt.set(v,b)),t<0&&e._startAt.render(-1,!0),e._zTime=t,!o)n(e._startAt,ft);else if(!t)return}for(e._pt=e._ptCache=0,a=p&&Gn(a)||a&&!p,S=0;S<v.length;S++){if(E=v[S],V=E._gsap||W0(v)[S]._gsap,e._ptLookup[S]=C={},Xg[V.id]&&zs.length&&Gd(),B=_===v?S:_.indexOf(E),I&&(N=new I).init(E,H||T,e,B,_)!==!1&&(e._pt=M=new Xn(e._pt,E,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(Y){C[Y]=M}),N.priority&&(O=1)),!I||H)for(b in T)ni[b]&&(N=aE(b,T,e,B,E,_))?N.priority&&(O=1):C[b]=M=$0.call(e,E,b,"get",T[b],B,_,0,i.stringFilter);e._op&&e._op[S]&&e.kill(E,e._op[S]),x&&e._pt&&(Ms=e,bt.killTweensOf(E,C,e.globalTime(t)),P=!e.parent,Ms=0),e._pt&&a&&(Xg[V.id]=1)}O&&hE(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!P,h&&t<=0&&w.render(Li,!0,!0)},wO=function(e,t,i,r,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,d,u;if(!l)for(l=e._ptCache[t]=[],d=e._ptLookup,u=e._targets.length;u--;){if(c=d[u][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t;)c=c._next;if(!c)return Jg=1,e.vars[t]="+=0",X0(e,a),Jg=0,1;l.push(c)}for(u=l.length;u--;)c=l[u],c.s=(r||r===0)&&!s?r:c.s+(r||0)+o*c.c,c.c=i-c.s,c.e&&(c.e=Dt(i)+xn(c.e)),c.b&&(c.b=c.s+xn(c.b))},bO=function(e,t){var i=e[0]?Bo(e[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return t;s=Zo({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},SO=function(e,t,i,r){var s=t.ease||r||"power1.inOut",o,a;if(wn(t))a=i[e]||(i[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Gu=function(e,t,i,r,s){return tn(e)?e.call(t,i,r,s):sn(e)&&~e.indexOf("random(")?gc(e):e},lE=H0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",uE={};$n(lE+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return uE[n]=1});var Zt=function(n){CT(e,n);function e(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=n.call(this,o?r:Hu(r))||this;var l=a.vars,c=l.duration,d=l.delay,u=l.immediateRender,f=l.stagger,h=l.overwrite,m=l.keyframes,p=l.defaults,g=l.scrollTrigger,v=l.yoyoEase,y=r.parent||bt,_=(wn(i)||LT(i)?ns(i[0]):"length"in r)?[i]:Ri(i),x,w,T,S,b,M,E,O;if(a._targets=_.length?W0(_):Wd("GSAP target "+i+" not found. https://greensock.com",!ai.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=h,m||f||mf(c)||mf(d)){if(r=a.vars,x=a.timeline=new Bn({data:"nested",defaults:p||{}}),x.kill(),x.parent=x._dp=zr(a),x._start=0,f||mf(c)||mf(d)){if(S=_.length,E=f&&YT(f),is(f))for(b in f)~lE.indexOf(b)&&(O||(O={}),O[b]=f[b]);for(w=0;w<S;w++)T=$d(r,uE),T.stagger=0,v&&(T.yoyoEase=v),O&&Zo(T,O),M=_[w],T.duration=+Gu(c,zr(a),w,M,_),T.delay=(+Gu(d,zr(a),w,M,_)||0)-a._delay,!f&&S===1&&T.delay&&(a._delay=d=T.delay,a._start+=d,T.delay=0),x.to(M,T,E?E(w,M,_):0),x._ease=Ye.none;x.duration()?c=d=0:a.timeline=0}else if(m){Hu(Ui(x.vars.defaults,{ease:"none"})),x._ease=jo(m.ease||r.ease||"none");var V=0,I,N,C;if(wn(m))m.forEach(function(B){return x.to(_,B,">")});else{T={};for(b in m)b==="ease"||b==="easeEach"||SO(b,m[b],T,m.easeEach);for(b in T)for(I=T[b].sort(function(B,H){return B.t-H.t}),V=0,w=0;w<I.length;w++)N=I[w],C={ease:N.e,duration:(N.t-(w?I[w-1].t:0))/100*c},C[b]=N.v,x.to(_,C,V),V+=C.duration;x.duration()<c&&x.to({},{duration:c-x.duration()})}}c||a.duration(c=x.duration())}else a.timeline=0;return h===!0&&!z0&&(Ms=zr(a),bt.killTweensOf(_),Ms=0),mr(y,zr(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(u||!c&&!m&&a._start===yn(y._time)&&Gn(u)&&ZR(zr(a))&&y.data!=="nested")&&(a._tTime=-ft,a.render(Math.max(0,-d))),g&&GT(zr(a),g),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,d=r>l-ft&&r>=0?l:r<ft?0:r,u,f,h,m,p,g,v,y,_;if(!c)eO(this,r,s,o);else if(d!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(u=d,y=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(m*100+r,s,o);if(u=yn(d%m),d===l?(h=this._repeat,u=c):(h=~~(d/m),h&&h===d/m&&(u=c,h--),u>c&&(u=c)),g=this._yoyo&&h&1,g&&(_=this._yEase,u=c-u),p=Al(this._tTime,m),u===a&&!o&&this._initted)return this._tTime=d,this;h!==p&&(y&&this._yEase&&rE(y,g),this.vars.repeatRefresh&&!g&&!this._lock&&(this._lock=o=1,this.render(yn(m*h),!0).invalidate()._lock=0))}if(!this._initted){if($T(this,r<0?r:u,o,s))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=d,this._time=u,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(_||this._ease)(u/c),this._from&&(this.ratio=v=1-v),u&&!a&&!s&&(Oi(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(v,f.d),f=f._next;y&&y.render(r<0?r:!u&&g?-ft:y._dur*y._ease(u/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(r<0&&this._startAt&&this._startAt.render(r,!0,o),Oi(this,"onUpdate")),this._repeat&&h!==p&&this.vars.onRepeat&&!s&&this.parent&&Oi(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&qr(this,1),!s&&!(r<0&&!a)&&(d||a)&&(Oi(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},t.resetTo=function(r,s,o,a){vc||ii.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||X0(this,l),c=this._ease(l/this._dur),wO(this,r,s,o,a,c,l)?this.resetTo(r,s,o,a):(G0(this,0),this.parent||HT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Pu(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Ms&&Ms.vars.overwrite!==!0)._first||Pu(this),this.parent&&o!==this.timeline.totalDuration()&&Cl(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?Ri(r):a,c=this._ptLookup,d=this._pt,u,f,h,m,p,g,v;if((!s||s==="all")&&KR(a,l))return s==="all"&&(this._pt=0),Pu(this);for(u=this._op=this._op||[],s!=="all"&&(sn(s)&&(p={},$n(s,function(y){return p[y]=1}),s=p),s=bO(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){f=c[v],s==="all"?(u[v]=s,m=f,h={}):(h=u[v]=u[v]||{},m=s);for(p in m)g=f&&f[p],g&&((!("kill"in g.d)||g.d.kill(p)===!0)&&Uh(this,g,"_pt"),delete f[p]),h!=="all"&&(h[p]=1)}return this._initted&&!this._pt&&d&&Pu(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Wu(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return Wu(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return bt.killTweensOf(r,s,o)},e}(_c);Ui(Zt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$n("staggerTo,staggerFrom,staggerFromTo",function(n){Zt[n]=function(){var e=new Bn,t=Yg.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var q0=function(e,t,i){return e[t]=i},cE=function(e,t,i){return e[t](i)},MO=function(e,t,i,r){return e[t](r.fp,i)},TO=function(e,t,i){return e.setAttribute(t,i)},Y0=function(e,t){return tn(e[t])?cE:B0(e[t])&&e.setAttribute?TO:q0},fE=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},EO=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},dE=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},K0=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},AO=function(e,t,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},CO=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?Uh(this,t,"_pt"):t.dep||(i=1),t=r;return!i},DO=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},hE=function(e){for(var t=e._pt,i,r,s,o;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},Xn=function(){function n(t,i,r,s,o,a,l,c,d){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||fE,this.d=l||this,this.set=c||q0,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=DO,this.m=i,this.mt=s,this.tween=r},n}();$n(H0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return V0[n]=1});di.TweenMax=di.TweenLite=Zt;di.TimelineLite=di.TimelineMax=Bn;bt=new Bn({sortChildren:!1,defaults:El,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ai.stringFilter=nE;var qd={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return dO(r)})},timeline:function(e){return new Bn(e)},getTweensOf:function(e,t){return bt.getTweensOf(e,t)},getProperty:function(e,t,i,r){sn(e)&&(e=Ri(e)[0]);var s=Bo(e||{}).get,o=i?VT:jT;return i==="native"&&(i=""),e&&(t?o((ni[t]&&ni[t].get||s)(e,t,i,r)):function(a,l,c){return o((ni[a]&&ni[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,i){if(e=Ri(e),e.length>1){var r=e.map(function(d){return or.quickSetter(d,t,i)}),s=r.length;return function(d){for(var u=s;u--;)r[u](d)}}e=e[0]||{};var o=ni[t],a=Bo(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(d){var u=new o;Ka._pt=0,u.init(e,i?d+i:d,Ka,0,[e]),u.render(1,u),Ka._pt&&K0(1,Ka)}:a.set(e,l);return o?c:function(d){return c(e,l,i?d+i:d,a,1)}},quickTo:function(e,t,i){var r,s=or.to(e,Zo((r={},r[t]="+=0.1",r.paused=!0,r),i||{})),o=function(l,c,d){return s.resetTo(t,l,c,d)};return o.tween=s,o},isTweening:function(e){return bt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=jo(e.ease,El.ease)),Xx(El,e||{})},config:function(e){return Xx(ai,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!ni[a]&&!di[a]&&Wd(t+" effect requires "+a+" plugin.")}),Bp[t]=function(a,l,c){return i(Ri(a),Ui(l||{},s),c)},o&&(Bn.prototype[t]=function(a,l,c){return this.add(Bp[t](a,is(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Ye[e]=jo(t)},parseEase:function(e,t){return arguments.length?jo(e,t):Ye},getById:function(e){return bt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Bn(e),r,s;for(i.smoothChildTiming=Gn(e.smoothChildTiming),bt.remove(i),i._dp=0,i._time=i._tTime=bt._time,r=bt._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Zt&&r.vars.onComplete===r._targets[0]))&&mr(i,r,r._start-r._delay),r=s;return mr(bt,i,0),i},utils:{wrap:uO,wrapYoyo:cO,distribute:YT,random:JT,snap:KT,normalize:lO,getUnit:xn,clamp:iO,splitColor:eE,toArray:Ri,selector:sO,mapRange:QT,pipe:oO,unitize:aO,interpolate:fO,shuffle:qT},install:FT,effects:Bp,ticker:ii,updateRoot:Bn.updateRoot,plugins:ni,globalTimeline:bt,core:{PropTween:Xn,globals:NT,Tween:Zt,Timeline:Bn,Animation:_c,getCache:Bo,_removeLinkedListItem:Uh,suppressOverwrites:function(e){return z0=e}}};$n("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return qd[n]=Zt[n]});ii.add(Bn.updateRoot);Ka=qd.to({},{duration:0});var PO=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},LO=function(e,t){var i=e._targets,r,s,o;for(r in t)for(s=i.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=PO(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))},Hp=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(sn(s)&&(l={},$n(s,function(d){return l[d]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}LO(a,s)}}}},or=qd.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a;for(o in t)a=this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],r,s,0,0,o),a&&(a.op=o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i])}},Hp("roundProps",Kg),Hp("modifiers"),Hp("snap",KT))||qd;Zt.version=Bn.version=or.version="3.10.4";IT=1;PT()&&Dl();Ye.Power0;Ye.Power1;Ye.Power2;Ye.Power3;Ye.Power4;Ye.Linear;Ye.Quad;Ye.Cubic;Ye.Quart;Ye.Quint;Ye.Strong;Ye.Elastic;Ye.Back;Ye.SteppedEase;Ye.Bounce;Ye.Sine;Ye.Expo;Ye.Circ;/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Zx,Ts,cl,J0,Ro,Qx,RO=function(){return typeof window<"u"},Xs={},Mo=180/Math.PI,fl=Math.PI/180,_a=Math.atan2,e1=1e8,pE=/([A-Z])/g,OO=/(left|right|width|margin|padding|x)/i,kO=/[\s,\(]\S/,Es={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},mE=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},IO=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},FO=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},NO=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},gE=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},vE=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},zO=function(e,t,i){return e.style[t]=i},BO=function(e,t,i){return e.style.setProperty(t,i)},UO=function(e,t,i){return e._gsap[t]=i},jO=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},VO=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},HO=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},un="transform",qs=un+"Origin",_E,Zg=function(e,t){var i=Ts.createElementNS?Ts.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ts.createElement(e);return i.style?i:Ts.createElement(e)},Yr=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(pE,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,Pl(t)||t,1)||""},t1="O,Moz,ms,Ms,Webkit".split(","),Pl=function(e,t,i){var r=t||Ro,s=r.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(t1[o]+e in s););return o<0?null:(o===3?"ms":o>=0?t1[o]:"")+e},Qg=function(){RO()&&window.document&&(Zx=window,Ts=Zx.document,cl=Ts.documentElement,Ro=Zg("div")||{style:{}},Zg("div"),un=Pl(un),qs=un+"Origin",Ro.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_E=!!Pl("perspective"),J0=1)},Wp=function n(e){var t=Zg("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(cl.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),cl.removeChild(t),this.style.cssText=s,o},n1=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},yE=function(e){var t;try{t=e.getBBox()}catch{t=Wp.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Wp||(t=Wp.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+n1(e,["x","cx","x1"])||0,y:+n1(e,["y","cy","y1"])||0,width:0,height:0}:t},xE=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&yE(e))},yc=function(e,t){if(t){var i=e.style;t in Xs&&t!==qs&&(t=un),i.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(t.replace(pE,"-$1").toLowerCase())):i.removeAttribute(t)}},As=function(e,t,i,r,s,o){var a=new Xn(e._pt,t,i,0,1,o?vE:gE);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},i1={deg:1,rad:1,turn:1},Ys=function n(e,t,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Ro.style,l=OO.test(t),c=e.tagName.toLowerCase()==="svg",d=(c?"client":"offset")+(l?"Width":"Height"),u=100,f=r==="px",h=r==="%",m,p,g,v;return r===o||!s||i1[r]||i1[o]?s:(o!=="px"&&!f&&(s=n(e,t,i,"px")),v=e.getCTM&&xE(e),(h||o==="%")&&(Xs[t]||~t.indexOf("adius"))?(m=v?e.getBBox()[l?"width":"height"]:e[d],Dt(h?s/m*u:s/100*m)):(a[l?"width":"height"]=u+(f?o:r),p=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===Ts||!p.appendChild)&&(p=Ts.body),g=p._gsap,g&&h&&g.width&&l&&g.time===ii.time?Dt(s/g.width*u):((h||o==="%")&&(a.position=Yr(e,"position")),p===e&&(a.position="static"),p.appendChild(Ro),m=Ro[d],p.removeChild(Ro),a.position="absolute",l&&h&&(g=Bo(p),g.time=ii.time,g.width=p[d]),Dt(f?m*s/u:m&&s?u/m*s:0))))},To=function(e,t,i,r){var s;return J0||Qg(),t in Es&&t!=="transform"&&(t=Es[t],~t.indexOf(",")&&(t=t.split(",")[0])),Xs[t]&&t!=="transform"?(s=wc(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Kd(Yr(e,qs))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Yd[t]&&Yd[t](e,t,i)||Yr(e,t)||BT(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Ys(e,t,s,i)+i:s},WO=function(e,t,i,r){if(!i||i==="none"){var s=Pl(t,e,1),o=s&&Yr(e,s,1);o&&o!==i?(t=s,i=o):t==="borderColor"&&(i=Yr(e,"borderTopColor"))}var a=new Xn(this._pt,e.style,t,0,1,dE),l=0,c=0,d,u,f,h,m,p,g,v,y,_,x,w;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(e.style[t]=r,r=Yr(e,t)||r,e.style[t]=i),d=[i,r],nE(d),i=d[0],r=d[1],f=i.match(Ya)||[],w=r.match(Ya)||[],w.length){for(;u=Ya.exec(r);)g=u[0],y=r.substring(l,u.index),m?m=(m+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(m=1),g!==(p=f[c++]||"")&&(h=parseFloat(p)||0,x=p.substr((h+"").length),g.charAt(1)==="="&&(g=ul(h,g)+x),v=parseFloat(g),_=g.substr((v+"").length),l=Ya.lastIndex-_.length,_||(_=_||ai.units[t]||x,l===r.length&&(r+=_,a.e+=_)),x!==_&&(h=Ys(e,t,p,_)||0),a._pt={_next:a._pt,p:y||c===1?y:",",s:h,c:v-h,m:m&&m<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?vE:gE;return OT.test(r)&&(a.e=0),this._pt=a,a},r1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},GO=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=r1[i]||i,t[1]=r1[r]||r,t.join(" ")},$O=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Xs[a]&&(l=1,a=a==="transformOrigin"?qs:un),yc(i,a);l&&(yc(i,un),o&&(o.svg&&i.removeAttribute("transform"),wc(i,1),o.uncache=1))}},Yd={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var o=e._pt=new Xn(e._pt,t,i,0,0,$O);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},xc=[1,0,0,1,0,0],wE={},bE=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},s1=function(e){var t=Yr(e,un);return bE(t)?xc:t.substr(7).match(RT).map(Dt)},Z0=function(e,t){var i=e._gsap||Bo(e),r=e.style,s=s1(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?xc:s):(s===xc&&!e.offsetParent&&e!==cl&&!i.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextSibling,cl.appendChild(e)),s=s1(e),l?r.display=l:yc(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):cl.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},ev=function(e,t,i,r,s,o){var a=e._gsap,l=s||Z0(e,!0),c=a.xOrigin||0,d=a.yOrigin||0,u=a.xOffset||0,f=a.yOffset||0,h=l[0],m=l[1],p=l[2],g=l[3],v=l[4],y=l[5],_=t.split(" "),x=parseFloat(_[0])||0,w=parseFloat(_[1])||0,T,S,b,M;i?l!==xc&&(S=h*g-m*p)&&(b=x*(g/S)+w*(-p/S)+(p*y-g*v)/S,M=x*(-m/S)+w*(h/S)-(h*y-m*v)/S,x=b,w=M):(T=yE(e),x=T.x+(~_[0].indexOf("%")?x/100*T.width:x),w=T.y+(~(_[1]||_[0]).indexOf("%")?w/100*T.height:w)),r||r!==!1&&a.smooth?(v=x-c,y=w-d,a.xOffset=u+(v*h+y*p)-v,a.yOffset=f+(v*m+y*g)-y):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=w,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[qs]="0px 0px",o&&(As(o,a,"xOrigin",c,x),As(o,a,"yOrigin",d,w),As(o,a,"xOffset",u,a.xOffset),As(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},wc=function(e,t){var i=e._gsap||new oE(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,o="px",a="deg",l=Yr(e,qs)||"0",c,d,u,f,h,m,p,g,v,y,_,x,w,T,S,b,M,E,O,V,I,N,C,B,H,P,Y,X,$,Z,re,se;return c=d=u=m=p=g=v=y=_=0,f=h=1,i.svg=!!(e.getCTM&&xE(e)),T=Z0(e,i.svg),i.svg&&(B=(!i.uncache||l==="0px 0px")&&!t&&e.getAttribute("data-svg-origin"),ev(e,B||l,!!B||i.originIsAbsolute,i.smooth!==!1,T)),x=i.xOrigin||0,w=i.yOrigin||0,T!==xc&&(E=T[0],O=T[1],V=T[2],I=T[3],c=N=T[4],d=C=T[5],T.length===6?(f=Math.sqrt(E*E+O*O),h=Math.sqrt(I*I+V*V),m=E||O?_a(O,E)*Mo:0,v=V||I?_a(V,I)*Mo+m:0,v&&(h*=Math.abs(Math.cos(v*fl))),i.svg&&(c-=x-(x*E+w*V),d-=w-(x*O+w*I))):(se=T[6],Z=T[7],Y=T[8],X=T[9],$=T[10],re=T[11],c=T[12],d=T[13],u=T[14],S=_a(se,$),p=S*Mo,S&&(b=Math.cos(-S),M=Math.sin(-S),B=N*b+Y*M,H=C*b+X*M,P=se*b+$*M,Y=N*-M+Y*b,X=C*-M+X*b,$=se*-M+$*b,re=Z*-M+re*b,N=B,C=H,se=P),S=_a(-V,$),g=S*Mo,S&&(b=Math.cos(-S),M=Math.sin(-S),B=E*b-Y*M,H=O*b-X*M,P=V*b-$*M,re=I*M+re*b,E=B,O=H,V=P),S=_a(O,E),m=S*Mo,S&&(b=Math.cos(S),M=Math.sin(S),B=E*b+O*M,H=N*b+C*M,O=O*b-E*M,C=C*b-N*M,E=B,N=H),p&&Math.abs(p)+Math.abs(m)>359.9&&(p=m=0,g=180-g),f=Dt(Math.sqrt(E*E+O*O+V*V)),h=Dt(Math.sqrt(C*C+se*se)),S=_a(N,C),v=Math.abs(S)>2e-4?S*Mo:0,_=re?1/(re<0?-re:re):0),i.svg&&(B=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!bE(Yr(e,un)),B&&e.setAttribute("transform",B))),Math.abs(v)>90&&Math.abs(v)<270&&(s?(f*=-1,v+=m<=0?180:-180,m+=m<=0?180:-180):(h*=-1,v+=v<=0?180:-180)),t=t||i.uncache,i.x=c-((i.xPercent=c&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=d-((i.yPercent=d&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=u+o,i.scaleX=Dt(f),i.scaleY=Dt(h),i.rotation=Dt(m)+a,i.rotationX=Dt(p)+a,i.rotationY=Dt(g)+a,i.skewX=v+a,i.skewY=y+a,i.transformPerspective=_+o,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[qs]=Kd(l)),i.xOffset=i.yOffset=0,i.force3D=ai.force3D,i.renderTransform=i.svg?qO:_E?SE:XO,i.uncache=0,i},Kd=function(e){return(e=e.split(" "))[0]+" "+e[1]},Gp=function(e,t,i){var r=xn(t);return Dt(parseFloat(t)+parseFloat(Ys(e,"x",i+"px",r)))+r},XO=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,SE(e,t)},uo="0deg",uu="0px",co=") ",SE=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,d=i.rotationY,u=i.rotationX,f=i.skewX,h=i.skewY,m=i.scaleX,p=i.scaleY,g=i.transformPerspective,v=i.force3D,y=i.target,_=i.zOrigin,x="",w=v==="auto"&&e&&e!==1||v===!0;if(_&&(u!==uo||d!==uo)){var T=parseFloat(d)*fl,S=Math.sin(T),b=Math.cos(T),M;T=parseFloat(u)*fl,M=Math.cos(T),o=Gp(y,o,S*M*-_),a=Gp(y,a,-Math.sin(T)*-_),l=Gp(y,l,b*M*-_+_)}g!==uu&&(x+="perspective("+g+co),(r||s)&&(x+="translate("+r+"%, "+s+"%) "),(w||o!==uu||a!==uu||l!==uu)&&(x+=l!==uu||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+co),c!==uo&&(x+="rotate("+c+co),d!==uo&&(x+="rotateY("+d+co),u!==uo&&(x+="rotateX("+u+co),(f!==uo||h!==uo)&&(x+="skew("+f+", "+h+co),(m!==1||p!==1)&&(x+="scale("+m+", "+p+co),y.style[un]=x||"translate(0, 0)"},qO=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,d=i.skewY,u=i.scaleX,f=i.scaleY,h=i.target,m=i.xOrigin,p=i.yOrigin,g=i.xOffset,v=i.yOffset,y=i.forceCSS,_=parseFloat(o),x=parseFloat(a),w,T,S,b,M;l=parseFloat(l),c=parseFloat(c),d=parseFloat(d),d&&(d=parseFloat(d),c+=d,l+=d),l||c?(l*=fl,c*=fl,w=Math.cos(l)*u,T=Math.sin(l)*u,S=Math.sin(l-c)*-f,b=Math.cos(l-c)*f,c&&(d*=fl,M=Math.tan(c-d),M=Math.sqrt(1+M*M),S*=M,b*=M,d&&(M=Math.tan(d),M=Math.sqrt(1+M*M),w*=M,T*=M)),w=Dt(w),T=Dt(T),S=Dt(S),b=Dt(b)):(w=u,b=f,T=S=0),(_&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(_=Ys(h,"x",o,"px"),x=Ys(h,"y",a,"px")),(m||p||g||v)&&(_=Dt(_+m-(m*w+p*S)+g),x=Dt(x+p-(m*T+p*b)+v)),(r||s)&&(M=h.getBBox(),_=Dt(_+r/100*M.width),x=Dt(x+s/100*M.height)),M="matrix("+w+","+T+","+S+","+b+","+_+","+x+")",h.setAttribute("transform",M),y&&(h.style[un]=M)},YO=function(e,t,i,r,s){var o=360,a=sn(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Mo:1),c=l-r,d=r+c+"deg",u,f;return a&&(u=s.split("_")[1],u==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),u==="cw"&&c<0?c=(c+o*e1)%o-~~(c/o)*o:u==="ccw"&&c>0&&(c=(c-o*e1)%o-~~(c/o)*o)),e._pt=f=new Xn(e._pt,t,i,r,c,IO),f.e=d,f.u="deg",e._props.push(i),f},o1=function(e,t){for(var i in t)e[i]=t[i];return e},KO=function(e,t,i){var r=o1({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,d,u,f,h,m;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[un]=t,a=wc(i,1),yc(i,un),i.setAttribute("transform",c)):(c=getComputedStyle(i)[un],o[un]=t,a=wc(i,1),o[un]=c);for(l in Xs)c=r[l],d=a[l],c!==d&&s.indexOf(l)<0&&(h=xn(c),m=xn(d),u=h!==m?Ys(i,l,c,m):parseFloat(c),f=parseFloat(d),e._pt=new Xn(e._pt,a,l,u,f-u,mE),e._pt.u=m||0,e._props.push(l));o1(a,r)};$n("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});Yd[e>1?"border"+n:n]=function(a,l,c,d,u){var f,h;if(arguments.length<4)return f=o.map(function(m){return To(a,m,c)}),h=f.join(" "),h.split(f[0]).length===5?f[0]:h;f=(d+"").split(" "),h={},o.forEach(function(m,p){return h[m]=f[p]=f[p]||f[(p-1)/2|0]}),a.init(l,h,u)}});var ME={name:"css",register:Qg,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var o=this._props,a=e.style,l=i.vars.startAt,c,d,u,f,h,m,p,g,v,y,_,x,w,T,S;J0||Qg();for(p in t)if(p!=="autoRound"&&(d=t[p],!(ni[p]&&aE(p,t,i,r,e,s)))){if(h=typeof d,m=Yd[p],h==="function"&&(d=d.call(i,r,e,s),h=typeof d),h==="string"&&~d.indexOf("random(")&&(d=gc(d)),m)m(this,e,p,d,i)&&(S=1);else if(p.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(p)+"").trim(),d+="",Bs.lastIndex=0,Bs.test(c)||(g=xn(c),v=xn(d)),v?g!==v&&(c=Ys(e,p,c,v)+v):g&&(d+=g),this.add(a,"setProperty",c,d,r,s,0,0,p),o.push(p);else if(h!=="undefined"){if(l&&p in l?(c=typeof l[p]=="function"?l[p].call(i,r,e,s):l[p],sn(c)&&~c.indexOf("random(")&&(c=gc(c)),xn(c+"")||(c+=ai.units[p]||xn(To(e,p))||""),(c+"").charAt(1)==="="&&(c=To(e,p))):c=To(e,p),f=parseFloat(c),y=h==="string"&&d.charAt(1)==="="&&d.substr(0,2),y&&(d=d.substr(2)),u=parseFloat(d),p in Es&&(p==="autoAlpha"&&(f===1&&To(e,"visibility")==="hidden"&&u&&(f=0),As(this,a,"visibility",f?"inherit":"hidden",u?"inherit":"hidden",!u)),p!=="scale"&&p!=="transform"&&(p=Es[p],~p.indexOf(",")&&(p=p.split(",")[0]))),_=p in Xs,_){if(x||(w=e._gsap,w.renderTransform&&!t.parseTransform||wc(e,t.parseTransform),T=t.smoothOrigin!==!1&&w.smooth,x=this._pt=new Xn(this._pt,a,un,0,1,w.renderTransform,w,0,-1),x.dep=1),p==="scale")this._pt=new Xn(this._pt,w,"scaleY",w.scaleY,(y?ul(w.scaleY,y+u):u)-w.scaleY||0),o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){d=GO(d),w.svg?ev(e,d,0,T,0,this):(v=parseFloat(d.split(" ")[2])||0,v!==w.zOrigin&&As(this,w,"zOrigin",w.zOrigin,v),As(this,a,p,Kd(c),Kd(d)));continue}else if(p==="svgOrigin"){ev(e,d,1,T,0,this);continue}else if(p in wE){YO(this,w,p,f,y?ul(f,y+d):d);continue}else if(p==="smoothOrigin"){As(this,w,"smooth",w.smooth,d);continue}else if(p==="force3D"){w[p]=d;continue}else if(p==="transform"){KO(this,d,e);continue}}else p in a||(p=Pl(p)||p);if(_||(u||u===0)&&(f||f===0)&&!kO.test(d)&&p in a)g=(c+"").substr((f+"").length),u||(u=0),v=xn(d)||(p in ai.units?ai.units[p]:g),g!==v&&(f=Ys(e,p,c,v)),this._pt=new Xn(this._pt,_?w:a,p,f,(y?ul(f,y+u):u)-f,!_&&(v==="px"||p==="zIndex")&&t.autoRound!==!1?NO:mE),this._pt.u=v||0,g!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=FO);else if(p in a)WO.call(this,e,p,c,y?y+d:d);else if(p in e)this.add(e,p,c||e[p],y?y+d:d,r,s);else{j0(p,d);continue}o.push(p)}}S&&hE(this)},get:To,aliases:Es,getSetter:function(e,t,i){var r=Es[t];return r&&r.indexOf(",")<0&&(t=r),t in Xs&&t!==qs&&(e._gsap.x||To(e,"x"))?i&&Qx===i?t==="scale"?jO:UO:(Qx=i||{})&&(t==="scale"?VO:HO):e.style&&!B0(e.style[t])?zO:~t.indexOf("-")?BO:Y0(e,t)},core:{_removeProperty:yc,_getMatrix:Z0}};or.utils.checkPrefix=Pl;(function(n,e,t,i){var r=$n(n+","+e+","+t,function(s){Xs[s]=1});$n(e,function(s){ai.units[s]="deg",wE[s]=1}),Es[r[13]]=n+","+e,$n(i,function(s){var o=s.split(":");Es[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$n("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ai.units[n]="px"});or.registerPlugin(ME);var ge=or.registerPlugin(ME)||or;ge.core.Tween;const Q0=j.createContext({transitionStage:"close",displayLocation:{pathname:"/",search:"",hash:"",state:null,key:"default"}}),JO=({children:n})=>{const{t:e}=Bi("translation"),t=no(),i=gi(),r=j.useRef(null),[s,o]=j.useState(t),[a,l]=j.useState(t.pathname==="/"?"close":"open"),c=j.useCallback(()=>{o(t)},[t]),d=j.useCallback(()=>{var v;l("open"),i.pointer.setType("default"),(v=window.experience.world.portfolio)==null||v.openProjectAnimation()},[i.pointer]),u=j.useCallback(()=>{var v;l("close"),(v=window.experience.world.portfolio)==null||v.closeProjectAnimation()},[]),f=j.useCallback(()=>{var v,y;(v=window.experience.world.portfolio)==null||v.closeProjectAnimation(),(y=window.experience.world.portfolio)==null||y.openProjectAnimation(),l("transitionOut"),ge.delayedCall(1.3,()=>{r.current&&r.current.scroll(0,0),c(),l("open")})},[c]);j.useEffect(()=>{window.currentLocation=s,window.comingLocation=t,t!==s&&(t.pathname==="/"?u():t.pathname!=="/"&&s.pathname!=="/"?f():(d(),o(t)))},[t,s,u,d,f]);const h=j.useCallback(()=>{i.pointer.setType("hover")},[i.pointer]),m=j.useCallback(()=>{i.pointer.setType("default")},[i.pointer]),p=at(lu.root,lu[a]),g=at(lu.backButton,lu[a]);return D.jsxs(D.Fragment,{children:[D.jsx("div",{className:p,onAnimationEnd:c,children:D.jsx("div",{"data-scroll-lock-scrollable":!0,className:lu.contentContainer,ref:r,children:D.jsx("div",{children:D.jsx(Q0.Provider,{value:{displayLocation:s,transitionStage:a},children:n})})})}),D.jsxs("button",{className:g,onClick:()=>Vd("/"),onMouseEnter:h,onMouseLeave:m,children:[D.jsx("figure",{children:D.jsx("img",{src:"/icons/arrow-left.svg"})}),D.jsx("span",{children:e("close")})]})]})},TE=n=>{const e={x:0,y:0};if(n.type=="touchstart"||n.type=="touchmove"||n.type=="touchend"||n.type=="touchcancel"){const t=n.originalEvent,i=typeof t>"u"?n:t,r=i.touches[0]||i.changedTouches[0];e.x=r.clientX,e.y=r.clientY}else if(n.type=="mousedown"||n.type=="mouseup"||n.type=="mousemove"||n.type=="mouseover"||n.type=="mouseout"||n.type=="mouseenter"||n.type=="mouseleave"){const t=n;e.x=t.clientX,e.y=t.clientY}return e};var EE={exports:{}};(function(n,e){(function(i,r){n.exports=r()})(Rn,function(){return function(t){var i={};function r(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=i,r.d=function(s,o,a){r.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,o){if(o&1&&(s=r(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var l in s)r.d(a,l,(function(c){return s[c]}).bind(null,l));return a},r.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(o,"a",o),o},r.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},r.p="",r(r.s=0)}([function(t,i,r){r.r(i);var s=function(R){return Array.isArray(R)?R:[R]},o=function(R){return R instanceof Node},a=function(R){return R instanceof NodeList},l=function(R,G){if(R&&G){R=a(R)?R:[R];for(var ae=0;ae<R.length&&G(R[ae],ae,R.length)!==!0;ae++);}},c=function(R){return console.error("[scroll-lock] ".concat(R))},d=function(R){if(Array.isArray(R)){var G=R.join(", ");return G}},u=function(R){var G=[];return l(R,function(ae){return G.push(ae)}),G},f=function(R,G){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:document;if(ae&&u(A.querySelectorAll(G)).indexOf(R)!==-1)return R;for(;(R=R.parentElement)&&u(A.querySelectorAll(G)).indexOf(R)===-1;);return R},h=function(R,G){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,A=u(ae.querySelectorAll(G)).indexOf(R)!==-1;return A},m=function(R){if(R){var G=getComputedStyle(R),ae=G.overflow==="hidden";return ae}},p=function(R){if(R){if(m(R))return!0;var G=R.scrollTop;return G<=0}},g=function(R){if(R){if(m(R))return!0;var G=R.scrollTop,ae=R.scrollHeight,A=G+R.offsetHeight;return A>=ae}},v=function(R){if(R){if(m(R))return!0;var G=R.scrollLeft;return G<=0}},y=function(R){if(R){if(m(R))return!0;var G=R.scrollLeft,ae=R.scrollWidth,A=G+R.offsetWidth;return A>=ae}},_=function(R){var G='textarea, [contenteditable="true"]';return h(R,G)},x=function(R){var G='input[type="range"]';return h(R,G)};r.d(i,"disablePageScroll",function(){return E}),r.d(i,"enablePageScroll",function(){return O}),r.d(i,"getScrollState",function(){return V}),r.d(i,"clearQueueScrollLocks",function(){return I}),r.d(i,"getTargetScrollBarWidth",function(){return N}),r.d(i,"getCurrentTargetScrollBarWidth",function(){return C}),r.d(i,"getPageScrollBarWidth",function(){return B}),r.d(i,"getCurrentPageScrollBarWidth",function(){return H}),r.d(i,"addScrollableTarget",function(){return P}),r.d(i,"removeScrollableTarget",function(){return Y}),r.d(i,"addScrollableSelector",function(){return X}),r.d(i,"removeScrollableSelector",function(){return $}),r.d(i,"addLockableTarget",function(){return Z}),r.d(i,"addLockableSelector",function(){return re}),r.d(i,"setFillGapMethod",function(){return se}),r.d(i,"addFillGapTarget",function(){return ve}),r.d(i,"removeFillGapTarget",function(){return te}),r.d(i,"addFillGapSelector",function(){return ke}),r.d(i,"removeFillGapSelector",function(){return Te}),r.d(i,"refillGaps",function(){return Re});function w(fe){for(var R=1;R<arguments.length;R++){var G=arguments[R]!=null?arguments[R]:{},ae=Object.keys(G);typeof Object.getOwnPropertySymbols=="function"&&(ae=ae.concat(Object.getOwnPropertySymbols(G).filter(function(A){return Object.getOwnPropertyDescriptor(G,A).enumerable}))),ae.forEach(function(A){T(fe,A,G[A])})}return fe}function T(fe,R,G){return R in fe?Object.defineProperty(fe,R,{value:G,enumerable:!0,configurable:!0,writable:!0}):fe[R]=G,fe}var S=["padding","margin","width","max-width","none"],b=3,M={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:S[0],startTouchY:0,startTouchX:0},E=function(R){M.queue<=0&&(M.scroll=!1,Q(),Fe()),P(R),M.queue++},O=function(R){M.queue>0&&M.queue--,M.queue<=0&&(M.scroll=!0,he(),Be()),Y(R)},V=function(){return M.scroll},I=function(){M.queue=0},N=function(R){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o(R)){var ae=R.style.overflowY;G?V()||(R.style.overflowY=R.getAttribute("data-scroll-lock-saved-overflow-y-property")):R.style.overflowY="scroll";var A=C(R);return R.style.overflowY=ae,A}else return 0},C=function(R){if(o(R))if(R===document.body){var G=document.documentElement.clientWidth,ae=window.innerWidth,A=ae-G;return A}else{var z=R.style.borderLeftWidth,J=R.style.borderRightWidth;R.style.borderLeftWidth="0px",R.style.borderRightWidth="0px";var K=R.offsetWidth-R.clientWidth;return R.style.borderLeftWidth=z,R.style.borderRightWidth=J,K}else return 0},B=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N(document.body,R)},H=function(){return C(document.body)},P=function(R){if(R){var G=s(R);G.map(function(ae){l(ae,function(A){o(A)?A.setAttribute("data-scroll-lock-scrollable",""):c('"'.concat(A,'" is not a Element.'))})})}},Y=function(R){if(R){var G=s(R);G.map(function(ae){l(ae,function(A){o(A)?A.removeAttribute("data-scroll-lock-scrollable"):c('"'.concat(A,'" is not a Element.'))})})}},X=function(R){if(R){var G=s(R);G.map(function(ae){M.scrollableSelectors.push(ae)})}},$=function(R){if(R){var G=s(R);G.map(function(ae){M.scrollableSelectors=M.scrollableSelectors.filter(function(A){return A!==ae})})}},Z=function(R){if(R){var G=s(R);G.map(function(ae){l(ae,function(A){o(A)?A.setAttribute("data-scroll-lock-lockable",""):c('"'.concat(A,'" is not a Element.'))})}),V()||Q()}},re=function(R){if(R){var G=s(R);G.map(function(ae){M.lockableSelectors.push(ae)}),V()||Q(),ke(R)}},se=function(R){if(R)if(S.indexOf(R)!==-1)M.fillGapMethod=R,Re();else{var G=S.join(", ");c('"'.concat(R,`" method is not available!
Available fill gap methods: `).concat(G,"."))}},ve=function(R){if(R){var G=s(R);G.map(function(ae){l(ae,function(A){o(A)?(A.setAttribute("data-scroll-lock-fill-gap",""),M.scroll||Oe(A)):c('"'.concat(A,'" is not a Element.'))})})}},te=function(R){if(R){var G=s(R);G.map(function(ae){l(ae,function(A){o(A)?(A.removeAttribute("data-scroll-lock-fill-gap"),M.scroll||xe(A)):c('"'.concat(A,'" is not a Element.'))})})}},ke=function(R){if(R){var G=s(R);G.map(function(ae){M.fillGapSelectors.indexOf(ae)===-1&&(M.fillGapSelectors.push(ae),M.scroll||Ne(ae))})}},Te=function(R){if(R){var G=s(R);G.map(function(ae){M.fillGapSelectors=M.fillGapSelectors.filter(function(A){return A!==ae}),M.scroll||Ve(ae)})}},Re=function(){M.scroll||Fe()},Q=function(){var R=d(M.lockableSelectors);Se(R)},he=function(){var R=d(M.lockableSelectors);ye(R)},Se=function(R){var G=document.querySelectorAll(R);l(G,function(ae){Pe(ae)})},ye=function(R){var G=document.querySelectorAll(R);l(G,function(ae){ze(ae)})},Pe=function(R){if(o(R)&&R.getAttribute("data-scroll-lock-locked")!=="true"){var G=window.getComputedStyle(R);R.setAttribute("data-scroll-lock-saved-overflow-y-property",G.overflowY),R.setAttribute("data-scroll-lock-saved-inline-overflow-property",R.style.overflow),R.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",R.style.overflowY),R.style.overflow="hidden",R.setAttribute("data-scroll-lock-locked","true")}},ze=function(R){o(R)&&R.getAttribute("data-scroll-lock-locked")==="true"&&(R.style.overflow=R.getAttribute("data-scroll-lock-saved-inline-overflow-property"),R.style.overflowY=R.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),R.removeAttribute("data-scroll-lock-saved-overflow-property"),R.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),R.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),R.removeAttribute("data-scroll-lock-locked"))},Fe=function(){M.fillGapSelectors.map(function(R){Ne(R)})},Be=function(){M.fillGapSelectors.map(function(R){Ve(R)})},Ne=function(R){var G=document.querySelectorAll(R),ae=M.lockableSelectors.indexOf(R)!==-1;l(G,function(A){Oe(A,ae)})},Oe=function(R){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o(R)){var ae;if(R.getAttribute("data-scroll-lock-lockable")===""||G)ae=N(R,!0);else{var A=f(R,d(M.lockableSelectors));ae=N(A,!0)}R.getAttribute("data-scroll-lock-filled-gap")==="true"&&xe(R);var z=window.getComputedStyle(R);if(R.setAttribute("data-scroll-lock-filled-gap","true"),R.setAttribute("data-scroll-lock-current-fill-gap-method",M.fillGapMethod),M.fillGapMethod==="margin"){var J=parseFloat(z.marginRight);R.style.marginRight="".concat(J+ae,"px")}else if(M.fillGapMethod==="width")R.style.width="calc(100% - ".concat(ae,"px)");else if(M.fillGapMethod==="max-width")R.style.maxWidth="calc(100% - ".concat(ae,"px)");else if(M.fillGapMethod==="padding"){var K=parseFloat(z.paddingRight);R.style.paddingRight="".concat(K+ae,"px")}}},Ve=function(R){var G=document.querySelectorAll(R);l(G,function(ae){xe(ae)})},xe=function(R){if(o(R)&&R.getAttribute("data-scroll-lock-filled-gap")==="true"){var G=R.getAttribute("data-scroll-lock-current-fill-gap-method");R.removeAttribute("data-scroll-lock-filled-gap"),R.removeAttribute("data-scroll-lock-current-fill-gap-method"),G==="margin"?R.style.marginRight="":G==="width"?R.style.width="":G==="max-width"?R.style.maxWidth="":G==="padding"&&(R.style.paddingRight="")}},F=function(R){Re()},L=function(R){M.scroll||(M.startTouchY=R.touches[0].clientY,M.startTouchX=R.touches[0].clientX)},oe=function(R){if(!M.scroll){var G=M.startTouchY,ae=M.startTouchX,A=R.touches[0].clientY,z=R.touches[0].clientX;if(R.touches.length<2){var J=d(M.scrollableSelectors),K={up:G<A,down:G>A,left:ae<z,right:ae>z},ue={up:G+b<A,down:G-b>A,left:ae+b<z,right:ae-b>z},be=function Ee(U){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U){var ce=f(U,J,!1);if(x(U))return!1;if(ne||_(U)&&f(U,J)||h(U,J)){var pe=!1;v(U)&&y(U)?(K.up&&p(U)||K.down&&g(U))&&(pe=!0):p(U)&&g(U)?(K.left&&v(U)||K.right&&y(U))&&(pe=!0):(ue.up&&p(U)||ue.down&&g(U)||ue.left&&v(U)||ue.right&&y(U))&&(pe=!0),pe&&(ce?Ee(ce,!0):R.cancelable&&R.preventDefault())}else Ee(ce)}else R.cancelable&&R.preventDefault()};be(R.target)}}},_e=function(R){M.scroll||(M.startTouchY=0,M.startTouchX=0)};typeof window<"u"&&window.addEventListener("resize",F),typeof document<"u"&&(document.addEventListener("touchstart",L),document.addEventListener("touchmove",oe,{passive:!1}),document.addEventListener("touchend",_e));var we={hide:function(R){c(`"hide" is deprecated! Use "disablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget`),E(R)},show:function(R){c(`"show" is deprecated! Use "enablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget`),O(R)},toggle:function(R){c('"toggle" is deprecated! Do not use it.'),V()?E():O(R)},getState:function(){return c(`"getState" is deprecated! Use "getScrollState" instead. 
 https://github.com/FL3NKEY/scroll-lock#getscrollstate`),V()},getWidth:function(){return c(`"getWidth" is deprecated! Use "getPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth`),B()},getCurrentWidth:function(){return c(`"getCurrentWidth" is deprecated! Use "getCurrentPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth`),H()},setScrollableTargets:function(R){c(`"setScrollableTargets" is deprecated! Use "addScrollableTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget`),P(R)},setFillGapSelectors:function(R){c(`"setFillGapSelectors" is deprecated! Use "addFillGapSelector" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector`),ke(R)},setFillGapTargets:function(R){c(`"setFillGapTargets" is deprecated! Use "addFillGapTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget`),ve(R)},clearQueue:function(){c(`"clearQueue" is deprecated! Use "clearQueueScrollLocks" instead. 
 https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks`),I()}},Ae=w({disablePageScroll:E,enablePageScroll:O,getScrollState:V,clearQueueScrollLocks:I,getTargetScrollBarWidth:N,getCurrentTargetScrollBarWidth:C,getPageScrollBarWidth:B,getCurrentPageScrollBarWidth:H,addScrollableSelector:X,removeScrollableSelector:$,addScrollableTarget:P,removeScrollableTarget:Y,addLockableSelector:re,addLockableTarget:Z,addFillGapSelector:ke,removeFillGapSelector:Te,addFillGapTarget:ve,removeFillGapTarget:te,setFillGapMethod:se,refillGaps:Re,_state:M},we);i.default=Ae}]).default})})(EE);var Ll=EE.exports,ji=typeof window<"u"?window:{screen:{},navigator:{}},Rl=(ji.matchMedia||function(){return{matches:!1}}).bind(ji),ZO={get passive(){return!0}},AE=function(){};ji.addEventListener&&ji.addEventListener("p",AE,ZO);ji.removeEventListener&&ji.removeEventListener("p",AE,!1);var e_="ontouchstart"in ji,QO="TouchEvent"in ji,ek=e_||QO&&Rl("(any-pointer: coarse)").matches,a1=(ji.navigator.maxTouchPoints||0)>0||ek,CE=ji.navigator.userAgent||"",tk=Rl("(pointer: coarse)").matches&&/iPad|Macintosh/.test(CE)&&Math.min(ji.screen.width||0,ji.screen.height||0)>=768,DE=(Rl("(pointer: coarse)").matches||!Rl("(pointer: fine)").matches&&e_)&&!/Windows.*Firefox/.test(CE),nk=Rl("(any-pointer: fine)").matches||Rl("(any-hover: hover)").matches||tk||!e_,l1=a1&&(nk||!DE)?"hybrid":a1?"touchOnly":"mouseOnly",ik=l1==="mouseOnly"?"mouse":l1==="touchOnly"||DE?"touch":"mouse";function rk(n,e,t){var i,r,s;e===void 0&&(e=50),t===void 0&&(t={});var o=(i=t.isImmediate)!=null&&i,a=(r=t.callback)!=null&&r,l=t.maxWait,c=Date.now(),d=[];function u(){if(l!==void 0){var h=Date.now()-c;if(h+e>=l)return l-h}return e}var f=function(){var h=[].slice.call(arguments),m=this;return new Promise(function(p,g){var v=o&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,c=Date.now(),!o){var _=n.apply(m,h);a&&a(_),d.forEach(function(x){return(0,x.resolve)(_)}),d=[]}},u()),v){var y=n.apply(m,h);return a&&a(y),p(y)}d.push({resolve:p,reject:g})})};return f.cancel=function(h){s!==void 0&&clearTimeout(s),d.forEach(function(m){return(0,m.reject)(h)}),d=[]},f}function sk(n,e=300,t){const i=j.useRef(n);return j.useEffect(()=>{i.current=n},[...t||[]]),j.useCallback(rk((...r)=>i.current(...r),e),[e])}const ok="Pointer-root_Ansog",ak="Pointer-leftLine_2rF4x",lk="Pointer-rightLine_9uvy-",uk="Pointer-circle_Teih5",ck="Pointer-dark_3hmbP",ya={root:ok,leftLine:ak,rightLine:lk,circle:uk,dark:ck,"type-hidden":"Pointer-type-hidden_1-Axk","type-hover":"Pointer-type-hover_ErkCX","type-drag":"Pointer-type-drag_mBuw-","type-image":"Pointer-type-image_Qz-M1"};/*!
 * strings: 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var fk=/(^\s+|\s+$)/g,PE=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function Vh(n){var e=n.nodeType,t="";if(e===1||e===9||e===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)t+=Vh(n)}else if(e===3||e===4)return n.nodeValue;return t}function dr(n,e,t,i){if(n+="",t&&(n=n.replace(fk,"")),e&&e!=="")return n.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var r=[],s=n.length,o=0,a,l;o<s;o++)l=n.charAt(o),(l.charCodeAt(0)>=55296&&l.charCodeAt(0)<=56319||n.charCodeAt(o+1)>=65024&&n.charCodeAt(o+1)<=65039)&&(a=((n.substr(o,12).split(PE)||[])[1]||"").length||2,l=n.substr(o,a),r.emoji=1,o+=a-1),r.push(l===">"?"&gt;":l==="<"?"&lt;":i&&l===" "&&(n.charAt(o-1)===" "||n.charAt(o+1)===" ")?"&nbsp;":l);return r}/*!
 * ScrambleTextPlugin 3.7.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/class sd{constructor(e){this.chars=dr(e),this.sets=[],this.length=50;for(let t=0;t<20;t++)this.sets[t]=c1(80,this.chars)}grow(e){for(let t=0;t<20;t++)this.sets[t]+=c1(e-this.length,this.chars);this.length=e}}let Oo,LE,RE=()=>Oo||typeof window<"u"&&(Oo=window.gsap)&&Oo.registerPlugin&&Oo,dk=1,u1=/\s+/g,c1=(n,e)=>{let t=e.length,i="";for(;--n>-1;)i+=e[~~(Math.random()*t)];return i},tv="ABCDEFGHIJKLMNOPQRSTUVWXYZ",f1=tv.toLowerCase(),hk={upperCase:new sd(tv),lowerCase:new sd(f1),upperAndLowerCase:new sd(tv+f1)},d1=()=>{LE=Oo=RE()};const Vl={version:"3.7.0",name:"scrambleText",register(n,e,t){Oo=n,d1()},init(n,e,t,i,r){if(LE||d1(),this.prop="innerHTML"in n?"innerHTML":"textContent"in n?"textContent":0,!this.prop)return;this.target=n,typeof e!="object"&&(e={text:e});let s=e.text||e.value||"",o=e.trim!==!1,a=this,l,c,d,u;return a.delimiter=l=e.delimiter||"",a.original=dr(Vh(n).replace(u1," ").split("&nbsp;").join(""),l,o),(s==="{original}"||s===!0||s==null)&&(s=a.original.join(l)),a.text=dr((s||"").replace(u1," "),l,o),a.hasClass=!!(e.newClass||e.oldClass),a.newClass=e.newClass,a.oldClass=e.oldClass,u=l==="",a.textHasEmoji=u&&!!a.text.emoji,a.charsHaveEmoji=!!e.chars&&!!dr(e.chars).emoji,a.length=u?a.original.length:a.original.join(l).length,a.lengthDif=(u?a.text.length:a.text.join(l).length)-a.length,a.fillChar=e.fillChar||e.chars&&~e.chars.indexOf(" ")?"&nbsp;":"",a.charSet=d=hk[e.chars||"upperCase"]||new sd(e.chars),a.speed=.05/(e.speed||1),a.prevScrambleTime=0,a.setIndex=Math.random()*20|0,c=a.length+Math.max(a.lengthDif,0),c>d.length&&d.grow(c),a.chars=d.sets[a.setIndex],a.revealDelay=e.revealDelay||0,a.tweenLength=e.tweenLength!==!1,a.tween=t,a.rightToLeft=!!e.rightToLeft,a._props.push("scrambleText","text"),dk},render(n,e){let{target:t,prop:i,text:r,delimiter:s,tween:o,prevScrambleTime:a,revealDelay:l,setIndex:c,chars:d,charSet:u,length:f,textHasEmoji:h,charsHaveEmoji:m,lengthDif:p,tweenLength:g,oldClass:v,newClass:y,rightToLeft:_,fillChar:x,speed:w,original:T,hasClass:S}=e,b=r.length,M=o._time,E=M-a,O,V,I,N,C,B,H,P,Y,X,$;l&&(o._from&&(M=o._dur-M),n=M===0?0:M<l?1e-6:M===o._dur?1:o._ease((M-l)/(o._dur-l))),n<0?n=0:n>1&&(n=1),_&&(n=1-n),O=~~(n*b+.5),n?((E>w||E<-w)&&(e.setIndex=c=(c+(Math.random()*19|0))%20,e.chars=u.sets[c],e.prevScrambleTime+=E),N=d):N=T.join(s),$=o._from?n:1-n,X=f+(g?o._from?$*$*$:1-$*$*$:1)*p,_?n===1&&(o._from||o.data==="isFromStart")?(I="",N=T.join(s)):(H=r.slice(O).join(s),m?I=dr(N).slice(0,X-(h?dr(H):H).length+.5|0).join(""):I=N.substr(0,X-(h?dr(H):H).length+.5|0),N=H):(I=r.slice(0,O).join(s),V=(h?dr(I):I).length,m?N=dr(N).slice(V,X+.5|0).join(""):N=N.substr(V,X-V+.5|0)),S?(P=_?v:y,Y=_?y:v,C=P&&O!==0,B=Y&&O!==b,H=(C?"<span class='"+P+"'>":"")+I+(C?"</span>":"")+(B?"<span class='"+Y+"'>":"")+s+N+(B?"</span>":"")):H=I+s+N,t[i]=x==="&nbsp;"&&~H.indexOf("  ")?H.split("  ").join("&nbsp;&nbsp;"):H}};Vl.emojiSafeSplit=dr;Vl.getText=Vh;RE()&&Oo.registerPlugin(Vl);ge.registerPlugin(Vl);function pk(){const n=no(),e=$t(s=>s.pointer),t=j.useRef(null),i=j.useCallback(()=>{t.current&&ge.set(t.current,{x:window.cursor.x,y:window.cursor.y}),requestAnimationFrame(i)},[]);j.useEffect(()=>{i()},[i]);const r=at(ya.root,{[ya.dark]:n.pathname!=="/",[ya[`type-${e.type}`]]:e.type});return D.jsxs("div",{className:r,ref:t,children:[D.jsx("div",{className:ya.leftLine}),D.jsx("div",{className:ya.rightLine}),D.jsx("div",{className:ya.circle})]})}var OE={exports:{}};(function(n){(function(){function e(A,z,J){return A.call.apply(A.bind,arguments)}function t(A,z,J){if(!A)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,K),A.apply(z,ue)}}return function(){return A.apply(z,arguments)}}function i(A,z,J){return i=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:t,i.apply(null,arguments)}var r=Date.now||function(){return+new Date};function s(A,z){this.a=A,this.o=z||A,this.c=this.o.document}var o=!!window.FontFace;function a(A,z,J,K){if(z=A.c.createElement(z),J)for(var ue in J)J.hasOwnProperty(ue)&&(ue=="style"?z.style.cssText=J[ue]:z.setAttribute(ue,J[ue]));return K&&z.appendChild(A.c.createTextNode(K)),z}function l(A,z,J){A=A.c.getElementsByTagName(z)[0],A||(A=document.documentElement),A.insertBefore(J,A.lastChild)}function c(A){A.parentNode&&A.parentNode.removeChild(A)}function d(A,z,J){z=z||[],J=J||[];for(var K=A.className.split(/\s+/),ue=0;ue<z.length;ue+=1){for(var be=!1,Ee=0;Ee<K.length;Ee+=1)if(z[ue]===K[Ee]){be=!0;break}be||K.push(z[ue])}for(z=[],ue=0;ue<K.length;ue+=1){for(be=!1,Ee=0;Ee<J.length;Ee+=1)if(K[ue]===J[Ee]){be=!0;break}be||z.push(K[ue])}A.className=z.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(A,z){for(var J=A.className.split(/\s+/),K=0,ue=J.length;K<ue;K++)if(J[K]==z)return!0;return!1}function f(A){return A.o.location.hostname||A.a.location.hostname}function h(A,z,J){function K(){U&&ue&&be&&(U(Ee),U=null)}z=a(A,"link",{rel:"stylesheet",href:z,media:"all"});var ue=!1,be=!0,Ee=null,U=J||null;o?(z.onload=function(){ue=!0,K()},z.onerror=function(){ue=!0,Ee=Error("Stylesheet failed to load"),K()}):setTimeout(function(){ue=!0,K()},0),l(A,"head",z)}function m(A,z,J,K){var ue=A.c.getElementsByTagName("head")[0];if(ue){var be=a(A,"script",{src:z}),Ee=!1;return be.onload=be.onreadystatechange=function(){Ee||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Ee=!0,J&&J(null),be.onload=be.onreadystatechange=null,be.parentNode.tagName=="HEAD"&&ue.removeChild(be))},ue.appendChild(be),setTimeout(function(){Ee||(Ee=!0,J&&J(Error("Script load timeout")))},K||5e3),be}return null}function p(){this.a=0,this.c=null}function g(A){return A.a++,function(){A.a--,y(A)}}function v(A,z){A.c=z,y(A)}function y(A){A.a==0&&A.c&&(A.c(),A.c=null)}function _(A){this.a=A||"-"}_.prototype.c=function(A){for(var z=[],J=0;J<arguments.length;J++)z.push(arguments[J].replace(/[\W_]+/g,"").toLowerCase());return z.join(this.a)};function x(A,z){this.c=A,this.f=4,this.a="n";var J=(z||"n4").match(/^([nio])([1-9])$/i);J&&(this.a=J[1],this.f=parseInt(J[2],10))}function w(A){return b(A)+" "+(A.f+"00")+" 300px "+T(A.c)}function T(A){var z=[];A=A.split(/,\s*/);for(var J=0;J<A.length;J++){var K=A[J].replace(/['"]/g,"");K.indexOf(" ")!=-1||/^\d/.test(K)?z.push("'"+K+"'"):z.push(K)}return z.join(",")}function S(A){return A.a+A.f}function b(A){var z="normal";return A.a==="o"?z="oblique":A.a==="i"&&(z="italic"),z}function M(A){var z=4,J="n",K=null;return A&&((K=A.match(/(normal|oblique|italic)/i))&&K[1]&&(J=K[1].substr(0,1).toLowerCase()),(K=A.match(/([1-9]00|normal|bold)/i))&&K[1]&&(/bold/i.test(K[1])?z=7:/[1-9]00/.test(K[1])&&(z=parseInt(K[1].substr(0,1),10)))),J+z}function E(A,z){this.c=A,this.f=A.o.document.documentElement,this.h=z,this.a=new _("-"),this.j=z.events!==!1,this.g=z.classes!==!1}function O(A){A.g&&d(A.f,[A.a.c("wf","loading")]),I(A,"loading")}function V(A){if(A.g){var z=u(A.f,A.a.c("wf","active")),J=[],K=[A.a.c("wf","loading")];z||J.push(A.a.c("wf","inactive")),d(A.f,J,K)}I(A,"inactive")}function I(A,z,J){A.j&&A.h[z]&&(J?A.h[z](J.c,S(J)):A.h[z]())}function N(){this.c={}}function C(A,z,J){var K=[],ue;for(ue in z)if(z.hasOwnProperty(ue)){var be=A.c[ue];be&&K.push(be(z[ue],J))}return K}function B(A,z){this.c=A,this.f=z,this.a=a(this.c,"span",{"aria-hidden":"true"},this.f)}function H(A){l(A.c,"body",A.a)}function P(A){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(A.c)+";"+("font-style:"+b(A)+";font-weight:"+(A.f+"00")+";")}function Y(A,z,J,K,ue,be){this.g=A,this.j=z,this.a=K,this.c=J,this.f=ue||3e3,this.h=be||void 0}Y.prototype.start=function(){var A=this.c.o.document,z=this,J=r(),K=new Promise(function(Ee,U){function ne(){r()-J>=z.f?U():A.fonts.load(w(z.a),z.h).then(function(ce){1<=ce.length?Ee():setTimeout(ne,25)},function(){U()})}ne()}),ue=null,be=new Promise(function(Ee,U){ue=setTimeout(U,z.f)});Promise.race([be,K]).then(function(){ue&&(clearTimeout(ue),ue=null),z.g(z.a)},function(){z.j(z.a)})};function X(A,z,J,K,ue,be,Ee){this.v=A,this.B=z,this.c=J,this.a=K,this.s=Ee||"BESbswy",this.f={},this.w=ue||3e3,this.u=be||null,this.m=this.j=this.h=this.g=null,this.g=new B(this.c,this.s),this.h=new B(this.c,this.s),this.j=new B(this.c,this.s),this.m=new B(this.c,this.s),A=new x(this.a.c+",serif",S(this.a)),A=P(A),this.g.a.style.cssText=A,A=new x(this.a.c+",sans-serif",S(this.a)),A=P(A),this.h.a.style.cssText=A,A=new x("serif",S(this.a)),A=P(A),this.j.a.style.cssText=A,A=new x("sans-serif",S(this.a)),A=P(A),this.m.a.style.cssText=A,H(this.g),H(this.h),H(this.j),H(this.m)}var $={D:"serif",C:"sans-serif"},Z=null;function re(){if(Z===null){var A=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Z=!!A&&(536>parseInt(A[1],10)||parseInt(A[1],10)===536&&11>=parseInt(A[2],10))}return Z}X.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=r(),ve(this)};function se(A,z,J){for(var K in $)if($.hasOwnProperty(K)&&z===A.f[$[K]]&&J===A.f[$[K]])return!0;return!1}function ve(A){var z=A.g.a.offsetWidth,J=A.h.a.offsetWidth,K;(K=z===A.f.serif&&J===A.f["sans-serif"])||(K=re()&&se(A,z,J)),K?r()-A.A>=A.w?re()&&se(A,z,J)&&(A.u===null||A.u.hasOwnProperty(A.a.c))?ke(A,A.v):ke(A,A.B):te(A):ke(A,A.v)}function te(A){setTimeout(i(function(){ve(this)},A),50)}function ke(A,z){setTimeout(i(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),z(this.a)},A),0)}function Te(A,z,J){this.c=A,this.a=z,this.f=0,this.m=this.j=!1,this.s=J}var Re=null;Te.prototype.g=function(A){var z=this.a;z.g&&d(z.f,[z.a.c("wf",A.c,S(A).toString(),"active")],[z.a.c("wf",A.c,S(A).toString(),"loading"),z.a.c("wf",A.c,S(A).toString(),"inactive")]),I(z,"fontactive",A),this.m=!0,Q(this)},Te.prototype.h=function(A){var z=this.a;if(z.g){var J=u(z.f,z.a.c("wf",A.c,S(A).toString(),"active")),K=[],ue=[z.a.c("wf",A.c,S(A).toString(),"loading")];J||K.push(z.a.c("wf",A.c,S(A).toString(),"inactive")),d(z.f,K,ue)}I(z,"fontinactive",A),Q(this)};function Q(A){--A.f==0&&A.j&&(A.m?(A=A.a,A.g&&d(A.f,[A.a.c("wf","active")],[A.a.c("wf","loading"),A.a.c("wf","inactive")]),I(A,"active")):V(A.a))}function he(A){this.j=A,this.a=new N,this.h=0,this.f=this.g=!0}he.prototype.load=function(A){this.c=new s(this.j,A.context||this.j),this.g=A.events!==!1,this.f=A.classes!==!1,ye(this,new E(this.c,A),A)};function Se(A,z,J,K,ue){var be=--A.h==0;(A.f||A.g)&&setTimeout(function(){var Ee=ue||null,U=K||null||{};if(J.length===0&&be)V(z.a);else{z.f+=J.length,be&&(z.j=be);var ne,ce=[];for(ne=0;ne<J.length;ne++){var pe=J[ne],Ce=U[pe.c],We=z.a,pt=pe;if(We.g&&d(We.f,[We.a.c("wf",pt.c,S(pt).toString(),"loading")]),I(We,"fontloading",pt),We=null,Re===null)if(window.FontFace){var pt=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),Xt=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);Re=pt?42<parseInt(pt[1],10):!Xt}else Re=!1;Re?We=new Y(i(z.g,z),i(z.h,z),z.c,pe,z.s,Ce):We=new X(i(z.g,z),i(z.h,z),z.c,pe,z.s,Ee,Ce),ce.push(We)}for(ne=0;ne<ce.length;ne++)ce[ne].start()}},0)}function ye(A,z,J){var ue=[],K=J.timeout;O(z);var ue=C(A.a,J,A.c),be=new Te(A.c,z,K);for(A.h=ue.length,z=0,J=ue.length;z<J;z++)ue[z].load(function(Ee,U,ne){Se(A,be,Ee,U,ne)})}function Pe(A,z){this.c=A,this.a=z}Pe.prototype.load=function(A){function z(){if(be["__mti_fntLst"+K]){var Ee=be["__mti_fntLst"+K](),U=[],ne;if(Ee)for(var ce=0;ce<Ee.length;ce++){var pe=Ee[ce].fontfamily;Ee[ce].fontStyle!=null&&Ee[ce].fontWeight!=null?(ne=Ee[ce].fontStyle+Ee[ce].fontWeight,U.push(new x(pe,ne))):U.push(new x(pe))}A(U)}else setTimeout(function(){z()},50)}var J=this,K=J.a.projectId,ue=J.a.version;if(K){var be=J.c.o;m(this.c,(J.a.api||"https://fast.fonts.net/jsapi")+"/"+K+".js"+(ue?"?v="+ue:""),function(Ee){Ee?A([]):(be["__MonotypeConfiguration__"+K]=function(){return J.a},z())}).id="__MonotypeAPIScript__"+K}else A([])};function ze(A,z){this.c=A,this.a=z}ze.prototype.load=function(A){var z,J,K=this.a.urls||[],ue=this.a.families||[],be=this.a.testStrings||{},Ee=new p;for(z=0,J=K.length;z<J;z++)h(this.c,K[z],g(Ee));var U=[];for(z=0,J=ue.length;z<J;z++)if(K=ue[z].split(":"),K[1])for(var ne=K[1].split(","),ce=0;ce<ne.length;ce+=1)U.push(new x(K[0],ne[ce]));else U.push(new x(K[0]));v(Ee,function(){A(U,be)})};function Fe(A,z){A?this.c=A:this.c=Be,this.a=[],this.f=[],this.g=z||""}var Be="https://fonts.googleapis.com/css";function Ne(A,z){for(var J=z.length,K=0;K<J;K++){var ue=z[K].split(":");ue.length==3&&A.f.push(ue.pop());var be="";ue.length==2&&ue[1]!=""&&(be=":"),A.a.push(ue.join(be))}}function Oe(A){if(A.a.length==0)throw Error("No fonts to load!");if(A.c.indexOf("kit=")!=-1)return A.c;for(var z=A.a.length,J=[],K=0;K<z;K++)J.push(A.a[K].replace(/ /g,"+"));return z=A.c+"?family="+J.join("%7C"),0<A.f.length&&(z+="&subset="+A.f.join(",")),0<A.g.length&&(z+="&text="+encodeURIComponent(A.g)),z}function Ve(A){this.f=A,this.a=[],this.c={}}var xe={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},F={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},L={i:"i",italic:"i",n:"n",normal:"n"},oe=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function _e(A){for(var z=A.f.length,J=0;J<z;J++){var K=A.f[J].split(":"),ue=K[0].replace(/\+/g," "),be=["n4"];if(2<=K.length){var Ee,U=K[1];if(Ee=[],U)for(var U=U.split(","),ne=U.length,ce=0;ce<ne;ce++){var pe;if(pe=U[ce],pe.match(/^[\w-]+$/)){var Ce=oe.exec(pe.toLowerCase());if(Ce==null)pe="";else{if(pe=Ce[2],pe=pe==null||pe==""?"n":L[pe],Ce=Ce[1],Ce==null||Ce=="")Ce="4";else var We=F[Ce],Ce=We||(isNaN(Ce)?"4":Ce.substr(0,1));pe=[pe,Ce].join("")}}else pe="";pe&&Ee.push(pe)}0<Ee.length&&(be=Ee),K.length==3&&(K=K[2],Ee=[],K=K?K.split(","):Ee,0<K.length&&(K=xe[K[0]])&&(A.c[ue]=K))}for(A.c[ue]||(K=xe[ue])&&(A.c[ue]=K),K=0;K<be.length;K+=1)A.a.push(new x(ue,be[K]))}}function we(A,z){this.c=A,this.a=z}var Ae={Arimo:!0,Cousine:!0,Tinos:!0};we.prototype.load=function(A){var z=new p,J=this.c,K=new Fe(this.a.api,this.a.text),ue=this.a.families;Ne(K,ue);var be=new Ve(ue);_e(be),h(J,Oe(K),g(z)),v(z,function(){A(be.a,be.c,Ae)})};function fe(A,z){this.c=A,this.a=z}fe.prototype.load=function(A){var z=this.a.id,J=this.c.o;z?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+z+".js",function(K){if(K)A([]);else if(J.Typekit&&J.Typekit.config&&J.Typekit.config.fn){K=J.Typekit.config.fn;for(var ue=[],be=0;be<K.length;be+=2)for(var Ee=K[be],U=K[be+1],ne=0;ne<U.length;ne++)ue.push(new x(Ee,U[ne]));try{J.Typekit.load({events:!1,classes:!1,async:!0})}catch{}A(ue)}},2e3):A([])};function R(A,z){this.c=A,this.f=z,this.a=[]}R.prototype.load=function(A){var z=this.f.id,J=this.c.o,K=this;z?(J.__webfontfontdeckmodule__||(J.__webfontfontdeckmodule__={}),J.__webfontfontdeckmodule__[z]=function(ue,be){for(var Ee=0,U=be.fonts.length;Ee<U;++Ee){var ne=be.fonts[Ee];K.a.push(new x(ne.name,M("font-weight:"+ne.weight+";font-style:"+ne.style)))}A(K.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+f(this.c)+"/"+z+".js",function(ue){ue&&A([])})):A([])};var G=new he(window);G.a.c.custom=function(A,z){return new ze(z,A)},G.a.c.fontdeck=function(A,z){return new R(z,A)},G.a.c.monotype=function(A,z){return new Pe(z,A)},G.a.c.typekit=function(A,z){return new fe(z,A)},G.a.c.google=function(A,z){return new we(z,A)};var ae={load:i(G.load,G)};n.exports?n.exports=ae:(window.WebFont=ae,window.WebFontConfig&&G.load(window.WebFontConfig))})()})(OE);var mk=OE.exports;const gk=rs(mk),vk=()=>new Promise(n=>{gk.load({classes:!1,google:{families:["Saira Semi Condensed:300,500,600,700:latin"]},active:()=>{n(null)}})}),_k="vibrant",h1=!1;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const t_="148",yk=0,p1=1,xk=2,kE=1,wk=2,Ru=3,Ks=0,li=1,la=2,gf=3,Us=0,dl=1,nv=2,m1=3,g1=4,bk=5,Ia=100,Sk=101,Mk=102,v1=103,_1=104,Tk=200,Ek=201,Ak=202,Ck=203,IE=204,FE=205,Dk=206,Pk=207,Lk=208,Rk=209,Ok=210,kk=0,Ik=1,Fk=2,iv=3,Nk=4,zk=5,Bk=6,Uk=7,n_=0,jk=1,Vk=2,Kr=0,Hk=1,NE=2,Wk=3,Gk=4,$k=5,zE=300,Ol=301,kl=302,rv=303,sv=304,Hh=306,Sr=1e3,Un=1001,Il=1002,zt=1003,ov=1004,od=1005,Lt=1006,BE=1007,Js=1008,Qo=1009,Xk=1010,qk=1011,UE=1012,Yk=1013,ko=1014,tr=1015,Wr=1016,Kk=1017,Jk=1018,hl=1020,Zk=1021,Qk=1022,Ci=1023,eI=1024,tI=1025,Vo=1026,Fl=1027,nI=1028,iI=1029,rI=1030,sI=1031,oI=1033,$p=33776,Xp=33777,qp=33778,Yp=33779,y1=35840,x1=35841,w1=35842,b1=35843,aI=36196,S1=37492,M1=37496,T1=37808,E1=37809,A1=37810,C1=37811,D1=37812,P1=37813,L1=37814,R1=37815,O1=37816,k1=37817,I1=37818,F1=37819,N1=37820,z1=37821,B1=36492,jE=2200,lI=2201,uI=2202,bc=2300,Nl=2301,Kp=2302,Ja=2400,Za=2401,Jd=2402,i_=2500,VE=2501,cI=1,HE=2,Zs=3e3,nt=3001,fI=3200,dI=3201,r_=0,hI=1,hr="srgb",Sc="srgb-linear",Jp=7680,pI=519,av=35044,U1="300 es",lv=1035;class ua{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const gn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let j1=1234567;const $u=Math.PI/180,Mc=180/Math.PI;function Ii(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(gn[n&255]+gn[n>>8&255]+gn[n>>16&255]+gn[n>>24&255]+"-"+gn[e&255]+gn[e>>8&255]+"-"+gn[e>>16&15|64]+gn[e>>24&255]+"-"+gn[t&63|128]+gn[t>>8&255]+"-"+gn[t>>16&255]+gn[t>>24&255]+gn[i&255]+gn[i>>8&255]+gn[i>>16&255]+gn[i>>24&255]).toLowerCase()}function Qt(n,e,t){return Math.max(e,Math.min(t,n))}function s_(n,e){return(n%e+e)%e}function mI(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function gI(n,e,t){return n!==e?(t-n)/(e-n):0}function Xu(n,e,t){return(1-t)*n+t*e}function vI(n,e,t,i){return Xu(n,e,1-Math.exp(-t*i))}function _I(n,e=1){return e-Math.abs(s_(n,e*2)-e)}function yI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function xI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function wI(n,e){return n+Math.floor(Math.random()*(e-n+1))}function bI(n,e){return n+Math.random()*(e-n)}function SI(n){return n*(.5-Math.random())}function MI(n){n!==void 0&&(j1=n);let e=j1+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function TI(n){return n*$u}function EI(n){return n*Mc}function uv(n){return(n&n-1)===0&&n!==0}function WE(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Zd(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function AI(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),d=o((e+i)/2),u=s((e-i)/2),f=o((e-i)/2),h=s((i-e)/2),m=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*u,l*f,a*c);break;case"YZY":n.set(l*f,a*d,l*u,a*c);break;case"ZXZ":n.set(l*u,l*f,a*d,a*c);break;case"XZX":n.set(a*d,l*m,l*h,a*c);break;case"YXY":n.set(l*h,a*d,l*m,a*c);break;case"ZYZ":n.set(l*m,l*h,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Gr(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ct(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Wh=Object.freeze({__proto__:null,DEG2RAD:$u,RAD2DEG:Mc,generateUUID:Ii,clamp:Qt,euclideanModulo:s_,mapLinear:mI,inverseLerp:gI,lerp:Xu,damp:vI,pingpong:_I,smoothstep:yI,smootherstep:xI,randInt:wI,randFloat:bI,randFloatSpread:SI,seededRandom:MI,degToRad:TI,radToDeg:EI,isPowerOfTwo:uv,ceilPowerOfTwo:WE,floorPowerOfTwo:Zd,setQuaternionFromProperEuler:AI,normalize:ct,denormalize:Gr});class Le{constructor(e=0,t=0){Le.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class si{constructor(){si.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],u=i[7],f=i[2],h=i[5],m=i[8],p=r[0],g=r[3],v=r[6],y=r[1],_=r[4],x=r[7],w=r[2],T=r[5],S=r[8];return s[0]=o*p+a*y+l*w,s[3]=o*g+a*_+l*T,s[6]=o*v+a*x+l*S,s[1]=c*p+d*y+u*w,s[4]=c*g+d*_+u*T,s[7]=c*v+d*x+u*S,s[2]=f*p+h*y+m*w,s[5]=f*g+h*_+m*T,s[8]=f*v+h*x+m*S,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=d*o-a*c,f=a*l-d*s,h=c*s-o*l,m=t*u+i*f+r*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/m;return e[0]=u*p,e[1]=(r*c-d*i)*p,e[2]=(a*i-r*o)*p,e[3]=f*p,e[4]=(d*t-r*l)*p,e[5]=(r*s-a*t)*p,e[6]=h*p,e[7]=(i*l-c*t)*p,e[8]=(o*t-i*s)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Zp.makeScale(e,t)),this}rotate(e){return this.premultiply(Zp.makeRotation(-e)),this}translate(e,t){return this.premultiply(Zp.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Zp=new si;function GE(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Tc(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ho(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ad(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Qp={[hr]:{[Sc]:Ho},[Sc]:{[hr]:ad}},En={legacyMode:!0,get workingColorSpace(){return Sc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Qp[e]&&Qp[e][t]!==void 0){const i=Qp[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},$E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ut={r:0,g:0,b:0},Xi={h:0,s:0,l:0},vf={h:0,s:0,l:0};function em(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function _f(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Ie{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=hr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,En.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=En.workingColorSpace){return this.r=e,this.g=t,this.b=i,En.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=En.workingColorSpace){if(e=s_(e,1),t=Qt(t,0,1),i=Qt(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=em(o,s,e+1/3),this.g=em(o,s,e),this.b=em(o,s,e-1/3)}return En.toWorkingColorSpace(this,r),this}setStyle(e,t=hr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,En.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,En.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,c,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,En.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,En.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=hr){const i=$E[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ho(e.r),this.g=Ho(e.g),this.b=Ho(e.b),this}copyLinearToSRGB(e){return this.r=ad(e.r),this.g=ad(e.g),this.b=ad(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=hr){return En.fromWorkingColorSpace(_f(this,Ut),e),Qt(Ut.r*255,0,255)<<16^Qt(Ut.g*255,0,255)<<8^Qt(Ut.b*255,0,255)<<0}getHexString(e=hr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=En.workingColorSpace){En.fromWorkingColorSpace(_f(this,Ut),t);const i=Ut.r,r=Ut.g,s=Ut.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const u=o-a;switch(c=d<=.5?u/(o+a):u/(2-o-a),o){case i:l=(r-s)/u+(r<s?6:0);break;case r:l=(s-i)/u+2;break;case s:l=(i-r)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=En.workingColorSpace){return En.fromWorkingColorSpace(_f(this,Ut),t),e.r=Ut.r,e.g=Ut.g,e.b=Ut.b,e}getStyle(e=hr){return En.fromWorkingColorSpace(_f(this,Ut),e),e!==hr?`color(${e} ${Ut.r} ${Ut.g} ${Ut.b})`:`rgb(${Ut.r*255|0},${Ut.g*255|0},${Ut.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Xi),Xi.h+=e,Xi.s+=t,Xi.l+=i,this.setHSL(Xi.h,Xi.s,Xi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Xi),e.getHSL(vf);const i=Xu(Xi.h,vf.h,t),r=Xu(Xi.s,vf.s,t),s=Xu(Xi.l,vf.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Ie.NAMES=$E;let xa;class XE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{xa===void 0&&(xa=Tc("canvas")),xa.width=e.width,xa.height=e.height;const i=xa.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=xa}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Tc("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ho(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ho(t[i]/255)*255):t[i]=Ho(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class qE{constructor(e=null){this.isSource=!0,this.uuid=Ii(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(tm(r[o].image)):s.push(tm(r[o]))}else s=tm(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function tm(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?XE.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let CI=0;class rn extends ua{constructor(e=rn.DEFAULT_IMAGE,t=rn.DEFAULT_MAPPING,i=Un,r=Un,s=Lt,o=Js,a=Ci,l=Qo,c=rn.DEFAULT_ANISOTROPY,d=Zs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:CI++}),this.uuid=Ii(),this.name="",this.source=new qE(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new si,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Sr:e.x=e.x-Math.floor(e.x);break;case Un:e.x=e.x<0?0:1;break;case Il:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Sr:e.y=e.y-Math.floor(e.y);break;case Un:e.y=e.y<0?0:1;break;case Il:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}rn.DEFAULT_IMAGE=null;rn.DEFAULT_MAPPING=zE;rn.DEFAULT_ANISOTROPY=1;class dt{constructor(e=0,t=0,i=0,r=1){dt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],u=l[8],f=l[1],h=l[5],m=l[9],p=l[2],g=l[6],v=l[10];if(Math.abs(d-f)<.01&&Math.abs(u-p)<.01&&Math.abs(m-g)<.01){if(Math.abs(d+f)<.1&&Math.abs(u+p)<.1&&Math.abs(m+g)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,x=(h+1)/2,w=(v+1)/2,T=(d+f)/4,S=(u+p)/4,b=(m+g)/4;return _>x&&_>w?_<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(_),r=T/i,s=S/i):x>w?x<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(x),i=T/r,s=b/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=S/s,r=b/s),this.set(i,r,s,t),this}let y=Math.sqrt((g-m)*(g-m)+(u-p)*(u-p)+(f-d)*(f-d));return Math.abs(y)<.001&&(y=1),this.x=(g-m)/y,this.y=(u-p)/y,this.z=(f-d)/y,this.w=Math.acos((c+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ea extends ua{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new dt(0,0,e,t),this.scissorTest=!1,this.viewport=new dt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new rn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Lt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new qE(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class YE extends rn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=zt,this.minFilter=zt,this.wrapR=Un,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class DI extends rn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=zt,this.minFilter=zt,this.wrapR=Un,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ui{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],u=i[r+3];const f=s[o+0],h=s[o+1],m=s[o+2],p=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=u;return}if(a===1){e[t+0]=f,e[t+1]=h,e[t+2]=m,e[t+3]=p;return}if(u!==p||l!==f||c!==h||d!==m){let g=1-a;const v=l*f+c*h+d*m+u*p,y=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const w=Math.sqrt(_),T=Math.atan2(w,v*y);g=Math.sin(g*T)/w,a=Math.sin(a*T)/w}const x=a*y;if(l=l*g+f*x,c=c*g+h*x,d=d*g+m*x,u=u*g+p*x,g===1-a){const w=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=w,c*=w,d*=w,u*=w}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],u=s[o],f=s[o+1],h=s[o+2],m=s[o+3];return e[t]=a*m+d*u+l*h-c*f,e[t+1]=l*m+d*f+c*u-a*h,e[t+2]=c*m+d*h+a*f-l*u,e[t+3]=d*m-a*u-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),u=a(s/2),f=l(i/2),h=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=f*d*u+c*h*m,this._y=c*h*u-f*d*m,this._z=c*d*m+f*h*u,this._w=c*d*u-f*h*m;break;case"YXZ":this._x=f*d*u+c*h*m,this._y=c*h*u-f*d*m,this._z=c*d*m-f*h*u,this._w=c*d*u+f*h*m;break;case"ZXY":this._x=f*d*u-c*h*m,this._y=c*h*u+f*d*m,this._z=c*d*m+f*h*u,this._w=c*d*u-f*h*m;break;case"ZYX":this._x=f*d*u-c*h*m,this._y=c*h*u+f*d*m,this._z=c*d*m-f*h*u,this._w=c*d*u+f*h*m;break;case"YZX":this._x=f*d*u+c*h*m,this._y=c*h*u+f*d*m,this._z=c*d*m-f*h*u,this._w=c*d*u-f*h*m;break;case"XZY":this._x=f*d*u-c*h*m,this._y=c*h*u-f*d*m,this._z=c*d*m+f*h*u,this._w=c*d*u+f*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],u=t[10],f=i+a+u;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(d-l)*h,this._y=(s-c)*h,this._z=(o-r)*h}else if(i>a&&i>u){const h=2*Math.sqrt(1+i-a-u);this._w=(d-l)/h,this._x=.25*h,this._y=(r+o)/h,this._z=(s+c)/h}else if(a>u){const h=2*Math.sqrt(1+a-i-u);this._w=(s-c)/h,this._x=(r+o)/h,this._y=.25*h,this._z=(l+d)/h}else{const h=2*Math.sqrt(1+u-i-a);this._w=(o-r)/h,this._x=(s+c)/h,this._y=(l+d)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*i+t*this._x,this._y=h*r+t*this._y,this._z=h*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-t)*d)/c,f=Math.sin(t*d)/c;return this._w=o*u+this._w*f,this._x=i*u+this._x*f,this._y=r*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,t=0,i=0){W.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(V1.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(V1.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,d=l*i+a*t-s*r,u=l*r+s*i-o*t,f=-s*t-o*i-a*r;return this.x=c*l+f*-s+d*-a-u*-o,this.y=d*l+f*-o+u*-s-c*-a,this.z=u*l+f*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return nm.copy(this).projectOnVector(e),this.sub(nm)}reflect(e){return this.sub(nm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const nm=new W,V1=new ui;class ca{constructor(e=new W(1/0,1/0,1/0),t=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const d=e[l],u=e[l+1],f=e[l+2];d<t&&(t=d),u<i&&(i=u),f<r&&(r=f),d>s&&(s=d),u>o&&(o=u),f>a&&(a=f)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const d=e.getX(l),u=e.getY(l),f=e.getZ(l);d<t&&(t=d),u<i&&(i=u),f<r&&(r=f),d>s&&(s=d),u>o&&(o=u),f>a&&(a=f)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=fo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)fo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fo)}else i.boundingBox===null&&i.computeBoundingBox(),im.copy(i.boundingBox),im.applyMatrix4(e.matrixWorld),this.union(im);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fo),fo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(cu),yf.subVectors(this.max,cu),wa.subVectors(e.a,cu),ba.subVectors(e.b,cu),Sa.subVectors(e.c,cu),us.subVectors(ba,wa),cs.subVectors(Sa,ba),ho.subVectors(wa,Sa);let t=[0,-us.z,us.y,0,-cs.z,cs.y,0,-ho.z,ho.y,us.z,0,-us.x,cs.z,0,-cs.x,ho.z,0,-ho.x,-us.y,us.x,0,-cs.y,cs.x,0,-ho.y,ho.x,0];return!rm(t,wa,ba,Sa,yf)||(t=[1,0,0,0,1,0,0,0,1],!rm(t,wa,ba,Sa,yf))?!1:(xf.crossVectors(us,cs),t=[xf.x,xf.y,xf.z],rm(t,wa,ba,Sa,yf))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fo.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(fo).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Dr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Dr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Dr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Dr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Dr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Dr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Dr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Dr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Dr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Dr=[new W,new W,new W,new W,new W,new W,new W,new W],fo=new W,im=new ca,wa=new W,ba=new W,Sa=new W,us=new W,cs=new W,ho=new W,cu=new W,yf=new W,xf=new W,po=new W;function rm(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){po.fromArray(n,s);const a=r.x*Math.abs(po.x)+r.y*Math.abs(po.y)+r.z*Math.abs(po.z),l=e.dot(po),c=t.dot(po),d=i.dot(po);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const PI=new ca,fu=new W,sm=new W;class fa{constructor(e=new W,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):PI.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;fu.subVectors(e,this.center);const t=fu.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(fu,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(sm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(fu.copy(e.center).add(sm)),this.expandByPoint(fu.copy(e.center).sub(sm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Pr=new W,om=new W,wf=new W,fs=new W,am=new W,bf=new W,lm=new W;class Gh{constructor(e=new W,t=new W(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Pr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Pr.copy(this.direction).multiplyScalar(t).add(this.origin),Pr.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){om.copy(e).add(t).multiplyScalar(.5),wf.copy(t).sub(e).normalize(),fs.copy(this.origin).sub(om);const s=e.distanceTo(t)*.5,o=-this.direction.dot(wf),a=fs.dot(this.direction),l=-fs.dot(wf),c=fs.lengthSq(),d=Math.abs(1-o*o);let u,f,h,m;if(d>0)if(u=o*l-a,f=o*a-l,m=s*d,u>=0)if(f>=-m)if(f<=m){const p=1/d;u*=p,f*=p,h=u*(u+o*f+2*a)+f*(o*u+f+2*l)+c}else f=s,u=Math.max(0,-(o*f+a)),h=-u*u+f*(f+2*l)+c;else f=-s,u=Math.max(0,-(o*f+a)),h=-u*u+f*(f+2*l)+c;else f<=-m?(u=Math.max(0,-(-o*s+a)),f=u>0?-s:Math.min(Math.max(-s,-l),s),h=-u*u+f*(f+2*l)+c):f<=m?(u=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(u=Math.max(0,-(o*s+a)),f=u>0?s:Math.min(Math.max(-s,-l),s),h=-u*u+f*(f+2*l)+c);else f=o>0?-s:s,u=Math.max(0,-(o*f+a)),h=-u*u+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(wf).multiplyScalar(f).add(om),h}intersectSphere(e,t){Pr.subVectors(e.center,this.origin);const i=Pr.dot(this.direction),r=Pr.dot(Pr)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),d>=0?(s=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-f.z)*u,l=(e.max.z-f.z)*u):(a=(e.max.z-f.z)*u,l=(e.min.z-f.z)*u),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Pr)!==null}intersectTriangle(e,t,i,r,s){am.subVectors(t,e),bf.subVectors(i,e),lm.crossVectors(am,bf);let o=this.direction.dot(lm),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;fs.subVectors(this.origin,e);const l=a*this.direction.dot(bf.crossVectors(fs,bf));if(l<0)return null;const c=a*this.direction.dot(am.cross(fs));if(c<0||l+c>o)return null;const d=-a*fs.dot(lm);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class $e{constructor(){$e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,d,u,f,h,m,p,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=d,v[10]=u,v[14]=f,v[3]=h,v[7]=m,v[11]=p,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new $e().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ma.setFromMatrixColumn(e,0).length(),s=1/Ma.setFromMatrixColumn(e,1).length(),o=1/Ma.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const f=o*d,h=o*u,m=a*d,p=a*u;t[0]=l*d,t[4]=-l*u,t[8]=c,t[1]=h+m*c,t[5]=f-p*c,t[9]=-a*l,t[2]=p-f*c,t[6]=m+h*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*d,h=l*u,m=c*d,p=c*u;t[0]=f+p*a,t[4]=m*a-h,t[8]=o*c,t[1]=o*u,t[5]=o*d,t[9]=-a,t[2]=h*a-m,t[6]=p+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*d,h=l*u,m=c*d,p=c*u;t[0]=f-p*a,t[4]=-o*u,t[8]=m+h*a,t[1]=h+m*a,t[5]=o*d,t[9]=p-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*d,h=o*u,m=a*d,p=a*u;t[0]=l*d,t[4]=m*c-h,t[8]=f*c+p,t[1]=l*u,t[5]=p*c+f,t[9]=h*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,h=o*c,m=a*l,p=a*c;t[0]=l*d,t[4]=p-f*u,t[8]=m*u+h,t[1]=u,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=h*u+m,t[10]=f-p*u}else if(e.order==="XZY"){const f=o*l,h=o*c,m=a*l,p=a*c;t[0]=l*d,t[4]=-u,t[8]=c*d,t[1]=f*u+p,t[5]=o*d,t[9]=h*u-m,t[2]=m*u-h,t[6]=a*d,t[10]=p*u+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(LI,e,RI)}lookAt(e,t,i){const r=this.elements;return Jn.subVectors(e,t),Jn.lengthSq()===0&&(Jn.z=1),Jn.normalize(),ds.crossVectors(i,Jn),ds.lengthSq()===0&&(Math.abs(i.z)===1?Jn.x+=1e-4:Jn.z+=1e-4,Jn.normalize(),ds.crossVectors(i,Jn)),ds.normalize(),Sf.crossVectors(Jn,ds),r[0]=ds.x,r[4]=Sf.x,r[8]=Jn.x,r[1]=ds.y,r[5]=Sf.y,r[9]=Jn.y,r[2]=ds.z,r[6]=Sf.z,r[10]=Jn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],u=i[5],f=i[9],h=i[13],m=i[2],p=i[6],g=i[10],v=i[14],y=i[3],_=i[7],x=i[11],w=i[15],T=r[0],S=r[4],b=r[8],M=r[12],E=r[1],O=r[5],V=r[9],I=r[13],N=r[2],C=r[6],B=r[10],H=r[14],P=r[3],Y=r[7],X=r[11],$=r[15];return s[0]=o*T+a*E+l*N+c*P,s[4]=o*S+a*O+l*C+c*Y,s[8]=o*b+a*V+l*B+c*X,s[12]=o*M+a*I+l*H+c*$,s[1]=d*T+u*E+f*N+h*P,s[5]=d*S+u*O+f*C+h*Y,s[9]=d*b+u*V+f*B+h*X,s[13]=d*M+u*I+f*H+h*$,s[2]=m*T+p*E+g*N+v*P,s[6]=m*S+p*O+g*C+v*Y,s[10]=m*b+p*V+g*B+v*X,s[14]=m*M+p*I+g*H+v*$,s[3]=y*T+_*E+x*N+w*P,s[7]=y*S+_*O+x*C+w*Y,s[11]=y*b+_*V+x*B+w*X,s[15]=y*M+_*I+x*H+w*$,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],u=e[6],f=e[10],h=e[14],m=e[3],p=e[7],g=e[11],v=e[15];return m*(+s*l*u-r*c*u-s*a*f+i*c*f+r*a*h-i*l*h)+p*(+t*l*h-t*c*f+s*o*f-r*o*h+r*c*d-s*l*d)+g*(+t*c*u-t*a*h-s*o*u+i*o*h+s*a*d-i*c*d)+v*(-r*a*d-t*l*u+t*a*f+r*o*u-i*o*f+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=e[9],f=e[10],h=e[11],m=e[12],p=e[13],g=e[14],v=e[15],y=u*g*c-p*f*c+p*l*h-a*g*h-u*l*v+a*f*v,_=m*f*c-d*g*c-m*l*h+o*g*h+d*l*v-o*f*v,x=d*p*c-m*u*c+m*a*h-o*p*h-d*a*v+o*u*v,w=m*u*l-d*p*l-m*a*f+o*p*f+d*a*g-o*u*g,T=t*y+i*_+r*x+s*w;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/T;return e[0]=y*S,e[1]=(p*f*s-u*g*s-p*r*h+i*g*h+u*r*v-i*f*v)*S,e[2]=(a*g*s-p*l*s+p*r*c-i*g*c-a*r*v+i*l*v)*S,e[3]=(u*l*s-a*f*s-u*r*c+i*f*c+a*r*h-i*l*h)*S,e[4]=_*S,e[5]=(d*g*s-m*f*s+m*r*h-t*g*h-d*r*v+t*f*v)*S,e[6]=(m*l*s-o*g*s-m*r*c+t*g*c+o*r*v-t*l*v)*S,e[7]=(o*f*s-d*l*s+d*r*c-t*f*c-o*r*h+t*l*h)*S,e[8]=x*S,e[9]=(m*u*s-d*p*s-m*i*h+t*p*h+d*i*v-t*u*v)*S,e[10]=(o*p*s-m*a*s+m*i*c-t*p*c-o*i*v+t*a*v)*S,e[11]=(d*a*s-o*u*s-d*i*c+t*u*c+o*i*h-t*a*h)*S,e[12]=w*S,e[13]=(d*p*r-m*u*r+m*i*f-t*p*f-d*i*g+t*u*g)*S,e[14]=(m*a*r-o*p*r-m*i*l+t*p*l+o*i*g-t*a*g)*S,e[15]=(o*u*r-d*a*r+d*i*l-t*u*l-o*i*f+t*a*f)*S,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,u=a+a,f=s*c,h=s*d,m=s*u,p=o*d,g=o*u,v=a*u,y=l*c,_=l*d,x=l*u,w=i.x,T=i.y,S=i.z;return r[0]=(1-(p+v))*w,r[1]=(h+x)*w,r[2]=(m-_)*w,r[3]=0,r[4]=(h-x)*T,r[5]=(1-(f+v))*T,r[6]=(g+y)*T,r[7]=0,r[8]=(m+_)*S,r[9]=(g-y)*S,r[10]=(1-(f+p))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ma.set(r[0],r[1],r[2]).length();const o=Ma.set(r[4],r[5],r[6]).length(),a=Ma.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],qi.copy(this);const c=1/s,d=1/o,u=1/a;return qi.elements[0]*=c,qi.elements[1]*=c,qi.elements[2]*=c,qi.elements[4]*=d,qi.elements[5]*=d,qi.elements[6]*=d,qi.elements[8]*=u,qi.elements[9]*=u,qi.elements[10]*=u,t.setFromRotationMatrix(qi),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),d=(t+e)/(t-e),u=(i+r)/(i-r),f=-(o+s)/(o-s),h=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),d=1/(o-s),u=(t+e)*l,f=(i+r)*c,h=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ma=new W,qi=new $e,LI=new W(0,0,0),RI=new W(1,1,1),ds=new W,Sf=new W,Jn=new W,H1=new $e,W1=new ui;class Vc{constructor(e=0,t=0,i=0,r=Vc.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],u=r[2],f=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Qt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Qt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Qt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return H1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(H1,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return W1.setFromEuler(this),this.setFromQuaternion(W1,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Vc.DefaultOrder="XYZ";Vc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class $h{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let OI=0;const G1=new W,Ta=new ui,Lr=new $e,Mf=new W,du=new W,kI=new W,II=new ui,$1=new W(1,0,0),X1=new W(0,1,0),q1=new W(0,0,1),FI={type:"added"},Y1={type:"removed"};class Tt extends ua{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:OI++}),this.uuid=Ii(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tt.DefaultUp.clone();const e=new W,t=new Vc,i=new ui,r=new W(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new $e},normalMatrix:{value:new si}}),this.matrix=new $e,this.matrixWorld=new $e,this.matrixAutoUpdate=Tt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Tt.DefaultMatrixWorldAutoUpdate,this.layers=new $h,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ta.setFromAxisAngle(e,t),this.quaternion.multiply(Ta),this}rotateOnWorldAxis(e,t){return Ta.setFromAxisAngle(e,t),this.quaternion.premultiply(Ta),this}rotateX(e){return this.rotateOnAxis($1,e)}rotateY(e){return this.rotateOnAxis(X1,e)}rotateZ(e){return this.rotateOnAxis(q1,e)}translateOnAxis(e,t){return G1.copy(e).applyQuaternion(this.quaternion),this.position.add(G1.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis($1,e)}translateY(e){return this.translateOnAxis(X1,e)}translateZ(e){return this.translateOnAxis(q1,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Lr.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Mf.copy(e):Mf.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),du.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Lr.lookAt(du,Mf,this.up):Lr.lookAt(Mf,du,this.up),this.quaternion.setFromRotationMatrix(Lr),r&&(Lr.extractRotation(r.matrixWorld),Ta.setFromRotationMatrix(Lr),this.quaternion.premultiply(Ta.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(FI)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Y1)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Y1)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Lr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Lr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Lr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(du,e,kI),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(du,II,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const u=l[c];s(e.shapes,u)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),u=o(e.shapes),f=o(e.skeletons),h=o(e.animations),m=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),u.length>0&&(i.shapes=u),f.length>0&&(i.skeletons=f),h.length>0&&(i.animations=h),m.length>0&&(i.nodes=m)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Tt.DefaultUp=new W(0,1,0);Tt.DefaultMatrixAutoUpdate=!0;Tt.DefaultMatrixWorldAutoUpdate=!0;const Yi=new W,Rr=new W,um=new W,Or=new W,Ea=new W,Aa=new W,K1=new W,cm=new W,fm=new W,dm=new W;class Ur{constructor(e=new W,t=new W,i=new W){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Yi.subVectors(e,t),r.cross(Yi);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Yi.subVectors(r,t),Rr.subVectors(i,t),um.subVectors(e,t);const o=Yi.dot(Yi),a=Yi.dot(Rr),l=Yi.dot(um),c=Rr.dot(Rr),d=Rr.dot(um),u=o*c-a*a;if(u===0)return s.set(-2,-1,-1);const f=1/u,h=(c*l-a*d)*f,m=(o*d-a*l)*f;return s.set(1-h-m,m,h)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Or),Or.x>=0&&Or.y>=0&&Or.x+Or.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Or),l.set(0,0),l.addScaledVector(s,Or.x),l.addScaledVector(o,Or.y),l.addScaledVector(a,Or.z),l}static isFrontFacing(e,t,i,r){return Yi.subVectors(i,t),Rr.subVectors(e,t),Yi.cross(Rr).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yi.subVectors(this.c,this.b),Rr.subVectors(this.a,this.b),Yi.cross(Rr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ur.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ur.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Ur.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ur.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ur.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Ea.subVectors(r,i),Aa.subVectors(s,i),cm.subVectors(e,i);const l=Ea.dot(cm),c=Aa.dot(cm);if(l<=0&&c<=0)return t.copy(i);fm.subVectors(e,r);const d=Ea.dot(fm),u=Aa.dot(fm);if(d>=0&&u<=d)return t.copy(r);const f=l*u-d*c;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Ea,o);dm.subVectors(e,s);const h=Ea.dot(dm),m=Aa.dot(dm);if(m>=0&&h<=m)return t.copy(s);const p=h*c-l*m;if(p<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(i).addScaledVector(Aa,a);const g=d*m-h*u;if(g<=0&&u-d>=0&&h-m>=0)return K1.subVectors(s,r),a=(u-d)/(u-d+(h-m)),t.copy(r).addScaledVector(K1,a);const v=1/(g+p+f);return o=p*v,a=f*v,t.copy(i).addScaledVector(Ea,o).addScaledVector(Aa,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let NI=0;class rr extends ua{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NI++}),this.uuid=Ii(),this.name="",this.type="Material",this.blending=dl,this.side=Ks,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=IE,this.blendDst=FE,this.blendEquation=Ia,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=iv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Jp,this.stencilZFail=Jp,this.stencilZPass=Jp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==dl&&(i.blending=this.blending),this.side!==Ks&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class vr extends rr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=n_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const It=new W,Tf=new Le;class it{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=av,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Tf.fromBufferAttribute(this,t),Tf.applyMatrix3(e),this.setXY(t,Tf.x,Tf.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)It.fromBufferAttribute(this,t),It.applyMatrix3(e),this.setXYZ(t,It.x,It.y,It.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)It.fromBufferAttribute(this,t),It.applyMatrix4(e),this.setXYZ(t,It.x,It.y,It.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)It.fromBufferAttribute(this,t),It.applyNormalMatrix(e),this.setXYZ(t,It.x,It.y,It.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)It.fromBufferAttribute(this,t),It.transformDirection(e),this.setXYZ(t,It.x,It.y,It.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Gr(t,this.array)),t}setX(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Gr(t,this.array)),t}setY(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Gr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Gr(t,this.array)),t}setW(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array),r=ct(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array),r=ct(r,this.array),s=ct(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==av&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class KE extends it{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class JE extends it{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Fi extends it{constructor(e,t,i){super(new Float32Array(e),t,i)}}let zI=0;const yi=new $e,hm=new Tt,Ca=new W,Zn=new ca,hu=new ca,Yt=new W;class qn extends ua{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zI++}),this.uuid=Ii(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(GE(e)?JE:KE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new si().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yi.makeRotationFromQuaternion(e),this.applyMatrix4(yi),this}rotateX(e){return yi.makeRotationX(e),this.applyMatrix4(yi),this}rotateY(e){return yi.makeRotationY(e),this.applyMatrix4(yi),this}rotateZ(e){return yi.makeRotationZ(e),this.applyMatrix4(yi),this}translate(e,t,i){return yi.makeTranslation(e,t,i),this.applyMatrix4(yi),this}scale(e,t,i){return yi.makeScale(e,t,i),this.applyMatrix4(yi),this}lookAt(e){return hm.lookAt(e),hm.updateMatrix(),this.applyMatrix4(hm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ca).negate(),this.translate(Ca.x,Ca.y,Ca.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Fi(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ca);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Zn.setFromBufferAttribute(s),this.morphTargetsRelative?(Yt.addVectors(this.boundingBox.min,Zn.min),this.boundingBox.expandByPoint(Yt),Yt.addVectors(this.boundingBox.max,Zn.max),this.boundingBox.expandByPoint(Yt)):(this.boundingBox.expandByPoint(Zn.min),this.boundingBox.expandByPoint(Zn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new W,1/0);return}if(e){const i=this.boundingSphere.center;if(Zn.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];hu.setFromBufferAttribute(a),this.morphTargetsRelative?(Yt.addVectors(Zn.min,hu.min),Zn.expandByPoint(Yt),Yt.addVectors(Zn.max,hu.max),Zn.expandByPoint(Yt)):(Zn.expandByPoint(hu.min),Zn.expandByPoint(hu.max))}Zn.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Yt.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Yt));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Yt.fromBufferAttribute(a,c),l&&(Ca.fromBufferAttribute(e,c),Yt.add(Ca)),r=Math.max(r,i.distanceToSquared(Yt))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new it(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let E=0;E<a;E++)c[E]=new W,d[E]=new W;const u=new W,f=new W,h=new W,m=new Le,p=new Le,g=new Le,v=new W,y=new W;function _(E,O,V){u.fromArray(r,E*3),f.fromArray(r,O*3),h.fromArray(r,V*3),m.fromArray(o,E*2),p.fromArray(o,O*2),g.fromArray(o,V*2),f.sub(u),h.sub(u),p.sub(m),g.sub(m);const I=1/(p.x*g.y-g.x*p.y);isFinite(I)&&(v.copy(f).multiplyScalar(g.y).addScaledVector(h,-p.y).multiplyScalar(I),y.copy(h).multiplyScalar(p.x).addScaledVector(f,-g.x).multiplyScalar(I),c[E].add(v),c[O].add(v),c[V].add(v),d[E].add(y),d[O].add(y),d[V].add(y))}let x=this.groups;x.length===0&&(x=[{start:0,count:i.length}]);for(let E=0,O=x.length;E<O;++E){const V=x[E],I=V.start,N=V.count;for(let C=I,B=I+N;C<B;C+=3)_(i[C+0],i[C+1],i[C+2])}const w=new W,T=new W,S=new W,b=new W;function M(E){S.fromArray(s,E*3),b.copy(S);const O=c[E];w.copy(O),w.sub(S.multiplyScalar(S.dot(O))).normalize(),T.crossVectors(b,O);const I=T.dot(d[E])<0?-1:1;l[E*4]=w.x,l[E*4+1]=w.y,l[E*4+2]=w.z,l[E*4+3]=I}for(let E=0,O=x.length;E<O;++E){const V=x[E],I=V.start,N=V.count;for(let C=I,B=I+N;C<B;C+=3)M(i[C+0]),M(i[C+1]),M(i[C+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new it(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new W,s=new W,o=new W,a=new W,l=new W,c=new W,d=new W,u=new W;if(e)for(let f=0,h=e.count;f<h;f+=3){const m=e.getX(f+0),p=e.getX(f+1),g=e.getX(f+2);r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,p),o.fromBufferAttribute(t,g),d.subVectors(o,s),u.subVectors(r,s),d.cross(u),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,p),c.fromBufferAttribute(i,g),a.add(d),l.add(d),c.add(d),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(p,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),d.subVectors(o,s),u.subVectors(r,s),d.cross(u),i.setXYZ(f+0,d.x,d.y,d.z),i.setXYZ(f+1,d.x,d.y,d.z),i.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Yt.fromBufferAttribute(e,t),Yt.normalize(),e.setXYZ(t,Yt.x,Yt.y,Yt.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,u=a.normalized,f=new c.constructor(l.length*d);let h=0,m=0;for(let p=0,g=l.length;p<g;p++){a.isInterleavedBufferAttribute?h=l[p]*a.data.stride+a.offset:h=l[p]*d;for(let v=0;v<d;v++)f[m++]=c[h++]}return new it(f,d,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new qn,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,u=c.length;d<u;d++){const f=c[d],h=e(f,i);l.push(h)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,f=c.length;u<f;u++){const h=c[u];d.push(h.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],u=s[c];for(let f=0,h=u.length;f<h;f++)d.push(u[f].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const u=o[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const J1=new $e,Da=new Gh,pm=new fa,pu=new W,mu=new W,gu=new W,mm=new W,Ef=new W,Af=new Le,Cf=new Le,Df=new Le,gm=new W,Pf=new W;class Rt extends Tt{constructor(e=new qn,t=new vr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Ef.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],u=s[l];d!==0&&(mm.fromBufferAttribute(u,e),o?Ef.addScaledVector(mm,d):Ef.addScaledVector(mm.sub(t),d))}t.add(Ef)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),pm.copy(i.boundingSphere),pm.applyMatrix4(s),e.ray.intersectsSphere(pm)===!1)||(J1.copy(s).invert(),Da.copy(e.ray).applyMatrix4(J1),i.boundingBox!==null&&Da.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.attributes.uv,d=i.attributes.uv2,u=i.groups,f=i.drawRange;if(a!==null)if(Array.isArray(r))for(let h=0,m=u.length;h<m;h++){const p=u[h],g=r[p.materialIndex],v=Math.max(p.start,f.start),y=Math.min(a.count,Math.min(p.start+p.count,f.start+f.count));for(let _=v,x=y;_<x;_+=3){const w=a.getX(_),T=a.getX(_+1),S=a.getX(_+2);o=Lf(this,g,e,Da,c,d,w,T,S),o&&(o.faceIndex=Math.floor(_/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else{const h=Math.max(0,f.start),m=Math.min(a.count,f.start+f.count);for(let p=h,g=m;p<g;p+=3){const v=a.getX(p),y=a.getX(p+1),_=a.getX(p+2);o=Lf(this,r,e,Da,c,d,v,y,_),o&&(o.faceIndex=Math.floor(p/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let h=0,m=u.length;h<m;h++){const p=u[h],g=r[p.materialIndex],v=Math.max(p.start,f.start),y=Math.min(l.count,Math.min(p.start+p.count,f.start+f.count));for(let _=v,x=y;_<x;_+=3){const w=_,T=_+1,S=_+2;o=Lf(this,g,e,Da,c,d,w,T,S),o&&(o.faceIndex=Math.floor(_/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else{const h=Math.max(0,f.start),m=Math.min(l.count,f.start+f.count);for(let p=h,g=m;p<g;p+=3){const v=p,y=p+1,_=p+2;o=Lf(this,r,e,Da,c,d,v,y,_),o&&(o.faceIndex=Math.floor(p/3),t.push(o))}}}}function BI(n,e,t,i,r,s,o,a){let l;if(e.side===li?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Ks,a),l===null)return null;Pf.copy(a),Pf.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Pf);return c<t.near||c>t.far?null:{distance:c,point:Pf.clone(),object:n}}function Lf(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,pu),n.getVertexPosition(a,mu),n.getVertexPosition(l,gu);const c=BI(n,e,t,i,pu,mu,gu,gm);if(c){r&&(Af.fromBufferAttribute(r,o),Cf.fromBufferAttribute(r,a),Df.fromBufferAttribute(r,l),c.uv=Ur.getUV(gm,pu,mu,gu,Af,Cf,Df,new Le)),s&&(Af.fromBufferAttribute(s,o),Cf.fromBufferAttribute(s,a),Df.fromBufferAttribute(s,l),c.uv2=Ur.getUV(gm,pu,mu,gu,Af,Cf,Df,new Le));const d={a:o,b:a,c:l,normal:new W,materialIndex:0};Ur.getNormal(pu,mu,gu,d.normal),c.face=d}return c}class Hc extends qn{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],u=[];let f=0,h=0;m("z","y","x",-1,-1,i,t,e,o,s,0),m("z","y","x",1,-1,i,t,-e,o,s,1),m("x","z","y",1,1,e,i,t,r,o,2),m("x","z","y",1,-1,e,i,-t,r,o,3),m("x","y","z",1,-1,e,t,i,r,s,4),m("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Fi(c,3)),this.setAttribute("normal",new Fi(d,3)),this.setAttribute("uv",new Fi(u,2));function m(p,g,v,y,_,x,w,T,S,b,M){const E=x/S,O=w/b,V=x/2,I=w/2,N=T/2,C=S+1,B=b+1;let H=0,P=0;const Y=new W;for(let X=0;X<B;X++){const $=X*O-I;for(let Z=0;Z<C;Z++){const re=Z*E-V;Y[p]=re*y,Y[g]=$*_,Y[v]=N,c.push(Y.x,Y.y,Y.z),Y[p]=0,Y[g]=0,Y[v]=T>0?1:-1,d.push(Y.x,Y.y,Y.z),u.push(Z/S),u.push(1-X/b),H+=1}}for(let X=0;X<b;X++)for(let $=0;$<S;$++){const Z=f+$+C*X,re=f+$+C*(X+1),se=f+($+1)+C*(X+1),ve=f+($+1)+C*X;l.push(Z,re,ve),l.push(re,se,ve),P+=6}a.addGroup(h,P,M),h+=P,f+=H}}static fromJSON(e){return new Hc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zl(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Dn(n){const e={};for(let t=0;t<n.length;t++){const i=zl(n[t]);for(const r in i)e[r]=i[r]}return e}function UI(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function ZE(n){return n.getRenderTarget()===null&&n.outputEncoding===nt?hr:Sc}const QE={clone:zl,merge:Dn};var jI=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,VI=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Sn extends rr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jI,this.fragmentShader=VI,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zl(e.uniforms),this.uniformsGroups=UI(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class eA extends Tt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new $e,this.projectionMatrix=new $e,this.projectionMatrixInverse=new $e}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ln extends eA{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Mc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan($u*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mc*2*Math.atan(Math.tan($u*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan($u*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Pa=-90,La=1;class HI extends Tt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Ln(Pa,La,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Ln(Pa,La,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Ln(Pa,La,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Ln(Pa,La,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Ln(Pa,La,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Ln(Pa,La,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,d=e.getRenderTarget(),u=e.toneMapping,f=e.xr.enabled;e.toneMapping=Kr,e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=u,e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class o_ extends rn{constructor(e,t,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:Ol,super(e,t,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WI extends ea{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new o_(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Lt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Hc(5,5,5),s=new Sn({name:"CubemapFromEquirect",uniforms:zl(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:li,blending:Us});s.uniforms.tEquirect.value=t;const o=new Rt(r,s),a=t.minFilter;return t.minFilter===Js&&(t.minFilter=Lt),new HI(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const vm=new W,GI=new W,$I=new si;class Eo{constructor(e=new W(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=vm.subVectors(i,t).cross(GI.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(vm),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||$I.getNormalMatrix(e),r=this.coplanarPoint(vm).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ra=new fa,Rf=new W;class a_{constructor(e=new Eo,t=new Eo,i=new Eo,r=new Eo,s=new Eo,o=new Eo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],d=i[6],u=i[7],f=i[8],h=i[9],m=i[10],p=i[11],g=i[12],v=i[13],y=i[14],_=i[15];return t[0].setComponents(a-r,u-l,p-f,_-g).normalize(),t[1].setComponents(a+r,u+l,p+f,_+g).normalize(),t[2].setComponents(a+s,u+c,p+h,_+v).normalize(),t[3].setComponents(a-s,u-c,p-h,_-v).normalize(),t[4].setComponents(a-o,u-d,p-m,_-y).normalize(),t[5].setComponents(a+o,u+d,p+m,_+y).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ra.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ra)}intersectsSprite(e){return Ra.center.set(0,0,0),Ra.radius=.7071067811865476,Ra.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ra)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Rf.x=r.normal.x>0?e.max.x:e.min.x,Rf.y=r.normal.y>0?e.max.y:e.min.y,Rf.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Rf)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function tA(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function XI(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,d){const u=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(d,h),n.bufferData(d,u,f),c.onUploadCallback();let m;if(u instanceof Float32Array)m=5126;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(u instanceof Int16Array)m=5122;else if(u instanceof Uint32Array)m=5125;else if(u instanceof Int32Array)m=5124;else if(u instanceof Int8Array)m=5120;else if(u instanceof Uint8Array)m=5121;else if(u instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,u){const f=d.array,h=d.updateRange;n.bindBuffer(u,c),h.count===-1?n.bufferSubData(u,0,f):(t?n.bufferSubData(u,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(u,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u===void 0?i.set(c,r(c,d)):u.version<c.version&&(s(u.buffer,c,d),u.version=c.version)}return{get:o,remove:a,update:l}}class da extends qn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,u=e/a,f=t/l,h=[],m=[],p=[],g=[];for(let v=0;v<d;v++){const y=v*f-o;for(let _=0;_<c;_++){const x=_*u-s;m.push(x,-y,0),p.push(0,0,1),g.push(_/a),g.push(1-v/l)}}for(let v=0;v<l;v++)for(let y=0;y<a;y++){const _=y+c*v,x=y+c*(v+1),w=y+1+c*(v+1),T=y+1+c*v;h.push(_,x,T),h.push(x,w,T)}this.setIndex(h),this.setAttribute("position",new Fi(m,3)),this.setAttribute("normal",new Fi(p,3)),this.setAttribute("uv",new Fi(g,2))}static fromJSON(e){return new da(e.width,e.height,e.widthSegments,e.heightSegments)}}var qI=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,YI=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KI=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,JI=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ZI=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,QI=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,eF="vec3 transformed = vec3( position );",tF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,nF=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,sF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,oF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,aF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,lF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,uF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,hF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,pF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,mF=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,gF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,_F=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xF="gl_FragColor = linearToOutputTexel( gl_FragColor );",wF=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,bF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,SF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,MF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,TF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,EF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,AF=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,CF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,DF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,PF=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,LF=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,RF=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,OF=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,kF=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,IF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,FF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,NF=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,zF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,BF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,UF=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,jF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,VF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,HF=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,WF=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,GF=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,$F=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,XF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,qF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,KF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,JF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ZF=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,QF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,eN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tN=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,nN=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,iN=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rN=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,sN=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,oN=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,aN=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,lN=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,uN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fN=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,dN=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,hN=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,pN=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,mN=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,gN=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,vN=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_N=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,yN=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xN=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wN=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,bN=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,SN=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,MN=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,TN=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,EN=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AN=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,CN=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,DN=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,PN=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,LN=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,RN=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ON=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kN=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,IN=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,FN=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,NN=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,zN=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,BN=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,UN=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,jN=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,VN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,HN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,WN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,GN=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $N=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,XN=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,qN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,YN=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JN=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ZN=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,QN=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,e4=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,t4=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,n4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,i4=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,r4=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,s4=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,o4=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,a4=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l4=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u4=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c4=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,f4=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d4=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,h4=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,p4=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,m4=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g4=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,v4=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,y4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,x4=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,w4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,b4=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,S4=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,M4=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,T4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,je={alphamap_fragment:qI,alphamap_pars_fragment:YI,alphatest_fragment:KI,alphatest_pars_fragment:JI,aomap_fragment:ZI,aomap_pars_fragment:QI,begin_vertex:eF,beginnormal_vertex:tF,bsdfs:nF,iridescence_fragment:iF,bumpmap_pars_fragment:rF,clipping_planes_fragment:sF,clipping_planes_pars_fragment:oF,clipping_planes_pars_vertex:aF,clipping_planes_vertex:lF,color_fragment:uF,color_pars_fragment:cF,color_pars_vertex:fF,color_vertex:dF,common:hF,cube_uv_reflection_fragment:pF,defaultnormal_vertex:mF,displacementmap_pars_vertex:gF,displacementmap_vertex:vF,emissivemap_fragment:_F,emissivemap_pars_fragment:yF,encodings_fragment:xF,encodings_pars_fragment:wF,envmap_fragment:bF,envmap_common_pars_fragment:SF,envmap_pars_fragment:MF,envmap_pars_vertex:TF,envmap_physical_pars_fragment:NF,envmap_vertex:EF,fog_vertex:AF,fog_pars_vertex:CF,fog_fragment:DF,fog_pars_fragment:PF,gradientmap_pars_fragment:LF,lightmap_fragment:RF,lightmap_pars_fragment:OF,lights_lambert_fragment:kF,lights_lambert_pars_fragment:IF,lights_pars_begin:FF,lights_toon_fragment:zF,lights_toon_pars_fragment:BF,lights_phong_fragment:UF,lights_phong_pars_fragment:jF,lights_physical_fragment:VF,lights_physical_pars_fragment:HF,lights_fragment_begin:WF,lights_fragment_maps:GF,lights_fragment_end:$F,logdepthbuf_fragment:XF,logdepthbuf_pars_fragment:qF,logdepthbuf_pars_vertex:YF,logdepthbuf_vertex:KF,map_fragment:JF,map_pars_fragment:ZF,map_particle_fragment:QF,map_particle_pars_fragment:eN,metalnessmap_fragment:tN,metalnessmap_pars_fragment:nN,morphcolor_vertex:iN,morphnormal_vertex:rN,morphtarget_pars_vertex:sN,morphtarget_vertex:oN,normal_fragment_begin:aN,normal_fragment_maps:lN,normal_pars_fragment:uN,normal_pars_vertex:cN,normal_vertex:fN,normalmap_pars_fragment:dN,clearcoat_normal_fragment_begin:hN,clearcoat_normal_fragment_maps:pN,clearcoat_pars_fragment:mN,iridescence_pars_fragment:gN,output_fragment:vN,packing:_N,premultiplied_alpha_fragment:yN,project_vertex:xN,dithering_fragment:wN,dithering_pars_fragment:bN,roughnessmap_fragment:SN,roughnessmap_pars_fragment:MN,shadowmap_pars_fragment:TN,shadowmap_pars_vertex:EN,shadowmap_vertex:AN,shadowmask_pars_fragment:CN,skinbase_vertex:DN,skinning_pars_vertex:PN,skinning_vertex:LN,skinnormal_vertex:RN,specularmap_fragment:ON,specularmap_pars_fragment:kN,tonemapping_fragment:IN,tonemapping_pars_fragment:FN,transmission_fragment:NN,transmission_pars_fragment:zN,uv_pars_fragment:BN,uv_pars_vertex:UN,uv_vertex:jN,uv2_pars_fragment:VN,uv2_pars_vertex:HN,uv2_vertex:WN,worldpos_vertex:GN,background_vert:$N,background_frag:XN,backgroundCube_vert:qN,backgroundCube_frag:YN,cube_vert:KN,cube_frag:JN,depth_vert:ZN,depth_frag:QN,distanceRGBA_vert:e4,distanceRGBA_frag:t4,equirect_vert:n4,equirect_frag:i4,linedashed_vert:r4,linedashed_frag:s4,meshbasic_vert:o4,meshbasic_frag:a4,meshlambert_vert:l4,meshlambert_frag:u4,meshmatcap_vert:c4,meshmatcap_frag:f4,meshnormal_vert:d4,meshnormal_frag:h4,meshphong_vert:p4,meshphong_frag:m4,meshphysical_vert:g4,meshphysical_frag:v4,meshtoon_vert:_4,meshtoon_frag:y4,points_vert:x4,points_frag:w4,shadow_vert:b4,shadow_frag:S4,sprite_vert:M4,sprite_frag:T4},Me={common:{diffuse:{value:new Ie(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new si},uv2Transform:{value:new si},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new si}},sprite:{diffuse:{value:new Ie(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new si}}},er={basic:{uniforms:Dn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.fog]),vertexShader:je.meshbasic_vert,fragmentShader:je.meshbasic_frag},lambert:{uniforms:Dn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new Ie(0)}}]),vertexShader:je.meshlambert_vert,fragmentShader:je.meshlambert_frag},phong:{uniforms:Dn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new Ie(0)},specular:{value:new Ie(1118481)},shininess:{value:30}}]),vertexShader:je.meshphong_vert,fragmentShader:je.meshphong_frag},standard:{uniforms:Dn([Me.common,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.roughnessmap,Me.metalnessmap,Me.fog,Me.lights,{emissive:{value:new Ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag},toon:{uniforms:Dn([Me.common,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.gradientmap,Me.fog,Me.lights,{emissive:{value:new Ie(0)}}]),vertexShader:je.meshtoon_vert,fragmentShader:je.meshtoon_frag},matcap:{uniforms:Dn([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,{matcap:{value:null}}]),vertexShader:je.meshmatcap_vert,fragmentShader:je.meshmatcap_frag},points:{uniforms:Dn([Me.points,Me.fog]),vertexShader:je.points_vert,fragmentShader:je.points_frag},dashed:{uniforms:Dn([Me.common,Me.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:je.linedashed_vert,fragmentShader:je.linedashed_frag},depth:{uniforms:Dn([Me.common,Me.displacementmap]),vertexShader:je.depth_vert,fragmentShader:je.depth_frag},normal:{uniforms:Dn([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,{opacity:{value:1}}]),vertexShader:je.meshnormal_vert,fragmentShader:je.meshnormal_frag},sprite:{uniforms:Dn([Me.sprite,Me.fog]),vertexShader:je.sprite_vert,fragmentShader:je.sprite_frag},background:{uniforms:{uvTransform:{value:new si},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:je.background_vert,fragmentShader:je.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:je.backgroundCube_vert,fragmentShader:je.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:je.cube_vert,fragmentShader:je.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:je.equirect_vert,fragmentShader:je.equirect_frag},distanceRGBA:{uniforms:Dn([Me.common,Me.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:je.distanceRGBA_vert,fragmentShader:je.distanceRGBA_frag},shadow:{uniforms:Dn([Me.lights,Me.fog,{color:{value:new Ie(0)},opacity:{value:1}}]),vertexShader:je.shadow_vert,fragmentShader:je.shadow_frag}};er.physical={uniforms:Dn([er.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ie(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ie(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ie(1,1,1)},specularColorMap:{value:null}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag};const Of={r:0,b:0,g:0};function E4(n,e,t,i,r,s,o){const a=new Ie(0);let l=s===!0?0:1,c,d,u=null,f=0,h=null;function m(g,v){let y=!1,_=v.isScene===!0?v.background:null;_&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_));const x=n.xr,w=x.getSession&&x.getSession();w&&w.environmentBlendMode==="additive"&&(_=null),_===null?p(a,l):_&&_.isColor&&(p(_,1),y=!0),(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Hh)?(d===void 0&&(d=new Rt(new Hc(1,1,1),new Sn({name:"BackgroundCubeMaterial",uniforms:zl(er.backgroundCube.uniforms),vertexShader:er.backgroundCube.vertexShader,fragmentShader:er.backgroundCube.fragmentShader,side:li,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,S,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=_,d.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,d.material.toneMapped=_.encoding!==nt,(u!==_||f!==_.version||h!==n.toneMapping)&&(d.material.needsUpdate=!0,u=_,f=_.version,h=n.toneMapping),d.layers.enableAll(),g.unshift(d,d.geometry,d.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Rt(new da(2,2),new Sn({name:"BackgroundMaterial",uniforms:zl(er.background.uniforms),vertexShader:er.background.vertexShader,fragmentShader:er.background.fragmentShader,side:Ks,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=_.encoding!==nt,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(u!==_||f!==_.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,u=_,f=_.version,h=n.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}function p(g,v){g.getRGB(Of,ZE(n)),i.buffers.color.setClear(Of.r,Of.g,Of.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(g,v=1){a.set(g),l=v,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,p(a,l)},render:m}}function A4(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=g(null);let c=l,d=!1;function u(N,C,B,H,P){let Y=!1;if(o){const X=p(H,B,C);c!==X&&(c=X,h(c.object)),Y=v(N,H,B,P),Y&&y(N,H,B,P)}else{const X=C.wireframe===!0;(c.geometry!==H.id||c.program!==B.id||c.wireframe!==X)&&(c.geometry=H.id,c.program=B.id,c.wireframe=X,Y=!0)}P!==null&&t.update(P,34963),(Y||d)&&(d=!1,b(N,C,B,H),P!==null&&n.bindBuffer(34963,t.get(P).buffer))}function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function h(N){return i.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function m(N){return i.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function p(N,C,B){const H=B.wireframe===!0;let P=a[N.id];P===void 0&&(P={},a[N.id]=P);let Y=P[C.id];Y===void 0&&(Y={},P[C.id]=Y);let X=Y[H];return X===void 0&&(X=g(f()),Y[H]=X),X}function g(N){const C=[],B=[],H=[];for(let P=0;P<r;P++)C[P]=0,B[P]=0,H[P]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:C,enabledAttributes:B,attributeDivisors:H,object:N,attributes:{},index:null}}function v(N,C,B,H){const P=c.attributes,Y=C.attributes;let X=0;const $=B.getAttributes();for(const Z in $)if($[Z].location>=0){const se=P[Z];let ve=Y[Z];if(ve===void 0&&(Z==="instanceMatrix"&&N.instanceMatrix&&(ve=N.instanceMatrix),Z==="instanceColor"&&N.instanceColor&&(ve=N.instanceColor)),se===void 0||se.attribute!==ve||ve&&se.data!==ve.data)return!0;X++}return c.attributesNum!==X||c.index!==H}function y(N,C,B,H){const P={},Y=C.attributes;let X=0;const $=B.getAttributes();for(const Z in $)if($[Z].location>=0){let se=Y[Z];se===void 0&&(Z==="instanceMatrix"&&N.instanceMatrix&&(se=N.instanceMatrix),Z==="instanceColor"&&N.instanceColor&&(se=N.instanceColor));const ve={};ve.attribute=se,se&&se.data&&(ve.data=se.data),P[Z]=ve,X++}c.attributes=P,c.attributesNum=X,c.index=H}function _(){const N=c.newAttributes;for(let C=0,B=N.length;C<B;C++)N[C]=0}function x(N){w(N,0)}function w(N,C){const B=c.newAttributes,H=c.enabledAttributes,P=c.attributeDivisors;B[N]=1,H[N]===0&&(n.enableVertexAttribArray(N),H[N]=1),P[N]!==C&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,C),P[N]=C)}function T(){const N=c.newAttributes,C=c.enabledAttributes;for(let B=0,H=C.length;B<H;B++)C[B]!==N[B]&&(n.disableVertexAttribArray(B),C[B]=0)}function S(N,C,B,H,P,Y){i.isWebGL2===!0&&(B===5124||B===5125)?n.vertexAttribIPointer(N,C,B,P,Y):n.vertexAttribPointer(N,C,B,H,P,Y)}function b(N,C,B,H){if(i.isWebGL2===!1&&(N.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const P=H.attributes,Y=B.getAttributes(),X=C.defaultAttributeValues;for(const $ in Y){const Z=Y[$];if(Z.location>=0){let re=P[$];if(re===void 0&&($==="instanceMatrix"&&N.instanceMatrix&&(re=N.instanceMatrix),$==="instanceColor"&&N.instanceColor&&(re=N.instanceColor)),re!==void 0){const se=re.normalized,ve=re.itemSize,te=t.get(re);if(te===void 0)continue;const ke=te.buffer,Te=te.type,Re=te.bytesPerElement;if(re.isInterleavedBufferAttribute){const Q=re.data,he=Q.stride,Se=re.offset;if(Q.isInstancedInterleavedBuffer){for(let ye=0;ye<Z.locationSize;ye++)w(Z.location+ye,Q.meshPerAttribute);N.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let ye=0;ye<Z.locationSize;ye++)x(Z.location+ye);n.bindBuffer(34962,ke);for(let ye=0;ye<Z.locationSize;ye++)S(Z.location+ye,ve/Z.locationSize,Te,se,he*Re,(Se+ve/Z.locationSize*ye)*Re)}else{if(re.isInstancedBufferAttribute){for(let Q=0;Q<Z.locationSize;Q++)w(Z.location+Q,re.meshPerAttribute);N.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Q=0;Q<Z.locationSize;Q++)x(Z.location+Q);n.bindBuffer(34962,ke);for(let Q=0;Q<Z.locationSize;Q++)S(Z.location+Q,ve/Z.locationSize,Te,se,ve*Re,ve/Z.locationSize*Q*Re)}}else if(X!==void 0){const se=X[$];if(se!==void 0)switch(se.length){case 2:n.vertexAttrib2fv(Z.location,se);break;case 3:n.vertexAttrib3fv(Z.location,se);break;case 4:n.vertexAttrib4fv(Z.location,se);break;default:n.vertexAttrib1fv(Z.location,se)}}}}T()}function M(){V();for(const N in a){const C=a[N];for(const B in C){const H=C[B];for(const P in H)m(H[P].object),delete H[P];delete C[B]}delete a[N]}}function E(N){if(a[N.id]===void 0)return;const C=a[N.id];for(const B in C){const H=C[B];for(const P in H)m(H[P].object),delete H[P];delete C[B]}delete a[N.id]}function O(N){for(const C in a){const B=a[C];if(B[N.id]===void 0)continue;const H=B[N.id];for(const P in H)m(H[P].object),delete H[P];delete B[N.id]}}function V(){I(),d=!0,c!==l&&(c=l,h(c.object))}function I(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:V,resetDefaultState:I,dispose:M,releaseStatesOfGeometry:E,releaseStatesOfProgram:O,initAttributes:_,enableAttribute:x,disableUnusedAttributes:T}}function C4(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,u){if(u===0)return;let f,h;if(r)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](s,c,d,u),t.update(d,s,u)}this.setMode=o,this.render=a,this.renderInstances=l}function D4(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const S=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(S){if(S==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";S="mediump"}return S==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,u=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),m=n.getParameter(34076),p=n.getParameter(34921),g=n.getParameter(36347),v=n.getParameter(36348),y=n.getParameter(36349),_=f>0,x=o||e.has("OES_texture_float"),w=_&&x,T=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:_,floatFragmentTextures:x,floatVertexTextures:w,maxSamples:T}}function P4(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Eo,a=new si,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f,h){const m=u.length!==0||f||i!==0||r;return r=f,t=d(u,h,0),i=u.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,c()},this.setState=function(u,f,h){const m=u.clippingPlanes,p=u.clipIntersection,g=u.clipShadows,v=n.get(u);if(!r||m===null||m.length===0||s&&!g)s?d(null):c();else{const y=s?0:i,_=y*4;let x=v.clippingState||null;l.value=x,x=d(m,f,_,h);for(let w=0;w!==_;++w)x[w]=t[w];v.clippingState=x,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(u,f,h,m){const p=u!==null?u.length:0;let g=null;if(p!==0){if(g=l.value,m!==!0||g===null){const v=h+p*4,y=f.matrixWorldInverse;a.getNormalMatrix(y),(g===null||g.length<v)&&(g=new Float32Array(v));for(let _=0,x=h;_!==p;++_,x+=4)o.copy(u[_]).applyMatrix4(y,a),o.normal.toArray(g,x),g[x+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}}function L4(n){let e=new WeakMap;function t(o,a){return a===rv?o.mapping=Ol:a===sv&&(o.mapping=kl),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===rv||a===sv)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new WI(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class l_ extends eA{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Qa=4,Z1=[.125,.215,.35,.446,.526,.582],Co=20,_m=new l_,Q1=new Ie;let ym=null;const Ao=(1+Math.sqrt(5))/2,Oa=1/Ao,ew=[new W(1,1,1),new W(-1,1,1),new W(1,1,-1),new W(-1,1,-1),new W(0,Ao,Oa),new W(0,Ao,-Oa),new W(Oa,0,Ao),new W(-Oa,0,Ao),new W(Ao,Oa,0),new W(-Ao,Oa,0)];class cv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){ym=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=nw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ym),e.scissorTest=!1,kf(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ol||e.mapping===kl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ym=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Lt,minFilter:Lt,generateMipmaps:!1,type:Wr,format:Ci,encoding:Zs,depthBuffer:!1},r=tw(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tw(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=R4(s)),this._blurMaterial=O4(s,e,t)}return r}_compileMaterial(e){const t=new Rt(this._lodPlanes[0],e);this._renderer.compile(t,_m)}_sceneToCubeUV(e,t,i,r){const a=new Ln(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,u=d.autoClear,f=d.toneMapping;d.getClearColor(Q1),d.toneMapping=Kr,d.autoClear=!1;const h=new vr({name:"PMREM.Background",side:li,depthWrite:!1,depthTest:!1}),m=new Rt(new Hc,h);let p=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,p=!0):(h.color.copy(Q1),p=!0);for(let v=0;v<6;v++){const y=v%3;y===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):y===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const _=this._cubeSize;kf(r,y*_,v>2?_:0,_,_),d.setRenderTarget(r),p&&d.render(m,a),d.render(e,a)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=f,d.autoClear=u,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ol||e.mapping===kl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=iw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=nw());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Rt(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;kf(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,_m)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=ew[(r-1)%ew.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,u=new Rt(this._lodPlanes[r],c),f=c.uniforms,h=this._sizeLods[i]-1,m=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*Co-1),p=s/m,g=isFinite(s)?1+Math.floor(d*p):Co;g>Co&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Co}`);const v=[];let y=0;for(let S=0;S<Co;++S){const b=S/p,M=Math.exp(-b*b/2);v.push(M),S===0?y+=M:S<g&&(y+=2*M)}for(let S=0;S<v.length;S++)v[S]=v[S]/y;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=v,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:_}=this;f.dTheta.value=m,f.mipInt.value=_-i;const x=this._sizeLods[r],w=3*x*(r>_-Qa?r-_+Qa:0),T=4*(this._cubeSize-x);kf(t,w,T,3*x,2*x),l.setRenderTarget(t),l.render(u,_m)}}function R4(n){const e=[],t=[],i=[];let r=n;const s=n-Qa+1+Z1.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Qa?l=Z1[o-n+Qa-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,u=1+c,f=[d,d,u,d,u,u,d,d,u,u,d,u],h=6,m=6,p=3,g=2,v=1,y=new Float32Array(p*m*h),_=new Float32Array(g*m*h),x=new Float32Array(v*m*h);for(let T=0;T<h;T++){const S=T%3*2/3-1,b=T>2?0:-1,M=[S,b,0,S+2/3,b,0,S+2/3,b+1,0,S,b,0,S+2/3,b+1,0,S,b+1,0];y.set(M,p*m*T),_.set(f,g*m*T);const E=[T,T,T,T,T,T];x.set(E,v*m*T)}const w=new qn;w.setAttribute("position",new it(y,p)),w.setAttribute("uv",new it(_,g)),w.setAttribute("faceIndex",new it(x,v)),e.push(w),r>Qa&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function tw(n,e,t){const i=new ea(n,e,t);return i.texture.mapping=Hh,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function kf(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function O4(n,e,t){const i=new Float32Array(Co),r=new W(0,1,0);return new Sn({name:"SphericalGaussianBlur",defines:{n:Co,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:u_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function nw(){return new Sn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:u_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function iw(){return new Sn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:u_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function u_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function k4(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===rv||l===sv,d=l===Ol||l===kl;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let u=e.get(a);return t===null&&(t=new cv(n)),u=c?t.fromEquirectangular(a,u):t.fromCubemap(a,u),e.set(a,u),u.texture}else{if(e.has(a))return e.get(a).texture;{const u=a.image;if(c&&u&&u.height>0||d&&u&&r(u)){t===null&&(t=new cv(n));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function I4(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function F4(n,e,t,i){const r={},s=new WeakMap;function o(u){const f=u.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);f.removeEventListener("dispose",o),delete r[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(u,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,t.memory.geometries++),f}function l(u){const f=u.attributes;for(const m in f)e.update(f[m],34962);const h=u.morphAttributes;for(const m in h){const p=h[m];for(let g=0,v=p.length;g<v;g++)e.update(p[g],34962)}}function c(u){const f=[],h=u.index,m=u.attributes.position;let p=0;if(h!==null){const y=h.array;p=h.version;for(let _=0,x=y.length;_<x;_+=3){const w=y[_+0],T=y[_+1],S=y[_+2];f.push(w,T,T,S,S,w)}}else{const y=m.array;p=m.version;for(let _=0,x=y.length/3-1;_<x;_+=3){const w=_+0,T=_+1,S=_+2;f.push(w,T,T,S,S,w)}}const g=new(GE(f)?JE:KE)(f,1);g.version=p;const v=s.get(u);v&&e.remove(v),s.set(u,g)}function d(u){const f=s.get(u);if(f){const h=u.index;h!==null&&f.version<h.version&&c(u)}else c(u);return s.get(u)}return{get:a,update:l,getWireframeAttribute:d}}function N4(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function d(f,h){n.drawElements(s,h,a,f*l),t.update(h,s,1)}function u(f,h,m){if(m===0)return;let p,g;if(r)p=n,g="drawElementsInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",p===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,h,a,f*l,m),t.update(h,s,m)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=u}function z4(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function B4(n,e){return n[0]-e[0]}function U4(n,e){return Math.abs(e[1])-Math.abs(n[1])}function j4(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new dt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,u,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,g=p!==void 0?p.length:0;let v=s.get(d);if(v===void 0||v.count!==g){let B=function(){N.dispose(),s.delete(d),d.removeEventListener("dispose",B)};var m=B;v!==void 0&&v.texture.dispose();const x=d.morphAttributes.position!==void 0,w=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,S=d.morphAttributes.position||[],b=d.morphAttributes.normal||[],M=d.morphAttributes.color||[];let E=0;x===!0&&(E=1),w===!0&&(E=2),T===!0&&(E=3);let O=d.attributes.position.count*E,V=1;O>e.maxTextureSize&&(V=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const I=new Float32Array(O*V*4*g),N=new YE(I,O,V,g);N.type=tr,N.needsUpdate=!0;const C=E*4;for(let H=0;H<g;H++){const P=S[H],Y=b[H],X=M[H],$=O*V*4*H;for(let Z=0;Z<P.count;Z++){const re=Z*C;x===!0&&(o.fromBufferAttribute(P,Z),I[$+re+0]=o.x,I[$+re+1]=o.y,I[$+re+2]=o.z,I[$+re+3]=0),w===!0&&(o.fromBufferAttribute(Y,Z),I[$+re+4]=o.x,I[$+re+5]=o.y,I[$+re+6]=o.z,I[$+re+7]=0),T===!0&&(o.fromBufferAttribute(X,Z),I[$+re+8]=o.x,I[$+re+9]=o.y,I[$+re+10]=o.z,I[$+re+11]=X.itemSize===4?o.w:1)}}v={count:g,texture:N,size:new Le(O,V)},s.set(d,v),d.addEventListener("dispose",B)}let y=0;for(let x=0;x<h.length;x++)y+=h[x];const _=d.morphTargetsRelative?1:1-y;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const p=h===void 0?0:h.length;let g=i[d.id];if(g===void 0||g.length!==p){g=[];for(let w=0;w<p;w++)g[w]=[w,0];i[d.id]=g}for(let w=0;w<p;w++){const T=g[w];T[0]=w,T[1]=h[w]}g.sort(U4);for(let w=0;w<8;w++)w<p&&g[w][1]?(a[w][0]=g[w][0],a[w][1]=g[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(B4);const v=d.morphAttributes.position,y=d.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const T=a[w],S=T[0],b=T[1];S!==Number.MAX_SAFE_INTEGER&&b?(v&&d.getAttribute("morphTarget"+w)!==v[S]&&d.setAttribute("morphTarget"+w,v[S]),y&&d.getAttribute("morphNormal"+w)!==y[S]&&d.setAttribute("morphNormal"+w,y[S]),r[w]=b,_+=b):(v&&d.hasAttribute("morphTarget"+w)===!0&&d.deleteAttribute("morphTarget"+w),y&&d.hasAttribute("morphNormal"+w)===!0&&d.deleteAttribute("morphNormal"+w),r[w]=0)}const x=d.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function V4(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,u=e.get(l,d);return r.get(u)!==c&&(e.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),u}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const nA=new rn,iA=new YE,rA=new DI,sA=new o_,rw=[],sw=[],ow=new Float32Array(16),aw=new Float32Array(9),lw=new Float32Array(4);function Hl(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=rw[r];if(s===void 0&&(s=new Float32Array(r),rw[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Wt(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Gt(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Xh(n,e){let t=sw[e];t===void 0&&(t=new Int32Array(e),sw[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function H4(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function W4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wt(t,e))return;n.uniform2fv(this.addr,e),Gt(t,e)}}function G4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Wt(t,e))return;n.uniform3fv(this.addr,e),Gt(t,e)}}function $4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wt(t,e))return;n.uniform4fv(this.addr,e),Gt(t,e)}}function X4(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wt(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Gt(t,e)}else{if(Wt(t,i))return;lw.set(i),n.uniformMatrix2fv(this.addr,!1,lw),Gt(t,i)}}function q4(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wt(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Gt(t,e)}else{if(Wt(t,i))return;aw.set(i),n.uniformMatrix3fv(this.addr,!1,aw),Gt(t,i)}}function Y4(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wt(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Gt(t,e)}else{if(Wt(t,i))return;ow.set(i),n.uniformMatrix4fv(this.addr,!1,ow),Gt(t,i)}}function K4(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function J4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wt(t,e))return;n.uniform2iv(this.addr,e),Gt(t,e)}}function Z4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wt(t,e))return;n.uniform3iv(this.addr,e),Gt(t,e)}}function Q4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wt(t,e))return;n.uniform4iv(this.addr,e),Gt(t,e)}}function ez(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function tz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wt(t,e))return;n.uniform2uiv(this.addr,e),Gt(t,e)}}function nz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wt(t,e))return;n.uniform3uiv(this.addr,e),Gt(t,e)}}function iz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wt(t,e))return;n.uniform4uiv(this.addr,e),Gt(t,e)}}function rz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||nA,r)}function sz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||rA,r)}function oz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||sA,r)}function az(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||iA,r)}function lz(n){switch(n){case 5126:return H4;case 35664:return W4;case 35665:return G4;case 35666:return $4;case 35674:return X4;case 35675:return q4;case 35676:return Y4;case 5124:case 35670:return K4;case 35667:case 35671:return J4;case 35668:case 35672:return Z4;case 35669:case 35673:return Q4;case 5125:return ez;case 36294:return tz;case 36295:return nz;case 36296:return iz;case 35678:case 36198:case 36298:case 36306:case 35682:return rz;case 35679:case 36299:case 36307:return sz;case 35680:case 36300:case 36308:case 36293:return oz;case 36289:case 36303:case 36311:case 36292:return az}}function uz(n,e){n.uniform1fv(this.addr,e)}function cz(n,e){const t=Hl(e,this.size,2);n.uniform2fv(this.addr,t)}function fz(n,e){const t=Hl(e,this.size,3);n.uniform3fv(this.addr,t)}function dz(n,e){const t=Hl(e,this.size,4);n.uniform4fv(this.addr,t)}function hz(n,e){const t=Hl(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function pz(n,e){const t=Hl(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function mz(n,e){const t=Hl(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function gz(n,e){n.uniform1iv(this.addr,e)}function vz(n,e){n.uniform2iv(this.addr,e)}function _z(n,e){n.uniform3iv(this.addr,e)}function yz(n,e){n.uniform4iv(this.addr,e)}function xz(n,e){n.uniform1uiv(this.addr,e)}function wz(n,e){n.uniform2uiv(this.addr,e)}function bz(n,e){n.uniform3uiv(this.addr,e)}function Sz(n,e){n.uniform4uiv(this.addr,e)}function Mz(n,e,t){const i=this.cache,r=e.length,s=Xh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),Gt(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||nA,s[o])}function Tz(n,e,t){const i=this.cache,r=e.length,s=Xh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),Gt(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||rA,s[o])}function Ez(n,e,t){const i=this.cache,r=e.length,s=Xh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),Gt(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||sA,s[o])}function Az(n,e,t){const i=this.cache,r=e.length,s=Xh(t,r);Wt(i,s)||(n.uniform1iv(this.addr,s),Gt(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||iA,s[o])}function Cz(n){switch(n){case 5126:return uz;case 35664:return cz;case 35665:return fz;case 35666:return dz;case 35674:return hz;case 35675:return pz;case 35676:return mz;case 5124:case 35670:return gz;case 35667:case 35671:return vz;case 35668:case 35672:return _z;case 35669:case 35673:return yz;case 5125:return xz;case 36294:return wz;case 36295:return bz;case 36296:return Sz;case 35678:case 36198:case 36298:case 36306:case 35682:return Mz;case 35679:case 36299:case 36307:return Tz;case 35680:case 36300:case 36308:case 36293:return Ez;case 36289:case 36303:case 36311:case 36292:return Az}}class Dz{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=lz(t.type)}}class Pz{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Cz(t.type)}}class Lz{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const xm=/(\w+)(\])?(\[|\.)?/g;function uw(n,e){n.seq.push(e),n.map[e.id]=e}function Rz(n,e,t){const i=n.name,r=i.length;for(xm.lastIndex=0;;){const s=xm.exec(i),o=xm.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){uw(t,c===void 0?new Dz(a,n,e):new Pz(a,n,e));break}else{let u=t.map[a];u===void 0&&(u=new Lz(a),uw(t,u)),t=u}}}class ld{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);Rz(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function cw(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let Oz=0;function kz(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function Iz(n){switch(n){case Zs:return["Linear","( value )"];case nt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function fw(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+kz(n.getShaderSource(e),o)}else return r}function Fz(n,e){const t=Iz(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Nz(n,e){let t;switch(e){case Hk:t="Linear";break;case NE:t="Reinhard";break;case Wk:t="OptimizedCineon";break;case Gk:t="ACESFilmic";break;case $k:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function zz(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ou).join(`
`)}function Bz(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Uz(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Ou(n){return n!==""}function dw(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hw(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const jz=/^[ \t]*#include +<([\w\d./]+)>/gm;function fv(n){return n.replace(jz,Vz)}function Vz(n,e){const t=je[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return fv(t)}const Hz=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pw(n){return n.replace(Hz,Wz)}function Wz(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function mw(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Gz(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===kE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===wk?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ru&&(e="SHADOWMAP_TYPE_VSM"),e}function $z(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ol:case kl:e="ENVMAP_TYPE_CUBE";break;case Hh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Xz(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case kl:e="ENVMAP_MODE_REFRACTION";break}return e}function qz(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case n_:e="ENVMAP_BLENDING_MULTIPLY";break;case jk:e="ENVMAP_BLENDING_MIX";break;case Vk:e="ENVMAP_BLENDING_ADD";break}return e}function Yz(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Kz(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Gz(t),c=$z(t),d=Xz(t),u=qz(t),f=Yz(t),h=t.isWebGL2?"":zz(t),m=Bz(s),p=r.createProgram();let g,v,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=[m].filter(Ou).join(`
`),g.length>0&&(g+=`
`),v=[h,m].filter(Ou).join(`
`),v.length>0&&(v+=`
`)):(g=[mw(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ou).join(`
`),v=[h,mw(t),"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Kr?"#define TONE_MAPPING":"",t.toneMapping!==Kr?je.tonemapping_pars_fragment:"",t.toneMapping!==Kr?Nz("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",je.encodings_pars_fragment,Fz("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ou).join(`
`)),o=fv(o),o=dw(o,t),o=hw(o,t),a=fv(a),a=dw(a,t),a=hw(a,t),o=pw(o),a=pw(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",t.glslVersion===U1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===U1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=y+g+o,x=y+v+a,w=cw(r,35633,_),T=cw(r,35632,x);if(r.attachShader(p,w),r.attachShader(p,T),t.index0AttributeName!==void 0?r.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p),n.debug.checkShaderErrors){const M=r.getProgramInfoLog(p).trim(),E=r.getShaderInfoLog(w).trim(),O=r.getShaderInfoLog(T).trim();let V=!0,I=!0;if(r.getProgramParameter(p,35714)===!1){V=!1;const N=fw(r,w,"vertex"),C=fw(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(p,35715)+`

Program Info Log: `+M+`
`+N+`
`+C)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(E===""||O==="")&&(I=!1);I&&(this.diagnostics={runnable:V,programLog:M,vertexShader:{log:E,prefix:g},fragmentShader:{log:O,prefix:v}})}r.deleteShader(w),r.deleteShader(T);let S;this.getUniforms=function(){return S===void 0&&(S=new ld(r,p)),S};let b;return this.getAttributes=function(){return b===void 0&&(b=Uz(r,p)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.name=t.shaderName,this.id=Oz++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=w,this.fragmentShader=T,this}let Jz=0;class Zz{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Qz(e),t.set(e,i)),i}}class Qz{constructor(e){this.id=Jz++,this.code=e,this.usedTimes=0}}function eB(n,e,t,i,r,s,o){const a=new $h,l=new Zz,c=[],d=r.isWebGL2,u=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(b,M,E,O,V){const I=O.fog,N=V.geometry,C=b.isMeshStandardMaterial?O.environment:null,B=(b.isMeshStandardMaterial?t:e).get(b.envMap||C),H=B&&B.mapping===Hh?B.image.height:null,P=m[b.type];b.precision!==null&&(h=r.getMaxPrecision(b.precision),h!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",h,"instead."));const Y=N.morphAttributes.position||N.morphAttributes.normal||N.morphAttributes.color,X=Y!==void 0?Y.length:0;let $=0;N.morphAttributes.position!==void 0&&($=1),N.morphAttributes.normal!==void 0&&($=2),N.morphAttributes.color!==void 0&&($=3);let Z,re,se,ve;if(P){const he=er[P];Z=he.vertexShader,re=he.fragmentShader}else Z=b.vertexShader,re=b.fragmentShader,l.update(b),se=l.getVertexShaderID(b),ve=l.getFragmentShaderID(b);const te=n.getRenderTarget(),ke=b.alphaTest>0,Te=b.clearcoat>0,Re=b.iridescence>0;return{isWebGL2:d,shaderID:P,shaderName:b.type,vertexShader:Z,fragmentShader:re,defines:b.defines,customVertexShaderID:se,customFragmentShaderID:ve,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:h,instancing:V.isInstancedMesh===!0,instancingColor:V.isInstancedMesh===!0&&V.instanceColor!==null,supportsVertexTextures:f,outputEncoding:te===null?n.outputEncoding:te.isXRRenderTarget===!0?te.texture.encoding:Zs,map:!!b.map,matcap:!!b.matcap,envMap:!!B,envMapMode:B&&B.mapping,envMapCubeUVHeight:H,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===hI,tangentSpaceNormalMap:b.normalMapType===r_,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===nt,clearcoat:Te,clearcoatMap:Te&&!!b.clearcoatMap,clearcoatRoughnessMap:Te&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:Te&&!!b.clearcoatNormalMap,iridescence:Re,iridescenceMap:Re&&!!b.iridescenceMap,iridescenceThicknessMap:Re&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===dl,alphaMap:!!b.alphaMap,alphaTest:ke,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!N.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!N.attributes.color&&N.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(b.map||b.bumpMap||b.normalMap||b.specularMap||b.alphaMap||b.emissiveMap||b.roughnessMap||b.metalnessMap||b.clearcoatNormalMap||b.iridescenceMap||b.iridescenceThicknessMap||b.transmission>0||b.transmissionMap||b.thicknessMap||b.specularIntensityMap||b.specularColorMap||b.sheen>0||b.sheenColorMap||b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!I,useFog:b.fog===!0,fogExp2:I&&I.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:u,skinning:V.isSkinnedMesh===!0,morphTargets:N.morphAttributes.position!==void 0,morphNormals:N.morphAttributes.normal!==void 0,morphColors:N.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:$,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&E.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:Kr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===la,flipSided:b.side===li,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function g(b){const M=[];if(b.shaderID?M.push(b.shaderID):(M.push(b.customVertexShaderID),M.push(b.customFragmentShaderID)),b.defines!==void 0)for(const E in b.defines)M.push(E),M.push(b.defines[E]);return b.isRawShaderMaterial===!1&&(v(M,b),y(M,b),M.push(n.outputEncoding)),M.push(b.customProgramCacheKey),M.join()}function v(b,M){b.push(M.precision),b.push(M.outputEncoding),b.push(M.envMapMode),b.push(M.envMapCubeUVHeight),b.push(M.combine),b.push(M.vertexUvs),b.push(M.fogExp2),b.push(M.sizeAttenuation),b.push(M.morphTargetsCount),b.push(M.morphAttributeCount),b.push(M.numDirLights),b.push(M.numPointLights),b.push(M.numSpotLights),b.push(M.numSpotLightMaps),b.push(M.numHemiLights),b.push(M.numRectAreaLights),b.push(M.numDirLightShadows),b.push(M.numPointLightShadows),b.push(M.numSpotLightShadows),b.push(M.numSpotLightShadowsWithMaps),b.push(M.shadowMapType),b.push(M.toneMapping),b.push(M.numClippingPlanes),b.push(M.numClipIntersection),b.push(M.depthPacking)}function y(b,M){a.disableAll(),M.isWebGL2&&a.enable(0),M.supportsVertexTextures&&a.enable(1),M.instancing&&a.enable(2),M.instancingColor&&a.enable(3),M.map&&a.enable(4),M.matcap&&a.enable(5),M.envMap&&a.enable(6),M.lightMap&&a.enable(7),M.aoMap&&a.enable(8),M.emissiveMap&&a.enable(9),M.bumpMap&&a.enable(10),M.normalMap&&a.enable(11),M.objectSpaceNormalMap&&a.enable(12),M.tangentSpaceNormalMap&&a.enable(13),M.clearcoat&&a.enable(14),M.clearcoatMap&&a.enable(15),M.clearcoatRoughnessMap&&a.enable(16),M.clearcoatNormalMap&&a.enable(17),M.iridescence&&a.enable(18),M.iridescenceMap&&a.enable(19),M.iridescenceThicknessMap&&a.enable(20),M.displacementMap&&a.enable(21),M.specularMap&&a.enable(22),M.roughnessMap&&a.enable(23),M.metalnessMap&&a.enable(24),M.gradientMap&&a.enable(25),M.alphaMap&&a.enable(26),M.alphaTest&&a.enable(27),M.vertexColors&&a.enable(28),M.vertexAlphas&&a.enable(29),M.vertexUvs&&a.enable(30),M.vertexTangents&&a.enable(31),M.uvsVertexOnly&&a.enable(32),b.push(a.mask),a.disableAll(),M.fog&&a.enable(0),M.useFog&&a.enable(1),M.flatShading&&a.enable(2),M.logarithmicDepthBuffer&&a.enable(3),M.skinning&&a.enable(4),M.morphTargets&&a.enable(5),M.morphNormals&&a.enable(6),M.morphColors&&a.enable(7),M.premultipliedAlpha&&a.enable(8),M.shadowMapEnabled&&a.enable(9),M.physicallyCorrectLights&&a.enable(10),M.doubleSided&&a.enable(11),M.flipSided&&a.enable(12),M.useDepthPacking&&a.enable(13),M.dithering&&a.enable(14),M.specularIntensityMap&&a.enable(15),M.specularColorMap&&a.enable(16),M.transmission&&a.enable(17),M.transmissionMap&&a.enable(18),M.thicknessMap&&a.enable(19),M.sheen&&a.enable(20),M.sheenColorMap&&a.enable(21),M.sheenRoughnessMap&&a.enable(22),M.decodeVideoTexture&&a.enable(23),M.opaque&&a.enable(24),b.push(a.mask)}function _(b){const M=m[b.type];let E;if(M){const O=er[M];E=QE.clone(O.uniforms)}else E=b.uniforms;return E}function x(b,M){let E;for(let O=0,V=c.length;O<V;O++){const I=c[O];if(I.cacheKey===M){E=I,++E.usedTimes;break}}return E===void 0&&(E=new Kz(n,M,b,s),c.push(E)),E}function w(b){if(--b.usedTimes===0){const M=c.indexOf(b);c[M]=c[c.length-1],c.pop(),b.destroy()}}function T(b){l.remove(b)}function S(){l.dispose()}return{getParameters:p,getProgramCacheKey:g,getUniforms:_,acquireProgram:x,releaseProgram:w,releaseShaderCache:T,programs:c,dispose:S}}function tB(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function nB(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function gw(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function vw(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(u,f,h,m,p,g){let v=n[e];return v===void 0?(v={id:u.id,object:u,geometry:f,material:h,groupOrder:m,renderOrder:u.renderOrder,z:p,group:g},n[e]=v):(v.id=u.id,v.object=u,v.geometry=f,v.material=h,v.groupOrder=m,v.renderOrder=u.renderOrder,v.z=p,v.group=g),e++,v}function a(u,f,h,m,p,g){const v=o(u,f,h,m,p,g);h.transmission>0?i.push(v):h.transparent===!0?r.push(v):t.push(v)}function l(u,f,h,m,p,g){const v=o(u,f,h,m,p,g);h.transmission>0?i.unshift(v):h.transparent===!0?r.unshift(v):t.unshift(v)}function c(u,f){t.length>1&&t.sort(u||nB),i.length>1&&i.sort(f||gw),r.length>1&&r.sort(f||gw)}function d(){for(let u=e,f=n.length;u<f;u++){const h=n[u];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function iB(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new vw,n.set(i,[o])):r>=s.length?(o=new vw,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function rB(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new W,color:new Ie};break;case"SpotLight":t={position:new W,direction:new W,color:new Ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new W,color:new Ie,distance:0,decay:0};break;case"HemisphereLight":t={direction:new W,skyColor:new Ie,groundColor:new Ie};break;case"RectAreaLight":t={color:new Ie,position:new W,halfWidth:new W,halfHeight:new W};break}return n[e.id]=t,t}}}function sB(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let oB=0;function aB(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function lB(n,e){const t=new rB,i=sB(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new W);const s=new W,o=new $e,a=new $e;function l(d,u){let f=0,h=0,m=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let p=0,g=0,v=0,y=0,_=0,x=0,w=0,T=0,S=0,b=0;d.sort(aB);const M=u!==!0?Math.PI:1;for(let O=0,V=d.length;O<V;O++){const I=d[O],N=I.color,C=I.intensity,B=I.distance,H=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)f+=N.r*C*M,h+=N.g*C*M,m+=N.b*C*M;else if(I.isLightProbe)for(let P=0;P<9;P++)r.probe[P].addScaledVector(I.sh.coefficients[P],C);else if(I.isDirectionalLight){const P=t.get(I);if(P.color.copy(I.color).multiplyScalar(I.intensity*M),I.castShadow){const Y=I.shadow,X=i.get(I);X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,r.directionalShadow[p]=X,r.directionalShadowMap[p]=H,r.directionalShadowMatrix[p]=I.shadow.matrix,x++}r.directional[p]=P,p++}else if(I.isSpotLight){const P=t.get(I);P.position.setFromMatrixPosition(I.matrixWorld),P.color.copy(N).multiplyScalar(C*M),P.distance=B,P.coneCos=Math.cos(I.angle),P.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),P.decay=I.decay,r.spot[v]=P;const Y=I.shadow;if(I.map&&(r.spotLightMap[S]=I.map,S++,Y.updateMatrices(I),I.castShadow&&b++),r.spotLightMatrix[v]=Y.matrix,I.castShadow){const X=i.get(I);X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,r.spotShadow[v]=X,r.spotShadowMap[v]=H,T++}v++}else if(I.isRectAreaLight){const P=t.get(I);P.color.copy(N).multiplyScalar(C),P.halfWidth.set(I.width*.5,0,0),P.halfHeight.set(0,I.height*.5,0),r.rectArea[y]=P,y++}else if(I.isPointLight){const P=t.get(I);if(P.color.copy(I.color).multiplyScalar(I.intensity*M),P.distance=I.distance,P.decay=I.decay,I.castShadow){const Y=I.shadow,X=i.get(I);X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,X.shadowCameraNear=Y.camera.near,X.shadowCameraFar=Y.camera.far,r.pointShadow[g]=X,r.pointShadowMap[g]=H,r.pointShadowMatrix[g]=I.shadow.matrix,w++}r.point[g]=P,g++}else if(I.isHemisphereLight){const P=t.get(I);P.skyColor.copy(I.color).multiplyScalar(C*M),P.groundColor.copy(I.groundColor).multiplyScalar(C*M),r.hemi[_]=P,_++}}y>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Me.LTC_FLOAT_1,r.rectAreaLTC2=Me.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Me.LTC_HALF_1,r.rectAreaLTC2=Me.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=m;const E=r.hash;(E.directionalLength!==p||E.pointLength!==g||E.spotLength!==v||E.rectAreaLength!==y||E.hemiLength!==_||E.numDirectionalShadows!==x||E.numPointShadows!==w||E.numSpotShadows!==T||E.numSpotMaps!==S)&&(r.directional.length=p,r.spot.length=v,r.rectArea.length=y,r.point.length=g,r.hemi.length=_,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=T+S-b,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=b,E.directionalLength=p,E.pointLength=g,E.spotLength=v,E.rectAreaLength=y,E.hemiLength=_,E.numDirectionalShadows=x,E.numPointShadows=w,E.numSpotShadows=T,E.numSpotMaps=S,r.version=oB++)}function c(d,u){let f=0,h=0,m=0,p=0,g=0;const v=u.matrixWorldInverse;for(let y=0,_=d.length;y<_;y++){const x=d[y];if(x.isDirectionalLight){const w=r.directional[f];w.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),f++}else if(x.isSpotLight){const w=r.spot[m];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(x.matrixWorld),s.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),m++}else if(x.isRectAreaLight){const w=r.rectArea[p];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(v),a.identity(),o.copy(x.matrixWorld),o.premultiply(v),a.extractRotation(o),w.halfWidth.set(x.width*.5,0,0),w.halfHeight.set(0,x.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),p++}else if(x.isPointLight){const w=r.point[h];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(v),h++}else if(x.isHemisphereLight){const w=r.hemi[g];w.direction.setFromMatrixPosition(x.matrixWorld),w.direction.transformDirection(v),g++}}}return{setup:l,setupView:c,state:r}}function _w(n,e){const t=new lB(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(u){i.push(u)}function a(u){r.push(u)}function l(u){t.setup(i,u)}function c(u){t.setupView(i,u)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function uB(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new _w(n,e),t.set(s,[l])):o>=a.length?(l=new _w(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class cB extends rr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fI,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fB extends rr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new W,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const dB=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,hB=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function pB(n,e,t){let i=new a_;const r=new Le,s=new Le,o=new dt,a=new cB({depthPacking:dI}),l=new fB,c={},d=t.maxTextureSize,u={0:li,1:Ks,2:la},f=new Sn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:dB,fragmentShader:hB}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const m=new qn;m.setAttribute("position",new it(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Rt(m,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kE,this.render=function(x,w,T){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||x.length===0)return;const S=n.getRenderTarget(),b=n.getActiveCubeFace(),M=n.getActiveMipmapLevel(),E=n.state;E.setBlending(Us),E.buffers.color.setClear(1,1,1,1),E.buffers.depth.setTest(!0),E.setScissorTest(!1);for(let O=0,V=x.length;O<V;O++){const I=x[O],N=I.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const C=N.getFrameExtents();if(r.multiply(C),s.copy(N.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/C.x),r.x=s.x*C.x,N.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/C.y),r.y=s.y*C.y,N.mapSize.y=s.y)),N.map===null){const H=this.type!==Ru?{minFilter:zt,magFilter:zt}:{};N.map=new ea(r.x,r.y,H),N.map.texture.name=I.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const B=N.getViewportCount();for(let H=0;H<B;H++){const P=N.getViewport(H);o.set(s.x*P.x,s.y*P.y,s.x*P.z,s.y*P.w),E.viewport(o),N.updateMatrices(I,H),i=N.getFrustum(),_(w,T,N.camera,I,this.type)}N.isPointLightShadow!==!0&&this.type===Ru&&v(N,T),N.needsUpdate=!1}g.needsUpdate=!1,n.setRenderTarget(S,b,M)};function v(x,w){const T=e.update(p);f.defines.VSM_SAMPLES!==x.blurSamples&&(f.defines.VSM_SAMPLES=x.blurSamples,h.defines.VSM_SAMPLES=x.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new ea(r.x,r.y)),f.uniforms.shadow_pass.value=x.map.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,n.setRenderTarget(x.mapPass),n.clear(),n.renderBufferDirect(w,null,T,f,p,null),h.uniforms.shadow_pass.value=x.mapPass.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,n.setRenderTarget(x.map),n.clear(),n.renderBufferDirect(w,null,T,h,p,null)}function y(x,w,T,S,b,M){let E=null;const O=T.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(O!==void 0)E=O;else if(E=T.isPointLight===!0?l:a,n.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0||w.map&&w.alphaTest>0){const V=E.uuid,I=w.uuid;let N=c[V];N===void 0&&(N={},c[V]=N);let C=N[I];C===void 0&&(C=E.clone(),N[I]=C),E=C}return E.visible=w.visible,E.wireframe=w.wireframe,M===Ru?E.side=w.shadowSide!==null?w.shadowSide:w.side:E.side=w.shadowSide!==null?w.shadowSide:u[w.side],E.alphaMap=w.alphaMap,E.alphaTest=w.alphaTest,E.map=w.map,E.clipShadows=w.clipShadows,E.clippingPlanes=w.clippingPlanes,E.clipIntersection=w.clipIntersection,E.displacementMap=w.displacementMap,E.displacementScale=w.displacementScale,E.displacementBias=w.displacementBias,E.wireframeLinewidth=w.wireframeLinewidth,E.linewidth=w.linewidth,T.isPointLight===!0&&E.isMeshDistanceMaterial===!0&&(E.referencePosition.setFromMatrixPosition(T.matrixWorld),E.nearDistance=S,E.farDistance=b),E}function _(x,w,T,S,b){if(x.visible===!1)return;if(x.layers.test(w.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&b===Ru)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,x.matrixWorld);const O=e.update(x),V=x.material;if(Array.isArray(V)){const I=O.groups;for(let N=0,C=I.length;N<C;N++){const B=I[N],H=V[B.materialIndex];if(H&&H.visible){const P=y(x,H,S,T.near,T.far,b);n.renderBufferDirect(T,null,O,P,x,B)}}}else if(V.visible){const I=y(x,V,S,T.near,T.far,b);n.renderBufferDirect(T,null,O,I,x,null)}}const E=x.children;for(let O=0,V=E.length;O<V;O++)_(E[O],w,T,S,b)}}function mB(n,e,t){const i=t.isWebGL2;function r(){let U=!1;const ne=new dt;let ce=null;const pe=new dt(0,0,0,0);return{setMask:function(Ce){ce!==Ce&&!U&&(n.colorMask(Ce,Ce,Ce,Ce),ce=Ce)},setLocked:function(Ce){U=Ce},setClear:function(Ce,We,pt,Xt,so){so===!0&&(Ce*=Xt,We*=Xt,pt*=Xt),ne.set(Ce,We,pt,Xt),pe.equals(ne)===!1&&(n.clearColor(Ce,We,pt,Xt),pe.copy(ne))},reset:function(){U=!1,ce=null,pe.set(-1,0,0,0)}}}function s(){let U=!1,ne=null,ce=null,pe=null;return{setTest:function(Ce){Ce?ke(2929):Te(2929)},setMask:function(Ce){ne!==Ce&&!U&&(n.depthMask(Ce),ne=Ce)},setFunc:function(Ce){if(ce!==Ce){switch(Ce){case kk:n.depthFunc(512);break;case Ik:n.depthFunc(519);break;case Fk:n.depthFunc(513);break;case iv:n.depthFunc(515);break;case Nk:n.depthFunc(514);break;case zk:n.depthFunc(518);break;case Bk:n.depthFunc(516);break;case Uk:n.depthFunc(517);break;default:n.depthFunc(515)}ce=Ce}},setLocked:function(Ce){U=Ce},setClear:function(Ce){pe!==Ce&&(n.clearDepth(Ce),pe=Ce)},reset:function(){U=!1,ne=null,ce=null,pe=null}}}function o(){let U=!1,ne=null,ce=null,pe=null,Ce=null,We=null,pt=null,Xt=null,so=null;return{setTest:function(_t){U||(_t?ke(2960):Te(2960))},setMask:function(_t){ne!==_t&&!U&&(n.stencilMask(_t),ne=_t)},setFunc:function(_t,Er,_i){(ce!==_t||pe!==Er||Ce!==_i)&&(n.stencilFunc(_t,Er,_i),ce=_t,pe=Er,Ce=_i)},setOp:function(_t,Er,_i){(We!==_t||pt!==Er||Xt!==_i)&&(n.stencilOp(_t,Er,_i),We=_t,pt=Er,Xt=_i)},setLocked:function(_t){U=_t},setClear:function(_t){so!==_t&&(n.clearStencil(_t),so=_t)},reset:function(){U=!1,ne=null,ce=null,pe=null,Ce=null,We=null,pt=null,Xt=null,so=null}}}const a=new r,l=new s,c=new o,d=new WeakMap,u=new WeakMap;let f={},h={},m=new WeakMap,p=[],g=null,v=!1,y=null,_=null,x=null,w=null,T=null,S=null,b=null,M=!1,E=null,O=null,V=null,I=null,N=null;const C=n.getParameter(35661);let B=!1,H=0;const P=n.getParameter(7938);P.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(P)[1]),B=H>=1):P.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(P)[1]),B=H>=2);let Y=null,X={};const $=n.getParameter(3088),Z=n.getParameter(2978),re=new dt().fromArray($),se=new dt().fromArray(Z);function ve(U,ne,ce){const pe=new Uint8Array(4),Ce=n.createTexture();n.bindTexture(U,Ce),n.texParameteri(U,10241,9728),n.texParameteri(U,10240,9728);for(let We=0;We<ce;We++)n.texImage2D(ne+We,0,6408,1,1,0,6408,5121,pe);return Ce}const te={};te[3553]=ve(3553,3553,1),te[34067]=ve(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ke(2929),l.setFunc(iv),Fe(!1),Be(p1),ke(2884),Pe(Us);function ke(U){f[U]!==!0&&(n.enable(U),f[U]=!0)}function Te(U){f[U]!==!1&&(n.disable(U),f[U]=!1)}function Re(U,ne){return h[U]!==ne?(n.bindFramebuffer(U,ne),h[U]=ne,i&&(U===36009&&(h[36160]=ne),U===36160&&(h[36009]=ne)),!0):!1}function Q(U,ne){let ce=p,pe=!1;if(U)if(ce=m.get(ne),ce===void 0&&(ce=[],m.set(ne,ce)),U.isWebGLMultipleRenderTargets){const Ce=U.texture;if(ce.length!==Ce.length||ce[0]!==36064){for(let We=0,pt=Ce.length;We<pt;We++)ce[We]=36064+We;ce.length=Ce.length,pe=!0}}else ce[0]!==36064&&(ce[0]=36064,pe=!0);else ce[0]!==1029&&(ce[0]=1029,pe=!0);pe&&(t.isWebGL2?n.drawBuffers(ce):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ce))}function he(U){return g!==U?(n.useProgram(U),g=U,!0):!1}const Se={[Ia]:32774,[Sk]:32778,[Mk]:32779};if(i)Se[v1]=32775,Se[_1]=32776;else{const U=e.get("EXT_blend_minmax");U!==null&&(Se[v1]=U.MIN_EXT,Se[_1]=U.MAX_EXT)}const ye={[Tk]:0,[Ek]:1,[Ak]:768,[IE]:770,[Ok]:776,[Lk]:774,[Dk]:772,[Ck]:769,[FE]:771,[Rk]:775,[Pk]:773};function Pe(U,ne,ce,pe,Ce,We,pt,Xt){if(U===Us){v===!0&&(Te(3042),v=!1);return}if(v===!1&&(ke(3042),v=!0),U!==bk){if(U!==y||Xt!==M){if((_!==Ia||T!==Ia)&&(n.blendEquation(32774),_=Ia,T=Ia),Xt)switch(U){case dl:n.blendFuncSeparate(1,771,1,771);break;case nv:n.blendFunc(1,1);break;case m1:n.blendFuncSeparate(0,769,0,1);break;case g1:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}else switch(U){case dl:n.blendFuncSeparate(770,771,1,771);break;case nv:n.blendFunc(770,1);break;case m1:n.blendFuncSeparate(0,769,0,1);break;case g1:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",U);break}x=null,w=null,S=null,b=null,y=U,M=Xt}return}Ce=Ce||ne,We=We||ce,pt=pt||pe,(ne!==_||Ce!==T)&&(n.blendEquationSeparate(Se[ne],Se[Ce]),_=ne,T=Ce),(ce!==x||pe!==w||We!==S||pt!==b)&&(n.blendFuncSeparate(ye[ce],ye[pe],ye[We],ye[pt]),x=ce,w=pe,S=We,b=pt),y=U,M=!1}function ze(U,ne){U.side===la?Te(2884):ke(2884);let ce=U.side===li;ne&&(ce=!ce),Fe(ce),U.blending===dl&&U.transparent===!1?Pe(Us):Pe(U.blending,U.blendEquation,U.blendSrc,U.blendDst,U.blendEquationAlpha,U.blendSrcAlpha,U.blendDstAlpha,U.premultipliedAlpha),l.setFunc(U.depthFunc),l.setTest(U.depthTest),l.setMask(U.depthWrite),a.setMask(U.colorWrite);const pe=U.stencilWrite;c.setTest(pe),pe&&(c.setMask(U.stencilWriteMask),c.setFunc(U.stencilFunc,U.stencilRef,U.stencilFuncMask),c.setOp(U.stencilFail,U.stencilZFail,U.stencilZPass)),Oe(U.polygonOffset,U.polygonOffsetFactor,U.polygonOffsetUnits),U.alphaToCoverage===!0?ke(32926):Te(32926)}function Fe(U){E!==U&&(U?n.frontFace(2304):n.frontFace(2305),E=U)}function Be(U){U!==yk?(ke(2884),U!==O&&(U===p1?n.cullFace(1029):U===xk?n.cullFace(1028):n.cullFace(1032))):Te(2884),O=U}function Ne(U){U!==V&&(B&&n.lineWidth(U),V=U)}function Oe(U,ne,ce){U?(ke(32823),(I!==ne||N!==ce)&&(n.polygonOffset(ne,ce),I=ne,N=ce)):Te(32823)}function Ve(U){U?ke(3089):Te(3089)}function xe(U){U===void 0&&(U=33984+C-1),Y!==U&&(n.activeTexture(U),Y=U)}function F(U,ne,ce){ce===void 0&&(Y===null?ce=33984+C-1:ce=Y);let pe=X[ce];pe===void 0&&(pe={type:void 0,texture:void 0},X[ce]=pe),(pe.type!==U||pe.texture!==ne)&&(Y!==ce&&(n.activeTexture(ce),Y=ce),n.bindTexture(U,ne||te[U]),pe.type=U,pe.texture=ne)}function L(){const U=X[Y];U!==void 0&&U.type!==void 0&&(n.bindTexture(U.type,null),U.type=void 0,U.texture=void 0)}function oe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function _e(){try{n.compressedTexImage3D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function we(){try{n.texSubImage2D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function Ae(){try{n.texSubImage3D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function fe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function R(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function G(){try{n.texStorage2D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function ae(){try{n.texStorage3D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function A(){try{n.texImage2D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function z(){try{n.texImage3D.apply(n,arguments)}catch(U){console.error("THREE.WebGLState:",U)}}function J(U){re.equals(U)===!1&&(n.scissor(U.x,U.y,U.z,U.w),re.copy(U))}function K(U){se.equals(U)===!1&&(n.viewport(U.x,U.y,U.z,U.w),se.copy(U))}function ue(U,ne){let ce=u.get(ne);ce===void 0&&(ce=new WeakMap,u.set(ne,ce));let pe=ce.get(U);pe===void 0&&(pe=n.getUniformBlockIndex(ne,U.name),ce.set(U,pe))}function be(U,ne){const pe=u.get(ne).get(U);d.get(ne)!==pe&&(n.uniformBlockBinding(ne,pe,U.__bindingPointIndex),d.set(ne,pe))}function Ee(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},Y=null,X={},h={},m=new WeakMap,p=[],g=null,v=!1,y=null,_=null,x=null,w=null,T=null,S=null,b=null,M=!1,E=null,O=null,V=null,I=null,N=null,re.set(0,0,n.canvas.width,n.canvas.height),se.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ke,disable:Te,bindFramebuffer:Re,drawBuffers:Q,useProgram:he,setBlending:Pe,setMaterial:ze,setFlipSided:Fe,setCullFace:Be,setLineWidth:Ne,setPolygonOffset:Oe,setScissorTest:Ve,activeTexture:xe,bindTexture:F,unbindTexture:L,compressedTexImage2D:oe,compressedTexImage3D:_e,texImage2D:A,texImage3D:z,updateUBOMapping:ue,uniformBlockBinding:be,texStorage2D:G,texStorage3D:ae,texSubImage2D:we,texSubImage3D:Ae,compressedTexSubImage2D:fe,compressedTexSubImage3D:R,scissor:J,viewport:K,reset:Ee}}function gB(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,u=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let p;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(F,L){return v?new OffscreenCanvas(F,L):Tc("canvas")}function _(F,L,oe,_e){let we=1;if((F.width>_e||F.height>_e)&&(we=_e/Math.max(F.width,F.height)),we<1||L===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const Ae=L?Zd:Math.floor,fe=Ae(we*F.width),R=Ae(we*F.height);p===void 0&&(p=y(fe,R));const G=oe?y(fe,R):p;return G.width=fe,G.height=R,G.getContext("2d").drawImage(F,0,0,fe,R),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+fe+"x"+R+")."),G}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function x(F){return uv(F.width)&&uv(F.height)}function w(F){return a?!1:F.wrapS!==Un||F.wrapT!==Un||F.minFilter!==zt&&F.minFilter!==Lt}function T(F,L){return F.generateMipmaps&&L&&F.minFilter!==zt&&F.minFilter!==Lt}function S(F){n.generateMipmap(F)}function b(F,L,oe,_e,we=!1){if(a===!1)return L;if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let Ae=L;return L===6403&&(oe===5126&&(Ae=33326),oe===5131&&(Ae=33325),oe===5121&&(Ae=33321)),L===33319&&(oe===5126&&(Ae=33328),oe===5131&&(Ae=33327),oe===5121&&(Ae=33323)),L===6408&&(oe===5126&&(Ae=34836),oe===5131&&(Ae=34842),oe===5121&&(Ae=_e===nt&&we===!1?35907:32856),oe===32819&&(Ae=32854),oe===32820&&(Ae=32855)),(Ae===33325||Ae===33326||Ae===33327||Ae===33328||Ae===34842||Ae===34836)&&e.get("EXT_color_buffer_float"),Ae}function M(F,L,oe){return T(F,oe)===!0||F.isFramebufferTexture&&F.minFilter!==zt&&F.minFilter!==Lt?Math.log2(Math.max(L.width,L.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?L.mipmaps.length:1}function E(F){return F===zt||F===ov||F===od?9728:9729}function O(F){const L=F.target;L.removeEventListener("dispose",O),I(L),L.isVideoTexture&&m.delete(L)}function V(F){const L=F.target;L.removeEventListener("dispose",V),C(L)}function I(F){const L=i.get(F);if(L.__webglInit===void 0)return;const oe=F.source,_e=g.get(oe);if(_e){const we=_e[L.__cacheKey];we.usedTimes--,we.usedTimes===0&&N(F),Object.keys(_e).length===0&&g.delete(oe)}i.remove(F)}function N(F){const L=i.get(F);n.deleteTexture(L.__webglTexture);const oe=F.source,_e=g.get(oe);delete _e[L.__cacheKey],o.memory.textures--}function C(F){const L=F.texture,oe=i.get(F),_e=i.get(L);if(_e.__webglTexture!==void 0&&(n.deleteTexture(_e.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let we=0;we<6;we++)n.deleteFramebuffer(oe.__webglFramebuffer[we]),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[we]);else{if(n.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let we=0;we<oe.__webglColorRenderbuffer.length;we++)oe.__webglColorRenderbuffer[we]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[we]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let we=0,Ae=L.length;we<Ae;we++){const fe=i.get(L[we]);fe.__webglTexture&&(n.deleteTexture(fe.__webglTexture),o.memory.textures--),i.remove(L[we])}i.remove(L),i.remove(F)}let B=0;function H(){B=0}function P(){const F=B;return F>=l&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+l),B+=1,F}function Y(F){const L=[];return L.push(F.wrapS),L.push(F.wrapT),L.push(F.wrapR||0),L.push(F.magFilter),L.push(F.minFilter),L.push(F.anisotropy),L.push(F.internalFormat),L.push(F.format),L.push(F.type),L.push(F.generateMipmaps),L.push(F.premultiplyAlpha),L.push(F.flipY),L.push(F.unpackAlignment),L.push(F.encoding),L.join()}function X(F,L){const oe=i.get(F);if(F.isVideoTexture&&Ve(F),F.isRenderTargetTexture===!1&&F.version>0&&oe.__version!==F.version){const _e=F.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Te(oe,F,L);return}}t.bindTexture(3553,oe.__webglTexture,33984+L)}function $(F,L){const oe=i.get(F);if(F.version>0&&oe.__version!==F.version){Te(oe,F,L);return}t.bindTexture(35866,oe.__webglTexture,33984+L)}function Z(F,L){const oe=i.get(F);if(F.version>0&&oe.__version!==F.version){Te(oe,F,L);return}t.bindTexture(32879,oe.__webglTexture,33984+L)}function re(F,L){const oe=i.get(F);if(F.version>0&&oe.__version!==F.version){Re(oe,F,L);return}t.bindTexture(34067,oe.__webglTexture,33984+L)}const se={[Sr]:10497,[Un]:33071,[Il]:33648},ve={[zt]:9728,[ov]:9984,[od]:9986,[Lt]:9729,[BE]:9985,[Js]:9987};function te(F,L,oe){if(oe?(n.texParameteri(F,10242,se[L.wrapS]),n.texParameteri(F,10243,se[L.wrapT]),(F===32879||F===35866)&&n.texParameteri(F,32882,se[L.wrapR]),n.texParameteri(F,10240,ve[L.magFilter]),n.texParameteri(F,10241,ve[L.minFilter])):(n.texParameteri(F,10242,33071),n.texParameteri(F,10243,33071),(F===32879||F===35866)&&n.texParameteri(F,32882,33071),(L.wrapS!==Un||L.wrapT!==Un)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(F,10240,E(L.magFilter)),n.texParameteri(F,10241,E(L.minFilter)),L.minFilter!==zt&&L.minFilter!==Lt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const _e=e.get("EXT_texture_filter_anisotropic");if(L.magFilter===zt||L.minFilter!==od&&L.minFilter!==Js||L.type===tr&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===Wr&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||i.get(L).__currentAnisotropy)&&(n.texParameterf(F,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy)}}function ke(F,L){let oe=!1;F.__webglInit===void 0&&(F.__webglInit=!0,L.addEventListener("dispose",O));const _e=L.source;let we=g.get(_e);we===void 0&&(we={},g.set(_e,we));const Ae=Y(L);if(Ae!==F.__cacheKey){we[Ae]===void 0&&(we[Ae]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),we[Ae].usedTimes++;const fe=we[F.__cacheKey];fe!==void 0&&(we[F.__cacheKey].usedTimes--,fe.usedTimes===0&&N(L)),F.__cacheKey=Ae,F.__webglTexture=we[Ae].texture}return oe}function Te(F,L,oe){let _e=3553;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(_e=35866),L.isData3DTexture&&(_e=32879);const we=ke(F,L),Ae=L.source;t.bindTexture(_e,F.__webglTexture,33984+oe);const fe=i.get(Ae);if(Ae.version!==fe.__version||we===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const R=w(L)&&x(L.image)===!1;let G=_(L.image,R,!1,d);G=xe(L,G);const ae=x(G)||a,A=s.convert(L.format,L.encoding);let z=s.convert(L.type),J=b(L.internalFormat,A,z,L.encoding,L.isVideoTexture);te(_e,L,ae);let K;const ue=L.mipmaps,be=a&&L.isVideoTexture!==!0,Ee=fe.__version===void 0||we===!0,U=M(L,G,ae);if(L.isDepthTexture)J=6402,a?L.type===tr?J=36012:L.type===ko?J=33190:L.type===hl?J=35056:J=33189:L.type===tr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===Vo&&J===6402&&L.type!==UE&&L.type!==ko&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=ko,z=s.convert(L.type)),L.format===Fl&&J===6402&&(J=34041,L.type!==hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=hl,z=s.convert(L.type))),Ee&&(be?t.texStorage2D(3553,1,J,G.width,G.height):t.texImage2D(3553,0,J,G.width,G.height,0,A,z,null));else if(L.isDataTexture)if(ue.length>0&&ae){be&&Ee&&t.texStorage2D(3553,U,J,ue[0].width,ue[0].height);for(let ne=0,ce=ue.length;ne<ce;ne++)K=ue[ne],be?t.texSubImage2D(3553,ne,0,0,K.width,K.height,A,z,K.data):t.texImage2D(3553,ne,J,K.width,K.height,0,A,z,K.data);L.generateMipmaps=!1}else be?(Ee&&t.texStorage2D(3553,U,J,G.width,G.height),t.texSubImage2D(3553,0,0,0,G.width,G.height,A,z,G.data)):t.texImage2D(3553,0,J,G.width,G.height,0,A,z,G.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){be&&Ee&&t.texStorage3D(35866,U,J,ue[0].width,ue[0].height,G.depth);for(let ne=0,ce=ue.length;ne<ce;ne++)K=ue[ne],L.format!==Ci?A!==null?be?t.compressedTexSubImage3D(35866,ne,0,0,0,K.width,K.height,G.depth,A,K.data,0,0):t.compressedTexImage3D(35866,ne,J,K.width,K.height,G.depth,0,K.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?t.texSubImage3D(35866,ne,0,0,0,K.width,K.height,G.depth,A,z,K.data):t.texImage3D(35866,ne,J,K.width,K.height,G.depth,0,A,z,K.data)}else{be&&Ee&&t.texStorage2D(3553,U,J,ue[0].width,ue[0].height);for(let ne=0,ce=ue.length;ne<ce;ne++)K=ue[ne],L.format!==Ci?A!==null?be?t.compressedTexSubImage2D(3553,ne,0,0,K.width,K.height,A,K.data):t.compressedTexImage2D(3553,ne,J,K.width,K.height,0,K.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?t.texSubImage2D(3553,ne,0,0,K.width,K.height,A,z,K.data):t.texImage2D(3553,ne,J,K.width,K.height,0,A,z,K.data)}else if(L.isDataArrayTexture)be?(Ee&&t.texStorage3D(35866,U,J,G.width,G.height,G.depth),t.texSubImage3D(35866,0,0,0,0,G.width,G.height,G.depth,A,z,G.data)):t.texImage3D(35866,0,J,G.width,G.height,G.depth,0,A,z,G.data);else if(L.isData3DTexture)be?(Ee&&t.texStorage3D(32879,U,J,G.width,G.height,G.depth),t.texSubImage3D(32879,0,0,0,0,G.width,G.height,G.depth,A,z,G.data)):t.texImage3D(32879,0,J,G.width,G.height,G.depth,0,A,z,G.data);else if(L.isFramebufferTexture){if(Ee)if(be)t.texStorage2D(3553,U,J,G.width,G.height);else{let ne=G.width,ce=G.height;for(let pe=0;pe<U;pe++)t.texImage2D(3553,pe,J,ne,ce,0,A,z,null),ne>>=1,ce>>=1}}else if(ue.length>0&&ae){be&&Ee&&t.texStorage2D(3553,U,J,ue[0].width,ue[0].height);for(let ne=0,ce=ue.length;ne<ce;ne++)K=ue[ne],be?t.texSubImage2D(3553,ne,0,0,A,z,K):t.texImage2D(3553,ne,J,A,z,K);L.generateMipmaps=!1}else be?(Ee&&t.texStorage2D(3553,U,J,G.width,G.height),t.texSubImage2D(3553,0,0,0,A,z,G)):t.texImage2D(3553,0,J,A,z,G);T(L,ae)&&S(_e),fe.__version=Ae.version,L.onUpdate&&L.onUpdate(L)}F.__version=L.version}function Re(F,L,oe){if(L.image.length!==6)return;const _e=ke(F,L),we=L.source;t.bindTexture(34067,F.__webglTexture,33984+oe);const Ae=i.get(we);if(we.version!==Ae.__version||_e===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const fe=L.isCompressedTexture||L.image[0].isCompressedTexture,R=L.image[0]&&L.image[0].isDataTexture,G=[];for(let ne=0;ne<6;ne++)!fe&&!R?G[ne]=_(L.image[ne],!1,!0,c):G[ne]=R?L.image[ne].image:L.image[ne],G[ne]=xe(L,G[ne]);const ae=G[0],A=x(ae)||a,z=s.convert(L.format,L.encoding),J=s.convert(L.type),K=b(L.internalFormat,z,J,L.encoding),ue=a&&L.isVideoTexture!==!0,be=Ae.__version===void 0||_e===!0;let Ee=M(L,ae,A);te(34067,L,A);let U;if(fe){ue&&be&&t.texStorage2D(34067,Ee,K,ae.width,ae.height);for(let ne=0;ne<6;ne++){U=G[ne].mipmaps;for(let ce=0;ce<U.length;ce++){const pe=U[ce];L.format!==Ci?z!==null?ue?t.compressedTexSubImage2D(34069+ne,ce,0,0,pe.width,pe.height,z,pe.data):t.compressedTexImage2D(34069+ne,ce,K,pe.width,pe.height,0,pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ue?t.texSubImage2D(34069+ne,ce,0,0,pe.width,pe.height,z,J,pe.data):t.texImage2D(34069+ne,ce,K,pe.width,pe.height,0,z,J,pe.data)}}}else{U=L.mipmaps,ue&&be&&(U.length>0&&Ee++,t.texStorage2D(34067,Ee,K,G[0].width,G[0].height));for(let ne=0;ne<6;ne++)if(R){ue?t.texSubImage2D(34069+ne,0,0,0,G[ne].width,G[ne].height,z,J,G[ne].data):t.texImage2D(34069+ne,0,K,G[ne].width,G[ne].height,0,z,J,G[ne].data);for(let ce=0;ce<U.length;ce++){const Ce=U[ce].image[ne].image;ue?t.texSubImage2D(34069+ne,ce+1,0,0,Ce.width,Ce.height,z,J,Ce.data):t.texImage2D(34069+ne,ce+1,K,Ce.width,Ce.height,0,z,J,Ce.data)}}else{ue?t.texSubImage2D(34069+ne,0,0,0,z,J,G[ne]):t.texImage2D(34069+ne,0,K,z,J,G[ne]);for(let ce=0;ce<U.length;ce++){const pe=U[ce];ue?t.texSubImage2D(34069+ne,ce+1,0,0,z,J,pe.image[ne]):t.texImage2D(34069+ne,ce+1,K,z,J,pe.image[ne])}}}T(L,A)&&S(34067),Ae.__version=we.version,L.onUpdate&&L.onUpdate(L)}F.__version=L.version}function Q(F,L,oe,_e,we){const Ae=s.convert(oe.format,oe.encoding),fe=s.convert(oe.type),R=b(oe.internalFormat,Ae,fe,oe.encoding);i.get(L).__hasExternalTextures||(we===32879||we===35866?t.texImage3D(we,0,R,L.width,L.height,L.depth,0,Ae,fe,null):t.texImage2D(we,0,R,L.width,L.height,0,Ae,fe,null)),t.bindFramebuffer(36160,F),Oe(L)?f.framebufferTexture2DMultisampleEXT(36160,_e,we,i.get(oe).__webglTexture,0,Ne(L)):(we===3553||we>=34069&&we<=34074)&&n.framebufferTexture2D(36160,_e,we,i.get(oe).__webglTexture,0),t.bindFramebuffer(36160,null)}function he(F,L,oe){if(n.bindRenderbuffer(36161,F),L.depthBuffer&&!L.stencilBuffer){let _e=33189;if(oe||Oe(L)){const we=L.depthTexture;we&&we.isDepthTexture&&(we.type===tr?_e=36012:we.type===ko&&(_e=33190));const Ae=Ne(L);Oe(L)?f.renderbufferStorageMultisampleEXT(36161,Ae,_e,L.width,L.height):n.renderbufferStorageMultisample(36161,Ae,_e,L.width,L.height)}else n.renderbufferStorage(36161,_e,L.width,L.height);n.framebufferRenderbuffer(36160,36096,36161,F)}else if(L.depthBuffer&&L.stencilBuffer){const _e=Ne(L);oe&&Oe(L)===!1?n.renderbufferStorageMultisample(36161,_e,35056,L.width,L.height):Oe(L)?f.renderbufferStorageMultisampleEXT(36161,_e,35056,L.width,L.height):n.renderbufferStorage(36161,34041,L.width,L.height),n.framebufferRenderbuffer(36160,33306,36161,F)}else{const _e=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let we=0;we<_e.length;we++){const Ae=_e[we],fe=s.convert(Ae.format,Ae.encoding),R=s.convert(Ae.type),G=b(Ae.internalFormat,fe,R,Ae.encoding),ae=Ne(L);oe&&Oe(L)===!1?n.renderbufferStorageMultisample(36161,ae,G,L.width,L.height):Oe(L)?f.renderbufferStorageMultisampleEXT(36161,ae,G,L.width,L.height):n.renderbufferStorage(36161,G,L.width,L.height)}}n.bindRenderbuffer(36161,null)}function Se(F,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,F),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),X(L.depthTexture,0);const _e=i.get(L.depthTexture).__webglTexture,we=Ne(L);if(L.depthTexture.format===Vo)Oe(L)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,_e,0,we):n.framebufferTexture2D(36160,36096,3553,_e,0);else if(L.depthTexture.format===Fl)Oe(L)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,_e,0,we):n.framebufferTexture2D(36160,33306,3553,_e,0);else throw new Error("Unknown depthTexture format")}function ye(F){const L=i.get(F),oe=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!L.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");Se(L.__webglFramebuffer,F)}else if(oe){L.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)t.bindFramebuffer(36160,L.__webglFramebuffer[_e]),L.__webglDepthbuffer[_e]=n.createRenderbuffer(),he(L.__webglDepthbuffer[_e],F,!1)}else t.bindFramebuffer(36160,L.__webglFramebuffer),L.__webglDepthbuffer=n.createRenderbuffer(),he(L.__webglDepthbuffer,F,!1);t.bindFramebuffer(36160,null)}function Pe(F,L,oe){const _e=i.get(F);L!==void 0&&Q(_e.__webglFramebuffer,F,F.texture,36064,3553),oe!==void 0&&ye(F)}function ze(F){const L=F.texture,oe=i.get(F),_e=i.get(L);F.addEventListener("dispose",V),F.isWebGLMultipleRenderTargets!==!0&&(_e.__webglTexture===void 0&&(_e.__webglTexture=n.createTexture()),_e.__version=L.version,o.memory.textures++);const we=F.isWebGLCubeRenderTarget===!0,Ae=F.isWebGLMultipleRenderTargets===!0,fe=x(F)||a;if(we){oe.__webglFramebuffer=[];for(let R=0;R<6;R++)oe.__webglFramebuffer[R]=n.createFramebuffer()}else{if(oe.__webglFramebuffer=n.createFramebuffer(),Ae)if(r.drawBuffers){const R=F.texture;for(let G=0,ae=R.length;G<ae;G++){const A=i.get(R[G]);A.__webglTexture===void 0&&(A.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&Oe(F)===!1){const R=Ae?L:[L];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer);for(let G=0;G<R.length;G++){const ae=R[G];oe.__webglColorRenderbuffer[G]=n.createRenderbuffer(),n.bindRenderbuffer(36161,oe.__webglColorRenderbuffer[G]);const A=s.convert(ae.format,ae.encoding),z=s.convert(ae.type),J=b(ae.internalFormat,A,z,ae.encoding,F.isXRRenderTarget===!0),K=Ne(F);n.renderbufferStorageMultisample(36161,K,J,F.width,F.height),n.framebufferRenderbuffer(36160,36064+G,36161,oe.__webglColorRenderbuffer[G])}n.bindRenderbuffer(36161,null),F.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),he(oe.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(36160,null)}}if(we){t.bindTexture(34067,_e.__webglTexture),te(34067,L,fe);for(let R=0;R<6;R++)Q(oe.__webglFramebuffer[R],F,L,36064,34069+R);T(L,fe)&&S(34067),t.unbindTexture()}else if(Ae){const R=F.texture;for(let G=0,ae=R.length;G<ae;G++){const A=R[G],z=i.get(A);t.bindTexture(3553,z.__webglTexture),te(3553,A,fe),Q(oe.__webglFramebuffer,F,A,36064+G,3553),T(A,fe)&&S(3553)}t.unbindTexture()}else{let R=3553;(F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?R=F.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(R,_e.__webglTexture),te(R,L,fe),Q(oe.__webglFramebuffer,F,L,36064,R),T(L,fe)&&S(R),t.unbindTexture()}F.depthBuffer&&ye(F)}function Fe(F){const L=x(F)||a,oe=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let _e=0,we=oe.length;_e<we;_e++){const Ae=oe[_e];if(T(Ae,L)){const fe=F.isWebGLCubeRenderTarget?34067:3553,R=i.get(Ae).__webglTexture;t.bindTexture(fe,R),S(fe),t.unbindTexture()}}}function Be(F){if(a&&F.samples>0&&Oe(F)===!1){const L=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],oe=F.width,_e=F.height;let we=16384;const Ae=[],fe=F.stencilBuffer?33306:36096,R=i.get(F),G=F.isWebGLMultipleRenderTargets===!0;if(G)for(let ae=0;ae<L.length;ae++)t.bindFramebuffer(36160,R.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ae,36161,null),t.bindFramebuffer(36160,R.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ae,3553,null,0);t.bindFramebuffer(36008,R.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,R.__webglFramebuffer);for(let ae=0;ae<L.length;ae++){Ae.push(36064+ae),F.depthBuffer&&Ae.push(fe);const A=R.__ignoreDepthValues!==void 0?R.__ignoreDepthValues:!1;if(A===!1&&(F.depthBuffer&&(we|=256),F.stencilBuffer&&(we|=1024)),G&&n.framebufferRenderbuffer(36008,36064,36161,R.__webglColorRenderbuffer[ae]),A===!0&&(n.invalidateFramebuffer(36008,[fe]),n.invalidateFramebuffer(36009,[fe])),G){const z=i.get(L[ae]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,z,0)}n.blitFramebuffer(0,0,oe,_e,0,0,oe,_e,we,9728),h&&n.invalidateFramebuffer(36008,Ae)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),G)for(let ae=0;ae<L.length;ae++){t.bindFramebuffer(36160,R.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ae,36161,R.__webglColorRenderbuffer[ae]);const A=i.get(L[ae]).__webglTexture;t.bindFramebuffer(36160,R.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ae,3553,A,0)}t.bindFramebuffer(36009,R.__webglMultisampledFramebuffer)}}function Ne(F){return Math.min(u,F.samples)}function Oe(F){const L=i.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function Ve(F){const L=o.render.frame;m.get(F)!==L&&(m.set(F,L),F.update())}function xe(F,L){const oe=F.encoding,_e=F.format,we=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===lv||oe!==Zs&&(oe===nt?a===!1?e.has("EXT_sRGB")===!0&&_e===Ci?(F.format=lv,F.minFilter=Lt,F.generateMipmaps=!1):L=XE.sRGBToLinear(L):(_e!==Ci||we!==Qo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",oe)),L}this.allocateTextureUnit=P,this.resetTextureUnits=H,this.setTexture2D=X,this.setTexture2DArray=$,this.setTexture3D=Z,this.setTextureCube=re,this.rebindTextures=Pe,this.setupRenderTarget=ze,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=Be,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Q,this.useMultisampledRTT=Oe}function vB(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Qo)return 5121;if(s===Kk)return 32819;if(s===Jk)return 32820;if(s===Xk)return 5120;if(s===qk)return 5122;if(s===UE)return 5123;if(s===Yk)return 5124;if(s===ko)return 5125;if(s===tr)return 5126;if(s===Wr)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Zk)return 6406;if(s===Ci)return 6408;if(s===eI)return 6409;if(s===tI)return 6410;if(s===Vo)return 6402;if(s===Fl)return 34041;if(s===Qk)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===lv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===nI)return 6403;if(s===iI)return 36244;if(s===rI)return 33319;if(s===sI)return 33320;if(s===oI)return 36249;if(s===$p||s===Xp||s===qp||s===Yp)if(o===nt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===$p)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Xp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===qp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Yp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===$p)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Xp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===qp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Yp)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===y1||s===x1||s===w1||s===b1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===y1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===x1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===w1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===b1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===aI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===S1||s===M1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===S1)return o===nt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===M1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===T1||s===E1||s===A1||s===C1||s===D1||s===P1||s===L1||s===R1||s===O1||s===k1||s===I1||s===F1||s===N1||s===z1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===T1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===E1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===A1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===C1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===D1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===P1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===L1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===R1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===O1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===k1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===I1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===F1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===N1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===z1)return o===nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===B1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===B1)return o===nt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===hl?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class _B extends Ln{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Cs extends Tt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yB={type:"move"};class wm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Cs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Cs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Cs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const g=t.getJointPose(p,i),v=this._getHandJoint(c,p);g!==null&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=g.radius),v.visible=g!==null}const d=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],f=d.position.distanceTo(u.position),h=.02,m=.005;c.inputState.pinching&&f>h+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yB)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Cs;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class xB extends rn{constructor(e,t,i,r,s,o,a,l,c,d){if(d=d!==void 0?d:Vo,d!==Vo&&d!==Fl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Vo&&(i=ko),i===void 0&&d===Fl&&(i=hl),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:zt,this.minFilter=l!==void 0?l:zt,this.flipY=!1,this.generateMipmaps=!1}}class wB extends ua{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=null,c=null,d=null,u=null,f=null,h=null;const m=t.getContextAttributes();let p=null,g=null;const v=[],y=[],_=new Set,x=new Map,w=new Ln;w.layers.enable(1),w.viewport=new dt;const T=new Ln;T.layers.enable(2),T.viewport=new dt;const S=[w,T],b=new _B;b.layers.enable(1),b.layers.enable(2);let M=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let Z=v[$];return Z===void 0&&(Z=new wm,v[$]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function($){let Z=v[$];return Z===void 0&&(Z=new wm,v[$]=Z),Z.getGripSpace()},this.getHand=function($){let Z=v[$];return Z===void 0&&(Z=new wm,v[$]=Z),Z.getHandSpace()};function O($){const Z=y.indexOf($.inputSource);if(Z===-1)return;const re=v[Z];re!==void 0&&re.dispatchEvent({type:$.type,data:$.inputSource})}function V(){r.removeEventListener("select",O),r.removeEventListener("selectstart",O),r.removeEventListener("selectend",O),r.removeEventListener("squeeze",O),r.removeEventListener("squeezestart",O),r.removeEventListener("squeezeend",O),r.removeEventListener("end",V),r.removeEventListener("inputsourceschange",I);for(let $=0;$<v.length;$++){const Z=y[$];Z!==null&&(y[$]=null,v[$].disconnect(Z))}M=null,E=null,e.setRenderTarget(p),f=null,u=null,d=null,r=null,g=null,X.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){s=$,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){a=$,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function($){l=$},this.getBaseLayer=function(){return u!==null?u:f},this.getBinding=function(){return d},this.getFrame=function(){return h},this.getSession=function(){return r},this.setSession=async function($){if(r=$,r!==null){if(p=e.getRenderTarget(),r.addEventListener("select",O),r.addEventListener("selectstart",O),r.addEventListener("selectend",O),r.addEventListener("squeeze",O),r.addEventListener("squeezestart",O),r.addEventListener("squeezeend",O),r.addEventListener("end",V),r.addEventListener("inputsourceschange",I),m.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:r.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,t,Z),r.updateRenderState({baseLayer:f}),g=new ea(f.framebufferWidth,f.framebufferHeight,{format:Ci,type:Qo,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let Z=null,re=null,se=null;m.depth&&(se=m.stencil?35056:33190,Z=m.stencil?Fl:Vo,re=m.stencil?hl:ko);const ve={colorFormat:32856,depthFormat:se,scaleFactor:s};d=new XRWebGLBinding(r,t),u=d.createProjectionLayer(ve),r.updateRenderState({layers:[u]}),g=new ea(u.textureWidth,u.textureHeight,{format:Ci,type:Qo,depthTexture:new xB(u.textureWidth,u.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const te=e.properties.get(g);te.__ignoreDepthValues=u.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await r.requestReferenceSpace(a),X.setContext(r),X.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function I($){for(let Z=0;Z<$.removed.length;Z++){const re=$.removed[Z],se=y.indexOf(re);se>=0&&(y[se]=null,v[se].disconnect(re))}for(let Z=0;Z<$.added.length;Z++){const re=$.added[Z];let se=y.indexOf(re);if(se===-1){for(let te=0;te<v.length;te++)if(te>=y.length){y.push(re),se=te;break}else if(y[te]===null){y[te]=re,se=te;break}if(se===-1)break}const ve=v[se];ve&&ve.connect(re)}}const N=new W,C=new W;function B($,Z,re){N.setFromMatrixPosition(Z.matrixWorld),C.setFromMatrixPosition(re.matrixWorld);const se=N.distanceTo(C),ve=Z.projectionMatrix.elements,te=re.projectionMatrix.elements,ke=ve[14]/(ve[10]-1),Te=ve[14]/(ve[10]+1),Re=(ve[9]+1)/ve[5],Q=(ve[9]-1)/ve[5],he=(ve[8]-1)/ve[0],Se=(te[8]+1)/te[0],ye=ke*he,Pe=ke*Se,ze=se/(-he+Se),Fe=ze*-he;Z.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(Fe),$.translateZ(ze),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert();const Be=ke+ze,Ne=Te+ze,Oe=ye-Fe,Ve=Pe+(se-Fe),xe=Re*Te/Ne*Be,F=Q*Te/Ne*Be;$.projectionMatrix.makePerspective(Oe,Ve,xe,F,Be,Ne)}function H($,Z){Z===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(Z.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(r===null)return;b.near=T.near=w.near=$.near,b.far=T.far=w.far=$.far,(M!==b.near||E!==b.far)&&(r.updateRenderState({depthNear:b.near,depthFar:b.far}),M=b.near,E=b.far);const Z=$.parent,re=b.cameras;H(b,Z);for(let ve=0;ve<re.length;ve++)H(re[ve],Z);b.matrixWorld.decompose(b.position,b.quaternion,b.scale),$.matrix.copy(b.matrix),$.matrix.decompose($.position,$.quaternion,$.scale);const se=$.children;for(let ve=0,te=se.length;ve<te;ve++)se[ve].updateMatrixWorld(!0);re.length===2?B(b,w,T):b.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return b},this.getFoveation=function(){if(u!==null)return u.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function($){u!==null&&(u.fixedFoveation=$),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=$)},this.getPlanes=function(){return _};let P=null;function Y($,Z){if(c=Z.getViewerPose(l||o),h=Z,c!==null){const re=c.views;f!==null&&(e.setRenderTargetFramebuffer(g,f.framebuffer),e.setRenderTarget(g));let se=!1;re.length!==b.cameras.length&&(b.cameras.length=0,se=!0);for(let ve=0;ve<re.length;ve++){const te=re[ve];let ke=null;if(f!==null)ke=f.getViewport(te);else{const Re=d.getViewSubImage(u,te);ke=Re.viewport,ve===0&&(e.setRenderTargetTextures(g,Re.colorTexture,u.ignoreDepthValues?void 0:Re.depthStencilTexture),e.setRenderTarget(g))}let Te=S[ve];Te===void 0&&(Te=new Ln,Te.layers.enable(ve),Te.viewport=new dt,S[ve]=Te),Te.matrix.fromArray(te.transform.matrix),Te.projectionMatrix.fromArray(te.projectionMatrix),Te.viewport.set(ke.x,ke.y,ke.width,ke.height),ve===0&&b.matrix.copy(Te.matrix),se===!0&&b.cameras.push(Te)}}for(let re=0;re<v.length;re++){const se=y[re],ve=v[re];se!==null&&ve!==void 0&&ve.update(se,Z,l||o)}if(P&&P($,Z),Z.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:Z.detectedPlanes});let re=null;for(const se of _)Z.detectedPlanes.has(se)||(re===null&&(re=[]),re.push(se));if(re!==null)for(const se of re)_.delete(se),x.delete(se),i.dispatchEvent({type:"planeremoved",data:se});for(const se of Z.detectedPlanes)if(!_.has(se))_.add(se),x.set(se,Z.lastChangedTime),i.dispatchEvent({type:"planeadded",data:se});else{const ve=x.get(se);se.lastChangedTime>ve&&(x.set(se,se.lastChangedTime),i.dispatchEvent({type:"planechanged",data:se}))}}h=null}const X=new tA;X.setAnimationLoop(Y),this.setAnimationLoop=function($){P=$},this.dispose=function(){}}}function bB(n,e){function t(p,g){g.color.getRGB(p.fogColor.value,ZE(n)),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function i(p,g,v,y,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?r(p,g):g.isMeshToonMaterial?(r(p,g),d(p,g)):g.isMeshPhongMaterial?(r(p,g),c(p,g)):g.isMeshStandardMaterial?(r(p,g),u(p,g),g.isMeshPhysicalMaterial&&f(p,g,_)):g.isMeshMatcapMaterial?(r(p,g),h(p,g)):g.isMeshDepthMaterial?r(p,g):g.isMeshDistanceMaterial?(r(p,g),m(p,g)):g.isMeshNormalMaterial?r(p,g):g.isLineBasicMaterial?(s(p,g),g.isLineDashedMaterial&&o(p,g)):g.isPointsMaterial?a(p,g,v,y):g.isSpriteMaterial?l(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function r(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===li&&(p.bumpScale.value*=-1)),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===li&&p.normalScale.value.negate()),g.specularMap&&(p.specularMap.value=g.specularMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);const v=e.get(g).envMap;if(v&&(p.envMap.value=v,p.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap){p.lightMap.value=g.lightMap;const x=n.physicallyCorrectLights!==!0?Math.PI:1;p.lightMapIntensity.value=g.lightMapIntensity*x}g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity);let y;g.map?y=g.map:g.specularMap?y=g.specularMap:g.displacementMap?y=g.displacementMap:g.normalMap?y=g.normalMap:g.bumpMap?y=g.bumpMap:g.roughnessMap?y=g.roughnessMap:g.metalnessMap?y=g.metalnessMap:g.alphaMap?y=g.alphaMap:g.emissiveMap?y=g.emissiveMap:g.clearcoatMap?y=g.clearcoatMap:g.clearcoatNormalMap?y=g.clearcoatNormalMap:g.clearcoatRoughnessMap?y=g.clearcoatRoughnessMap:g.iridescenceMap?y=g.iridescenceMap:g.iridescenceThicknessMap?y=g.iridescenceThicknessMap:g.specularIntensityMap?y=g.specularIntensityMap:g.specularColorMap?y=g.specularColorMap:g.transmissionMap?y=g.transmissionMap:g.thicknessMap?y=g.thicknessMap:g.sheenColorMap?y=g.sheenColorMap:g.sheenRoughnessMap&&(y=g.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),p.uvTransform.value.copy(y.matrix));let _;g.aoMap?_=g.aoMap:g.lightMap&&(_=g.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uv2Transform.value.copy(_.matrix))}function s(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity}function o(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function a(p,g,v,y){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*v,p.scale.value=y*.5,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let _;g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix))}function l(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);let v;g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),p.uvTransform.value.copy(v.matrix))}function c(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}function d(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}function u(p,g){p.roughness.value=g.roughness,p.metalness.value=g.metalness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap),e.get(g).envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function f(p,g,v){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),p.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===li&&p.clearcoatNormalScale.value.negate())),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=v.texture,p.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap)}function h(p,g){g.matcap&&(p.matcap.value=g.matcap)}function m(p,g){p.referencePosition.value.copy(g.referencePosition),p.nearDistance.value=g.nearDistance,p.farDistance.value=g.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function SB(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(y,_){const x=_.program;i.uniformBlockBinding(y,x)}function c(y,_){let x=r[y.id];x===void 0&&(m(y),x=d(y),r[y.id]=x,y.addEventListener("dispose",g));const w=_.program;i.updateUBOMapping(y,w);const T=e.render.frame;s[y.id]!==T&&(f(y),s[y.id]=T)}function d(y){const _=u();y.__bindingPointIndex=_;const x=n.createBuffer(),w=y.__size,T=y.usage;return n.bindBuffer(35345,x),n.bufferData(35345,w,T),n.bindBuffer(35345,null),n.bindBufferBase(35345,_,x),x}function u(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const _=r[y.id],x=y.uniforms,w=y.__cache;n.bindBuffer(35345,_);for(let T=0,S=x.length;T<S;T++){const b=x[T];if(h(b,T,w)===!0){const M=b.__offset,E=Array.isArray(b.value)?b.value:[b.value];let O=0;for(let V=0;V<E.length;V++){const I=E[V],N=p(I);typeof I=="number"?(b.__data[0]=I,n.bufferSubData(35345,M+O,b.__data)):I.isMatrix3?(b.__data[0]=I.elements[0],b.__data[1]=I.elements[1],b.__data[2]=I.elements[2],b.__data[3]=I.elements[0],b.__data[4]=I.elements[3],b.__data[5]=I.elements[4],b.__data[6]=I.elements[5],b.__data[7]=I.elements[0],b.__data[8]=I.elements[6],b.__data[9]=I.elements[7],b.__data[10]=I.elements[8],b.__data[11]=I.elements[0]):(I.toArray(b.__data,O),O+=N.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,M,b.__data)}}n.bindBuffer(35345,null)}function h(y,_,x){const w=y.value;if(x[_]===void 0){if(typeof w=="number")x[_]=w;else{const T=Array.isArray(w)?w:[w],S=[];for(let b=0;b<T.length;b++)S.push(T[b].clone());x[_]=S}return!0}else if(typeof w=="number"){if(x[_]!==w)return x[_]=w,!0}else{const T=Array.isArray(x[_])?x[_]:[x[_]],S=Array.isArray(w)?w:[w];for(let b=0;b<T.length;b++){const M=T[b];if(M.equals(S[b])===!1)return M.copy(S[b]),!0}}return!1}function m(y){const _=y.uniforms;let x=0;const w=16;let T=0;for(let S=0,b=_.length;S<b;S++){const M=_[S],E={boundary:0,storage:0},O=Array.isArray(M.value)?M.value:[M.value];for(let V=0,I=O.length;V<I;V++){const N=O[V],C=p(N);E.boundary+=C.boundary,E.storage+=C.storage}if(M.__data=new Float32Array(E.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=x,S>0){T=x%w;const V=w-T;T!==0&&V-E.boundary<0&&(x+=w-T,M.__offset=x)}x+=E.storage}return T=x%w,T>0&&(x+=w-T),y.__size=x,y.__cache={},this}function p(y){const _={boundary:0,storage:0};return typeof y=="number"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function g(y){const _=y.target;_.removeEventListener("dispose",g);const x=o.indexOf(_.__bindingPointIndex);o.splice(x,1),n.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}function v(){for(const y in r)n.deleteBuffer(r[y]);o=[],r={},s={}}return{bind:l,update:c,dispose:v}}function MB(){const n=Tc("canvas");return n.style.display="block",n}function oA(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:MB(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let u=null,f=null;const h=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Zs,this.physicallyCorrectLights=!1,this.toneMapping=Kr,this.toneMappingExposure=1;const p=this;let g=!1,v=0,y=0,_=null,x=-1,w=null;const T=new dt,S=new dt;let b=null,M=e.width,E=e.height,O=1,V=null,I=null;const N=new dt(0,0,M,E),C=new dt(0,0,M,E);let B=!1;const H=new a_;let P=!1,Y=!1,X=null;const $=new $e,Z=new Le,re=new W,se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ve(){return _===null?O:1}let te=t;function ke(k,ie){for(let le=0;le<k.length;le++){const ee=k[le],de=e.getContext(ee,ie);if(de!==null)return de}return null}try{const k={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${t_}`),e.addEventListener("webglcontextlost",J,!1),e.addEventListener("webglcontextrestored",K,!1),e.addEventListener("webglcontextcreationerror",ue,!1),te===null){const ie=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&ie.shift(),te=ke(ie,k),te===null)throw ke(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}te.getShaderPrecisionFormat===void 0&&(te.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let Te,Re,Q,he,Se,ye,Pe,ze,Fe,Be,Ne,Oe,Ve,xe,F,L,oe,_e,we,Ae,fe,R,G,ae;function A(){Te=new I4(te),Re=new D4(te,Te,n),Te.init(Re),R=new vB(te,Te,Re),Q=new mB(te,Te,Re),he=new z4,Se=new tB,ye=new gB(te,Te,Q,Se,Re,R,he),Pe=new L4(p),ze=new k4(p),Fe=new XI(te,Re),G=new A4(te,Te,Fe,Re),Be=new F4(te,Fe,he,G),Ne=new V4(te,Be,Fe,he),we=new j4(te,Re,ye),L=new P4(Se),Oe=new eB(p,Pe,ze,Te,Re,G,L),Ve=new bB(p,Se),xe=new iB,F=new uB(Te,Re),_e=new E4(p,Pe,ze,Q,Ne,d,o),oe=new pB(p,Ne,Re),ae=new SB(te,he,Re,Q),Ae=new C4(te,Te,he,Re),fe=new N4(te,Te,he,Re),he.programs=Oe.programs,p.capabilities=Re,p.extensions=Te,p.properties=Se,p.renderLists=xe,p.shadowMap=oe,p.state=Q,p.info=he}A();const z=new wB(p,te);this.xr=z,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const k=Te.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Te.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(k){k!==void 0&&(O=k,this.setSize(M,E,!1))},this.getSize=function(k){return k.set(M,E)},this.setSize=function(k,ie,le){if(z.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=k,E=ie,e.width=Math.floor(k*O),e.height=Math.floor(ie*O),le!==!1&&(e.style.width=k+"px",e.style.height=ie+"px"),this.setViewport(0,0,k,ie)},this.getDrawingBufferSize=function(k){return k.set(M*O,E*O).floor()},this.setDrawingBufferSize=function(k,ie,le){M=k,E=ie,O=le,e.width=Math.floor(k*le),e.height=Math.floor(ie*le),this.setViewport(0,0,k,ie)},this.getCurrentViewport=function(k){return k.copy(T)},this.getViewport=function(k){return k.copy(N)},this.setViewport=function(k,ie,le,ee){k.isVector4?N.set(k.x,k.y,k.z,k.w):N.set(k,ie,le,ee),Q.viewport(T.copy(N).multiplyScalar(O).floor())},this.getScissor=function(k){return k.copy(C)},this.setScissor=function(k,ie,le,ee){k.isVector4?C.set(k.x,k.y,k.z,k.w):C.set(k,ie,le,ee),Q.scissor(S.copy(C).multiplyScalar(O).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(k){Q.setScissorTest(B=k)},this.setOpaqueSort=function(k){V=k},this.setTransparentSort=function(k){I=k},this.getClearColor=function(k){return k.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor.apply(_e,arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha.apply(_e,arguments)},this.clear=function(k=!0,ie=!0,le=!0){let ee=0;k&&(ee|=16384),ie&&(ee|=256),le&&(ee|=1024),te.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",J,!1),e.removeEventListener("webglcontextrestored",K,!1),e.removeEventListener("webglcontextcreationerror",ue,!1),xe.dispose(),F.dispose(),Se.dispose(),Pe.dispose(),ze.dispose(),Ne.dispose(),G.dispose(),ae.dispose(),Oe.dispose(),z.dispose(),z.removeEventListener("sessionstart",pe),z.removeEventListener("sessionend",Ce),X&&(X.dispose(),X=null),We.stop()};function J(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function K(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const k=he.autoReset,ie=oe.enabled,le=oe.autoUpdate,ee=oe.needsUpdate,de=oe.type;A(),he.autoReset=k,oe.enabled=ie,oe.autoUpdate=le,oe.needsUpdate=ee,oe.type=de}function ue(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function be(k){const ie=k.target;ie.removeEventListener("dispose",be),Ee(ie)}function Ee(k){U(k),Se.remove(k)}function U(k){const ie=Se.get(k).programs;ie!==void 0&&(ie.forEach(function(le){Oe.releaseProgram(le)}),k.isShaderMaterial&&Oe.releaseShaderCache(k))}this.renderBufferDirect=function(k,ie,le,ee,de,Ue){ie===null&&(ie=se);const He=de.isMesh&&de.matrixWorld.determinant()<0,Ge=aC(k,ie,le,ee,de);Q.setMaterial(ee,He);let Xe=le.index,tt=1;ee.wireframe===!0&&(Xe=Be.getWireframeAttribute(le),tt=2);const Ke=le.drawRange,Je=le.attributes.position;let Ot=Ke.start*tt,Yn=(Ke.start+Ke.count)*tt;Ue!==null&&(Ot=Math.max(Ot,Ue.start*tt),Yn=Math.min(Yn,(Ue.start+Ue.count)*tt)),Xe!==null?(Ot=Math.max(Ot,0),Yn=Math.min(Yn,Xe.count)):Je!=null&&(Ot=Math.max(Ot,0),Yn=Math.min(Yn,Je.count));const Ar=Yn-Ot;if(Ar<0||Ar===1/0)return;G.setup(de,ee,Ge,le,Xe);let oo,kt=Ae;if(Xe!==null&&(oo=Fe.get(Xe),kt=fe,kt.setIndex(oo)),de.isMesh)ee.wireframe===!0?(Q.setLineWidth(ee.wireframeLinewidth*ve()),kt.setMode(1)):kt.setMode(4);else if(de.isLine){let Ze=ee.linewidth;Ze===void 0&&(Ze=1),Q.setLineWidth(Ze*ve()),de.isLineSegments?kt.setMode(1):de.isLineLoop?kt.setMode(2):kt.setMode(3)}else de.isPoints?kt.setMode(0):de.isSprite&&kt.setMode(4);if(de.isInstancedMesh)kt.renderInstances(Ot,Ar,de.count);else if(le.isInstancedBufferGeometry){const Ze=le._maxInstanceCount!==void 0?le._maxInstanceCount:1/0,ep=Math.min(le.instanceCount,Ze);kt.renderInstances(Ot,Ar,ep)}else kt.render(Ot,Ar)},this.compile=function(k,ie){function le(ee,de,Ue){ee.transparent===!0&&ee.side===gf?(ee.side=li,ee.needsUpdate=!0,_i(ee,de,Ue),ee.side=Ks,ee.needsUpdate=!0,_i(ee,de,Ue),ee.side=gf):_i(ee,de,Ue)}f=F.get(k),f.init(),m.push(f),k.traverseVisible(function(ee){ee.isLight&&ee.layers.test(ie.layers)&&(f.pushLight(ee),ee.castShadow&&f.pushShadow(ee))}),f.setupLights(p.physicallyCorrectLights),k.traverse(function(ee){const de=ee.material;if(de)if(Array.isArray(de))for(let Ue=0;Ue<de.length;Ue++){const He=de[Ue];le(He,k,ee)}else le(de,k,ee)}),m.pop(),f=null};let ne=null;function ce(k){ne&&ne(k)}function pe(){We.stop()}function Ce(){We.start()}const We=new tA;We.setAnimationLoop(ce),typeof self<"u"&&We.setContext(self),this.setAnimationLoop=function(k){ne=k,z.setAnimationLoop(k),k===null?We.stop():We.start()},z.addEventListener("sessionstart",pe),z.addEventListener("sessionend",Ce),this.render=function(k,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),z.enabled===!0&&z.isPresenting===!0&&(z.cameraAutoUpdate===!0&&z.updateCamera(ie),ie=z.getCamera()),k.isScene===!0&&k.onBeforeRender(p,k,ie,_),f=F.get(k,m.length),f.init(),m.push(f),$.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),H.setFromProjectionMatrix($),Y=this.localClippingEnabled,P=L.init(this.clippingPlanes,Y,ie),u=xe.get(k,h.length),u.init(),h.push(u),pt(k,ie,0,p.sortObjects),u.finish(),p.sortObjects===!0&&u.sort(V,I),P===!0&&L.beginShadows();const le=f.state.shadowsArray;if(oe.render(le,k,ie),P===!0&&L.endShadows(),this.info.autoReset===!0&&this.info.reset(),_e.render(u,k),f.setupLights(p.physicallyCorrectLights),ie.isArrayCamera){const ee=ie.cameras;for(let de=0,Ue=ee.length;de<Ue;de++){const He=ee[de];Xt(u,k,He,He.viewport)}}else Xt(u,k,ie);_!==null&&(ye.updateMultisampleRenderTarget(_),ye.updateRenderTargetMipmap(_)),k.isScene===!0&&k.onAfterRender(p,k,ie),G.resetDefaultState(),x=-1,w=null,m.pop(),m.length>0?f=m[m.length-1]:f=null,h.pop(),h.length>0?u=h[h.length-1]:u=null};function pt(k,ie,le,ee){if(k.visible===!1)return;if(k.layers.test(ie.layers)){if(k.isGroup)le=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(ie);else if(k.isLight)f.pushLight(k),k.castShadow&&f.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||H.intersectsSprite(k)){ee&&re.setFromMatrixPosition(k.matrixWorld).applyMatrix4($);const He=Ne.update(k),Ge=k.material;Ge.visible&&u.push(k,He,Ge,le,re.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(k.isSkinnedMesh&&k.skeleton.frame!==he.render.frame&&(k.skeleton.update(),k.skeleton.frame=he.render.frame),!k.frustumCulled||H.intersectsObject(k))){ee&&re.setFromMatrixPosition(k.matrixWorld).applyMatrix4($);const He=Ne.update(k),Ge=k.material;if(Array.isArray(Ge)){const Xe=He.groups;for(let tt=0,Ke=Xe.length;tt<Ke;tt++){const Je=Xe[tt],Ot=Ge[Je.materialIndex];Ot&&Ot.visible&&u.push(k,He,Ot,le,re.z,Je)}}else Ge.visible&&u.push(k,He,Ge,le,re.z,null)}}const Ue=k.children;for(let He=0,Ge=Ue.length;He<Ge;He++)pt(Ue[He],ie,le,ee)}function Xt(k,ie,le,ee){const de=k.opaque,Ue=k.transmissive,He=k.transparent;f.setupLightsView(le),Ue.length>0&&so(de,ie,le),ee&&Q.viewport(T.copy(ee)),de.length>0&&_t(de,ie,le),Ue.length>0&&_t(Ue,ie,le),He.length>0&&_t(He,ie,le),Q.buffers.depth.setTest(!0),Q.buffers.depth.setMask(!0),Q.buffers.color.setMask(!0),Q.setPolygonOffset(!1)}function so(k,ie,le){const ee=Re.isWebGL2;X===null&&(X=new ea(1,1,{generateMipmaps:!0,type:Te.has("EXT_color_buffer_half_float")?Wr:Qo,minFilter:Js,samples:ee&&s===!0?4:0})),p.getDrawingBufferSize(Z),ee?X.setSize(Z.x,Z.y):X.setSize(Zd(Z.x),Zd(Z.y));const de=p.getRenderTarget();p.setRenderTarget(X),p.clear();const Ue=p.toneMapping;p.toneMapping=Kr,_t(k,ie,le),p.toneMapping=Ue,ye.updateMultisampleRenderTarget(X),ye.updateRenderTargetMipmap(X),p.setRenderTarget(de)}function _t(k,ie,le){const ee=ie.isScene===!0?ie.overrideMaterial:null;for(let de=0,Ue=k.length;de<Ue;de++){const He=k[de],Ge=He.object,Xe=He.geometry,tt=ee===null?He.material:ee,Ke=He.group;Ge.layers.test(le.layers)&&Er(Ge,ie,le,Xe,tt,Ke)}}function Er(k,ie,le,ee,de,Ue){k.onBeforeRender(p,ie,le,ee,de,Ue),k.modelViewMatrix.multiplyMatrices(le.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),de.onBeforeRender(p,ie,le,ee,k,Ue),de.transparent===!0&&de.side===gf?(de.side=li,de.needsUpdate=!0,p.renderBufferDirect(le,ie,ee,de,k,Ue),de.side=Ks,de.needsUpdate=!0,p.renderBufferDirect(le,ie,ee,de,k,Ue),de.side=gf):p.renderBufferDirect(le,ie,ee,de,k,Ue),k.onAfterRender(p,ie,le,ee,de,Ue)}function _i(k,ie,le){ie.isScene!==!0&&(ie=se);const ee=Se.get(k),de=f.state.lights,Ue=f.state.shadowsArray,He=de.state.version,Ge=Oe.getParameters(k,de.state,Ue,ie,le),Xe=Oe.getProgramCacheKey(Ge);let tt=ee.programs;ee.environment=k.isMeshStandardMaterial?ie.environment:null,ee.fog=ie.fog,ee.envMap=(k.isMeshStandardMaterial?ze:Pe).get(k.envMap||ee.environment),tt===void 0&&(k.addEventListener("dispose",be),tt=new Map,ee.programs=tt);let Ke=tt.get(Xe);if(Ke!==void 0){if(ee.currentProgram===Ke&&ee.lightsStateVersion===He)return A_(k,Ge),Ke}else Ge.uniforms=Oe.getUniforms(k),k.onBuild(le,Ge,p),k.onBeforeCompile(Ge,p),Ke=Oe.acquireProgram(Ge,Xe),tt.set(Xe,Ke),ee.uniforms=Ge.uniforms;const Je=ee.uniforms;(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(Je.clippingPlanes=L.uniform),A_(k,Ge),ee.needsLights=uC(k),ee.lightsStateVersion=He,ee.needsLights&&(Je.ambientLightColor.value=de.state.ambient,Je.lightProbe.value=de.state.probe,Je.directionalLights.value=de.state.directional,Je.directionalLightShadows.value=de.state.directionalShadow,Je.spotLights.value=de.state.spot,Je.spotLightShadows.value=de.state.spotShadow,Je.rectAreaLights.value=de.state.rectArea,Je.ltc_1.value=de.state.rectAreaLTC1,Je.ltc_2.value=de.state.rectAreaLTC2,Je.pointLights.value=de.state.point,Je.pointLightShadows.value=de.state.pointShadow,Je.hemisphereLights.value=de.state.hemi,Je.directionalShadowMap.value=de.state.directionalShadowMap,Je.directionalShadowMatrix.value=de.state.directionalShadowMatrix,Je.spotShadowMap.value=de.state.spotShadowMap,Je.spotLightMatrix.value=de.state.spotLightMatrix,Je.spotLightMap.value=de.state.spotLightMap,Je.pointShadowMap.value=de.state.pointShadowMap,Je.pointShadowMatrix.value=de.state.pointShadowMatrix);const Ot=Ke.getUniforms(),Yn=ld.seqWithValue(Ot.seq,Je);return ee.currentProgram=Ke,ee.uniformsList=Yn,Ke}function A_(k,ie){const le=Se.get(k);le.outputEncoding=ie.outputEncoding,le.instancing=ie.instancing,le.skinning=ie.skinning,le.morphTargets=ie.morphTargets,le.morphNormals=ie.morphNormals,le.morphColors=ie.morphColors,le.morphTargetsCount=ie.morphTargetsCount,le.numClippingPlanes=ie.numClippingPlanes,le.numIntersection=ie.numClipIntersection,le.vertexAlphas=ie.vertexAlphas,le.vertexTangents=ie.vertexTangents,le.toneMapping=ie.toneMapping}function aC(k,ie,le,ee,de){ie.isScene!==!0&&(ie=se),ye.resetTextureUnits();const Ue=ie.fog,He=ee.isMeshStandardMaterial?ie.environment:null,Ge=_===null?p.outputEncoding:_.isXRRenderTarget===!0?_.texture.encoding:Zs,Xe=(ee.isMeshStandardMaterial?ze:Pe).get(ee.envMap||He),tt=ee.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,Ke=!!ee.normalMap&&!!le.attributes.tangent,Je=!!le.morphAttributes.position,Ot=!!le.morphAttributes.normal,Yn=!!le.morphAttributes.color,Ar=ee.toneMapped?p.toneMapping:Kr,oo=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,kt=oo!==void 0?oo.length:0,Ze=Se.get(ee),ep=f.state.lights;if(P===!0&&(Y===!0||k!==w)){const Kn=k===w&&ee.id===x;L.setState(ee,k,Kn)}let qt=!1;ee.version===Ze.__version?(Ze.needsLights&&Ze.lightsStateVersion!==ep.state.version||Ze.outputEncoding!==Ge||de.isInstancedMesh&&Ze.instancing===!1||!de.isInstancedMesh&&Ze.instancing===!0||de.isSkinnedMesh&&Ze.skinning===!1||!de.isSkinnedMesh&&Ze.skinning===!0||Ze.envMap!==Xe||ee.fog===!0&&Ze.fog!==Ue||Ze.numClippingPlanes!==void 0&&(Ze.numClippingPlanes!==L.numPlanes||Ze.numIntersection!==L.numIntersection)||Ze.vertexAlphas!==tt||Ze.vertexTangents!==Ke||Ze.morphTargets!==Je||Ze.morphNormals!==Ot||Ze.morphColors!==Yn||Ze.toneMapping!==Ar||Re.isWebGL2===!0&&Ze.morphTargetsCount!==kt)&&(qt=!0):(qt=!0,Ze.__version=ee.version);let ao=Ze.currentProgram;qt===!0&&(ao=_i(ee,ie,de));let C_=!1,Kl=!1,tp=!1;const Tn=ao.getUniforms(),lo=Ze.uniforms;if(Q.useProgram(ao.program)&&(C_=!0,Kl=!0,tp=!0),ee.id!==x&&(x=ee.id,Kl=!0),C_||w!==k){if(Tn.setValue(te,"projectionMatrix",k.projectionMatrix),Re.logarithmicDepthBuffer&&Tn.setValue(te,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),w!==k&&(w=k,Kl=!0,tp=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const Kn=Tn.map.cameraPosition;Kn!==void 0&&Kn.setValue(te,re.setFromMatrixPosition(k.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&Tn.setValue(te,"isOrthographic",k.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||de.isSkinnedMesh)&&Tn.setValue(te,"viewMatrix",k.matrixWorldInverse)}if(de.isSkinnedMesh){Tn.setOptional(te,de,"bindMatrix"),Tn.setOptional(te,de,"bindMatrixInverse");const Kn=de.skeleton;Kn&&(Re.floatVertexTextures?(Kn.boneTexture===null&&Kn.computeBoneTexture(),Tn.setValue(te,"boneTexture",Kn.boneTexture,ye),Tn.setValue(te,"boneTextureSize",Kn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const np=le.morphAttributes;if((np.position!==void 0||np.normal!==void 0||np.color!==void 0&&Re.isWebGL2===!0)&&we.update(de,le,ee,ao),(Kl||Ze.receiveShadow!==de.receiveShadow)&&(Ze.receiveShadow=de.receiveShadow,Tn.setValue(te,"receiveShadow",de.receiveShadow)),ee.isMeshGouraudMaterial&&ee.envMap!==null&&(lo.envMap.value=Xe,lo.flipEnvMap.value=Xe.isCubeTexture&&Xe.isRenderTargetTexture===!1?-1:1),Kl&&(Tn.setValue(te,"toneMappingExposure",p.toneMappingExposure),Ze.needsLights&&lC(lo,tp),Ue&&ee.fog===!0&&Ve.refreshFogUniforms(lo,Ue),Ve.refreshMaterialUniforms(lo,ee,O,E,X),ld.upload(te,Ze.uniformsList,lo,ye)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(ld.upload(te,Ze.uniformsList,lo,ye),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&Tn.setValue(te,"center",de.center),Tn.setValue(te,"modelViewMatrix",de.modelViewMatrix),Tn.setValue(te,"normalMatrix",de.normalMatrix),Tn.setValue(te,"modelMatrix",de.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const Kn=ee.uniformsGroups;for(let ip=0,cC=Kn.length;ip<cC;ip++)if(Re.isWebGL2){const D_=Kn[ip];ae.update(D_,ao),ae.bind(D_,ao)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ao}function lC(k,ie){k.ambientLightColor.needsUpdate=ie,k.lightProbe.needsUpdate=ie,k.directionalLights.needsUpdate=ie,k.directionalLightShadows.needsUpdate=ie,k.pointLights.needsUpdate=ie,k.pointLightShadows.needsUpdate=ie,k.spotLights.needsUpdate=ie,k.spotLightShadows.needsUpdate=ie,k.rectAreaLights.needsUpdate=ie,k.hemisphereLights.needsUpdate=ie}function uC(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(k,ie,le){Se.get(k.texture).__webglTexture=ie,Se.get(k.depthTexture).__webglTexture=le;const ee=Se.get(k);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=le===void 0,ee.__autoAllocateDepthBuffer||Te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,ie){const le=Se.get(k);le.__webglFramebuffer=ie,le.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(k,ie=0,le=0){_=k,v=ie,y=le;let ee=!0,de=null,Ue=!1,He=!1;if(k){const Xe=Se.get(k);Xe.__useDefaultFramebuffer!==void 0?(Q.bindFramebuffer(36160,null),ee=!1):Xe.__webglFramebuffer===void 0?ye.setupRenderTarget(k):Xe.__hasExternalTextures&&ye.rebindTextures(k,Se.get(k.texture).__webglTexture,Se.get(k.depthTexture).__webglTexture);const tt=k.texture;(tt.isData3DTexture||tt.isDataArrayTexture||tt.isCompressedArrayTexture)&&(He=!0);const Ke=Se.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(de=Ke[ie],Ue=!0):Re.isWebGL2&&k.samples>0&&ye.useMultisampledRTT(k)===!1?de=Se.get(k).__webglMultisampledFramebuffer:de=Ke,T.copy(k.viewport),S.copy(k.scissor),b=k.scissorTest}else T.copy(N).multiplyScalar(O).floor(),S.copy(C).multiplyScalar(O).floor(),b=B;if(Q.bindFramebuffer(36160,de)&&Re.drawBuffers&&ee&&Q.drawBuffers(k,de),Q.viewport(T),Q.scissor(S),Q.setScissorTest(b),Ue){const Xe=Se.get(k.texture);te.framebufferTexture2D(36160,36064,34069+ie,Xe.__webglTexture,le)}else if(He){const Xe=Se.get(k.texture),tt=ie||0;te.framebufferTextureLayer(36160,36064,Xe.__webglTexture,le||0,tt)}x=-1},this.readRenderTargetPixels=function(k,ie,le,ee,de,Ue,He){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ge=Se.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&He!==void 0&&(Ge=Ge[He]),Ge){Q.bindFramebuffer(36160,Ge);try{const Xe=k.texture,tt=Xe.format,Ke=Xe.type;if(tt!==Ci&&R.convert(tt)!==te.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Je=Ke===Wr&&(Te.has("EXT_color_buffer_half_float")||Re.isWebGL2&&Te.has("EXT_color_buffer_float"));if(Ke!==Qo&&R.convert(Ke)!==te.getParameter(35738)&&!(Ke===tr&&(Re.isWebGL2||Te.has("OES_texture_float")||Te.has("WEBGL_color_buffer_float")))&&!Je){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=k.width-ee&&le>=0&&le<=k.height-de&&te.readPixels(ie,le,ee,de,R.convert(tt),R.convert(Ke),Ue)}finally{const Xe=_!==null?Se.get(_).__webglFramebuffer:null;Q.bindFramebuffer(36160,Xe)}}},this.copyFramebufferToTexture=function(k,ie,le=0){const ee=Math.pow(2,-le),de=Math.floor(ie.image.width*ee),Ue=Math.floor(ie.image.height*ee);ye.setTexture2D(ie,0),te.copyTexSubImage2D(3553,le,0,0,k.x,k.y,de,Ue),Q.unbindTexture()},this.copyTextureToTexture=function(k,ie,le,ee=0){const de=ie.image.width,Ue=ie.image.height,He=R.convert(le.format),Ge=R.convert(le.type);ye.setTexture2D(le,0),te.pixelStorei(37440,le.flipY),te.pixelStorei(37441,le.premultiplyAlpha),te.pixelStorei(3317,le.unpackAlignment),ie.isDataTexture?te.texSubImage2D(3553,ee,k.x,k.y,de,Ue,He,Ge,ie.image.data):ie.isCompressedTexture?te.compressedTexSubImage2D(3553,ee,k.x,k.y,ie.mipmaps[0].width,ie.mipmaps[0].height,He,ie.mipmaps[0].data):te.texSubImage2D(3553,ee,k.x,k.y,He,Ge,ie.image),ee===0&&le.generateMipmaps&&te.generateMipmap(3553),Q.unbindTexture()},this.copyTextureToTexture3D=function(k,ie,le,ee,de=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ue=k.max.x-k.min.x+1,He=k.max.y-k.min.y+1,Ge=k.max.z-k.min.z+1,Xe=R.convert(ee.format),tt=R.convert(ee.type);let Ke;if(ee.isData3DTexture)ye.setTexture3D(ee,0),Ke=32879;else if(ee.isDataArrayTexture)ye.setTexture2DArray(ee,0),Ke=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}te.pixelStorei(37440,ee.flipY),te.pixelStorei(37441,ee.premultiplyAlpha),te.pixelStorei(3317,ee.unpackAlignment);const Je=te.getParameter(3314),Ot=te.getParameter(32878),Yn=te.getParameter(3316),Ar=te.getParameter(3315),oo=te.getParameter(32877),kt=le.isCompressedTexture?le.mipmaps[0]:le.image;te.pixelStorei(3314,kt.width),te.pixelStorei(32878,kt.height),te.pixelStorei(3316,k.min.x),te.pixelStorei(3315,k.min.y),te.pixelStorei(32877,k.min.z),le.isDataTexture||le.isData3DTexture?te.texSubImage3D(Ke,de,ie.x,ie.y,ie.z,Ue,He,Ge,Xe,tt,kt.data):le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),te.compressedTexSubImage3D(Ke,de,ie.x,ie.y,ie.z,Ue,He,Ge,Xe,kt.data)):te.texSubImage3D(Ke,de,ie.x,ie.y,ie.z,Ue,He,Ge,Xe,tt,kt),te.pixelStorei(3314,Je),te.pixelStorei(32878,Ot),te.pixelStorei(3316,Yn),te.pixelStorei(3315,Ar),te.pixelStorei(32877,oo),de===0&&ee.generateMipmaps&&te.generateMipmap(Ke),Q.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?ye.setTextureCube(k,0):k.isData3DTexture?ye.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?ye.setTexture2DArray(k,0):ye.setTexture2D(k,0),Q.unbindTexture()},this.resetState=function(){v=0,y=0,_=null,Q.reset(),G.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class TB extends oA{}TB.prototype.isWebGL1Renderer=!0;class EB extends Tt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class AB{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=av,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ii()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ii()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ii()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const An=new W;class c_{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyMatrix4(e),this.setXYZ(t,An.x,An.y,An.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyNormalMatrix(e),this.setXYZ(t,An.x,An.y,An.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.transformDirection(e),this.setXYZ(t,An.x,An.y,An.z);return this}setX(e,t){return this.normalized&&(t=ct(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ct(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ct(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ct(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Gr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Gr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Gr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Gr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array),r=ct(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array),r=ct(r,this.array),s=ct(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new it(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new c_(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const yw=new W,xw=new dt,ww=new dt,CB=new W,bw=new $e;class aA extends Rt{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new $e,this.bindMatrixInverse=new $e}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;xw.fromBufferAttribute(r.attributes.skinIndex,e),ww.fromBufferAttribute(r.attributes.skinWeight,e),yw.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=ww.getComponent(s);if(o!==0){const a=xw.getComponent(s);bw.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(CB.copy(yw).applyMatrix4(bw),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class lA extends Tt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class uA extends rn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=zt,d=zt,u,f){super(null,o,a,l,c,d,r,s,u,f),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Sw=new $e,DB=new $e;class f_{constructor(e=[],t=[]){this.uuid=Ii(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new $e)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new $e;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:DB;Sw.multiplyMatrices(a,t[s]),Sw.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new f_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=WE(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new uA(t,e,e,Ci,tr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new lA),this.bones.push(o),this.boneInverses.push(new $e().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Mw extends it{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Tw=new $e,Ew=new $e,If=[],PB=new $e,vu=new Rt;class LB extends Rt{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Mw(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,PB)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(vu.geometry=this.geometry,vu.material=this.material,vu.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,Tw),Ew.multiplyMatrices(i,Tw),vu.matrixWorld=Ew,vu.raycast(e,If);for(let o=0,a=If.length;o<a;o++){const l=If[o];l.instanceId=s,l.object=this,t.push(l)}If.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Mw(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class cA extends rr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ie(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Aw=new W,Cw=new W,Dw=new $e,bm=new Gh,Ff=new fa;class d_ extends Tt{constructor(e=new qn,t=new cA){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)Aw.fromBufferAttribute(t,r-1),Cw.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Aw.distanceTo(Cw);e.setAttribute("lineDistance",new Fi(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ff.copy(i.boundingSphere),Ff.applyMatrix4(r),Ff.radius+=s,e.ray.intersectsSphere(Ff)===!1)return;Dw.copy(r).invert(),bm.copy(e.ray).applyMatrix4(Dw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new W,d=new W,u=new W,f=new W,h=this.isLineSegments?2:1,m=i.index,g=i.attributes.position;if(m!==null){const v=Math.max(0,o.start),y=Math.min(m.count,o.start+o.count);for(let _=v,x=y-1;_<x;_+=h){const w=m.getX(_),T=m.getX(_+1);if(c.fromBufferAttribute(g,w),d.fromBufferAttribute(g,T),bm.distanceSqToSegment(c,d,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:u.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),y=Math.min(g.count,o.start+o.count);for(let _=v,x=y-1;_<x;_+=h){if(c.fromBufferAttribute(g,_),d.fromBufferAttribute(g,_+1),bm.distanceSqToSegment(c,d,f,u)>l)continue;f.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(f);T<e.near||T>e.far||t.push({distance:T,point:u.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Pw=new W,Lw=new W;class RB extends d_{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Pw.fromBufferAttribute(t,r),Lw.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Pw.distanceTo(Lw);e.setAttribute("lineDistance",new Fi(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class OB extends d_{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class fA extends rr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Rw=new $e,dv=new Gh,Nf=new fa,zf=new W;class dA extends Tt{constructor(e=new qn,t=new fA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Nf.copy(i.boundingSphere),Nf.applyMatrix4(r),Nf.radius+=s,e.ray.intersectsSphere(Nf)===!1)return;Rw.copy(r).invert(),dv.copy(e.ray).applyMatrix4(Rw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,u=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),h=Math.min(c.count,o.start+o.count);for(let m=f,p=h;m<p;m++){const g=c.getX(m);zf.fromBufferAttribute(u,g),Ow(zf,g,l,r,e,t,this)}}else{const f=Math.max(0,o.start),h=Math.min(u.count,o.start+o.count);for(let m=f,p=h;m<p;m++)zf.fromBufferAttribute(u,m),Ow(zf,m,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Ow(n,e,t,i,r,s,o){const a=dv.distanceSqToPoint(n);if(a<t){const l=new W;dv.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class kB extends rn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Lt,this.magFilter=s!==void 0?s:Lt,this.generateMipmaps=!1;const d=this;function u(){d.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Mr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],f=i[r+1]-d,h=(o-d)/f;return(r+h)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Le:new W);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new W,r=[],s=[],o=[],a=new W,l=new $e;for(let h=0;h<=e;h++){const m=h/e;r[h]=this.getTangentAt(m,new W)}s[0]=new W,o[0]=new W;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),u=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),u<=c&&(c=u,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Qt(r[h-1].dot(r[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(a,m))}o[h].crossVectors(r[h],s[h])}if(t===!0){let h=Math.acos(Qt(s[0].dot(s[e]),-1,1));h/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(h=-h);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(r[m],h*m)),o[m].crossVectors(r[m],s[m])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class h_ extends Mr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Le,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*d-h*u+this.aX,c=f*u+h*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class IB extends h_{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function p_(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,u){let f=(o-s)/c-(a-s)/(c+d)+(a-o)/d,h=(a-o)/d-(l-o)/(d+u)+(l-a)/u;f*=d,h*=d,r(o,a,f,h)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Bf=new W,Sm=new p_,Mm=new p_,Tm=new p_;class hA extends Mr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new W){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(Bf.subVectors(r[0],r[1]).add(r[0]),c=Bf);const u=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(Bf.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=Bf),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(u),h),p=Math.pow(u.distanceToSquared(f),h),g=Math.pow(f.distanceToSquared(d),h);p<1e-4&&(p=1),m<1e-4&&(m=p),g<1e-4&&(g=p),Sm.initNonuniformCatmullRom(c.x,u.x,f.x,d.x,m,p,g),Mm.initNonuniformCatmullRom(c.y,u.y,f.y,d.y,m,p,g),Tm.initNonuniformCatmullRom(c.z,u.z,f.z,d.z,m,p,g)}else this.curveType==="catmullrom"&&(Sm.initCatmullRom(c.x,u.x,f.x,d.x,this.tension),Mm.initCatmullRom(c.y,u.y,f.y,d.y,this.tension),Tm.initCatmullRom(c.z,u.z,f.z,d.z,this.tension));return i.set(Sm.calc(l),Mm.calc(l),Tm.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new W().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function kw(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function FB(n,e){const t=1-n;return t*t*e}function NB(n,e){return 2*(1-n)*n*e}function zB(n,e){return n*n*e}function qu(n,e,t,i){return FB(n,e)+NB(n,t)+zB(n,i)}function BB(n,e){const t=1-n;return t*t*t*e}function UB(n,e){const t=1-n;return 3*t*t*n*e}function jB(n,e){return 3*(1-n)*n*n*e}function VB(n,e){return n*n*n*e}function Yu(n,e,t,i,r){return BB(n,e)+UB(n,t)+jB(n,i)+VB(n,r)}class pA extends Mr{constructor(e=new Le,t=new Le,i=new Le,r=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Le){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Yu(e,r.x,s.x,o.x,a.x),Yu(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class HB extends Mr{constructor(e=new W,t=new W,i=new W,r=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new W){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Yu(e,r.x,s.x,o.x,a.x),Yu(e,r.y,s.y,o.y,a.y),Yu(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class m_ extends Mr{constructor(e=new Le,t=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Le){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new Le;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WB extends Mr{constructor(e=new W,t=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new W){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mA extends Mr{constructor(e=new Le,t=new Le,i=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Le){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(qu(e,r.x,s.x,o.x),qu(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gA extends Mr{constructor(e=new W,t=new W,i=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new W){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(qu(e,r.x,s.x,o.x),qu(e,r.y,s.y,o.y),qu(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vA extends Mr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Le){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return i.set(kw(a,l.x,c.x,d.x,u.x),kw(a,l.y,c.y,d.y,u.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Le().fromArray(r))}return this}}var _A=Object.freeze({__proto__:null,ArcCurve:IB,CatmullRomCurve3:hA,CubicBezierCurve:pA,CubicBezierCurve3:HB,EllipseCurve:h_,LineCurve:m_,LineCurve3:WB,QuadraticBezierCurve:mA,QuadraticBezierCurve3:gA,SplineCurve:vA});class GB extends Mr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new m_(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new _A[r.type]().fromJSON(r))}return this}}class hv extends GB{constructor(e){super(),this.type="Path",this.currentPoint=new Le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new m_(this.currentPoint.clone(),new Le(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new mA(this.currentPoint.clone(),new Le(e,t),new Le(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new pA(this.currentPoint.clone(),new Le(e,t),new Le(i,r),new Le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new vA(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new h_(e,t,i,r,s,o,a,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Em extends hv{constructor(e){super(e),this.uuid=Ii(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new hv().fromJSON(r))}return this}}const $B={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=yA(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,u,f,h;if(i&&(s=JB(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let m=t;m<r;m+=t)u=n[m],f=n[m+1],u<a&&(a=u),f<l&&(l=f),u>c&&(c=u),f>d&&(d=f);h=Math.max(c-a,d-l),h=h!==0?32767/h:0}return Ec(s,o,t,a,l,h,0),o}};function yA(n,e,t,i,r){let s,o;if(r===lU(n,e,t,i)>0)for(s=e;s<t;s+=i)o=Iw(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=Iw(s,n[s],n[s+1],o);return o&&qh(o,o.next)&&(Cc(o),o=o.next),o}function ta(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(qh(t,t.next)||St(t.prev,t,t.next)===0)){if(Cc(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Ec(n,e,t,i,r,s,o){if(!n)return;!o&&s&&nU(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?qB(n,i,r,s):XB(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Cc(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=YB(ta(n),e,t),Ec(n,e,t,i,r,s,2)):o===2&&KB(n,e,t,i,r,s):Ec(ta(n),e,t,i,r,s,1);break}}}function XB(n){const e=n.prev,t=n,i=n.next;if(St(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,u=a<l?a<c?a:c:l<c?l:c,f=r>s?r>o?r:o:s>o?s:o,h=a>l?a>c?a:c:l>c?l:c;let m=i.next;for(;m!==e;){if(m.x>=d&&m.x<=f&&m.y>=u&&m.y<=h&&el(r,a,s,l,o,c,m.x,m.y)&&St(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function qB(n,e,t,i){const r=n.prev,s=n,o=n.next;if(St(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,u=s.y,f=o.y,h=a<l?a<c?a:c:l<c?l:c,m=d<u?d<f?d:f:u<f?u:f,p=a>l?a>c?a:c:l>c?l:c,g=d>u?d>f?d:f:u>f?u:f,v=pv(h,m,e,t,i),y=pv(p,g,e,t,i);let _=n.prevZ,x=n.nextZ;for(;_&&_.z>=v&&x&&x.z<=y;){if(_.x>=h&&_.x<=p&&_.y>=m&&_.y<=g&&_!==r&&_!==o&&el(a,d,l,u,c,f,_.x,_.y)&&St(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=h&&x.x<=p&&x.y>=m&&x.y<=g&&x!==r&&x!==o&&el(a,d,l,u,c,f,x.x,x.y)&&St(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=v;){if(_.x>=h&&_.x<=p&&_.y>=m&&_.y<=g&&_!==r&&_!==o&&el(a,d,l,u,c,f,_.x,_.y)&&St(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=y;){if(x.x>=h&&x.x<=p&&x.y>=m&&x.y<=g&&x!==r&&x!==o&&el(a,d,l,u,c,f,x.x,x.y)&&St(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function YB(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!qh(r,s)&&xA(r,i,i.next,s)&&Ac(r,s)&&Ac(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Cc(i),Cc(i.next),i=n=s),i=i.next}while(i!==n);return ta(i)}function KB(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&sU(o,a)){let l=wA(o,a);o=ta(o,o.next),l=ta(l,l.next),Ec(o,e,t,i,r,s,0),Ec(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function JB(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=yA(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(rU(c));for(r.sort(ZB),s=0;s<r.length;s++)t=QB(r[s],t);return t}function ZB(n,e){return n.x-e.x}function QB(n,e){const t=eU(n,e);if(!t)return e;const i=wA(t,n);return ta(i,i.next),ta(t,t.next)}function eU(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const f=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=s&&f>i&&(i=f,r=t.x<t.next.x?t:t.next,f===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,u;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&el(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(u=Math.abs(o-t.y)/(s-t.x),Ac(t,n)&&(u<d||u===d&&(t.x>r.x||t.x===r.x&&tU(r,t)))&&(r=t,d=u)),t=t.next;while(t!==a);return r}function tU(n,e){return St(n.prev,n,e.prev)<0&&St(e.next,n,n.next)<0}function nU(n,e,t,i){let r=n;do r.z===0&&(r.z=pv(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,iU(r)}function iU(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function pv(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function rU(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function el(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function sU(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!oU(n,e)&&(Ac(n,e)&&Ac(e,n)&&aU(n,e)&&(St(n.prev,n,e.prev)||St(n,e.prev,e))||qh(n,e)&&St(n.prev,n,n.next)>0&&St(e.prev,e,e.next)>0)}function St(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function qh(n,e){return n.x===e.x&&n.y===e.y}function xA(n,e,t,i){const r=jf(St(n,e,t)),s=jf(St(n,e,i)),o=jf(St(t,i,n)),a=jf(St(t,i,e));return!!(r!==s&&o!==a||r===0&&Uf(n,t,e)||s===0&&Uf(n,i,e)||o===0&&Uf(t,n,i)||a===0&&Uf(t,e,i))}function Uf(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function jf(n){return n>0?1:n<0?-1:0}function oU(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&xA(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ac(n,e){return St(n.prev,n,n.next)<0?St(n,e,n.next)>=0&&St(n,n.prev,e)>=0:St(n,e,n.prev)<0||St(n,n.next,e)<0}function aU(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function wA(n,e){const t=new mv(n.i,n.x,n.y),i=new mv(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Iw(n,e,t,i){const r=new mv(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Cc(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function mv(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lU(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class g_{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return g_.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];Fw(e),Nw(i,e);let o=e.length;t.forEach(Fw);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,Nw(i,t[l]);const a=$B.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Fw(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Nw(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class v_ extends qn{constructor(e=new gA(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new W,l=new W,c=new Le;let d=new W;const u=[],f=[],h=[],m=[];p(),this.setIndex(m),this.setAttribute("position",new Fi(u,3)),this.setAttribute("normal",new Fi(f,3)),this.setAttribute("uv",new Fi(h,2));function p(){for(let _=0;_<t;_++)g(_);g(s===!1?t:0),y(),v()}function g(_){d=e.getPointAt(_/t,d);const x=o.normals[_],w=o.binormals[_];for(let T=0;T<=r;T++){const S=T/r*Math.PI*2,b=Math.sin(S),M=-Math.cos(S);l.x=M*x.x+b*w.x,l.y=M*x.y+b*w.y,l.z=M*x.z+b*w.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,u.push(a.x,a.y,a.z)}}function v(){for(let _=1;_<=t;_++)for(let x=1;x<=r;x++){const w=(r+1)*(_-1)+(x-1),T=(r+1)*_+(x-1),S=(r+1)*_+x,b=(r+1)*(_-1)+x;m.push(w,T,b),m.push(T,S,b)}}function y(){for(let _=0;_<=t;_++)for(let x=0;x<=r;x++)c.x=_/t,c.y=x/r,h.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new v_(new _A[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ha extends rr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=r_,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pa extends ha{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ie(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class bA extends rr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=r_,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=n_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Mi(n,e,t){return __(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Io(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function __(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function SA(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function gv(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function y_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function uU(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),u=[],f=[];for(let h=0;h<c.times.length;++h){const m=c.times[h]*r;if(!(m<t||m>=i)){u.push(c.times[h]);for(let p=0;p<d;++p)f.push(c.values[h*d+p])}}u.length!==0&&(c.times=Io(u,c.times.constructor),c.values=Io(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function cU(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let d=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=u/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const m=a.times.length-1;let p;if(s<=a.times[0]){const v=d,y=u-d;p=Mi(a.values,v,y)}else if(s>=a.times[m]){const v=m*u+d,y=v+u-d;p=Mi(a.values,v,y)}else{const v=a.createInterpolant(),y=d,_=u-d;v.evaluate(s),p=Mi(v.resultBuffer,y,_)}l==="quaternion"&&new ui().fromArray(p).normalize().conjugate().toArray(p);const g=c.times.length;for(let v=0;v<g;++v){const y=v*h+f;if(l==="quaternion")ui.multiplyQuaternionsFlat(c.values,y,p,0,c.values,y);else{const _=h-f*2;for(let x=0;x<_;++x)c.values[y+x]-=p[x]}}}return n.blendMode=VE,n}var fU=Object.freeze({__proto__:null,arraySlice:Mi,convertArray:Io,isTypedArray:__,getKeyframeOrder:SA,sortedArray:gv,flattenJSON:y_,subclip:uU,makeClipAdditive:cU});class Wc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class dU extends Wc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ja,endingEnd:Ja}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Za:s=e,a=2*t-i;break;case Jd:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Za:o=e,l=2*i-t;break;case Jd:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,h=this._weightNext,m=(i-t)/(r-t),p=m*m,g=p*m,v=-f*g+2*f*p-f*m,y=(1+f)*g+(-1.5-2*f)*p+(-.5+f)*m+1,_=(-1-h)*g+(1.5+h)*p+.5*m,x=h*g-h*p;for(let w=0;w!==a;++w)s[w]=v*o[d+w]+y*o[c+w]+_*o[l+w]+x*o[u+w];return s}}class MA extends Wc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-t)/(r-t),u=1-d;for(let f=0;f!==a;++f)s[f]=o[c+f]*u+o[l+f]*d;return s}}class hU extends Wc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Tr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Io(t,this.TimeBufferType),this.values=Io(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Io(e.times,Array),values:Io(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new hU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new MA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new dU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case bc:t=this.InterpolantFactoryMethodDiscrete;break;case Nl:t=this.InterpolantFactoryMethodLinear;break;case Kp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bc;case this.InterpolantFactoryMethodLinear:return Nl;case this.InterpolantFactoryMethodSmooth:return Kp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Mi(i,s,o),this.values=Mi(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&__(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Mi(this.times),t=Mi(this.values),i=this.getValueSize(),r=this.getInterpolation()===Kp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const u=a*i,f=u-i,h=u+i;for(let m=0;m!==i;++m){const p=t[u+m];if(p!==t[f+m]||p!==t[h+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const u=a*i,f=o*i;for(let h=0;h!==i;++h)t[f+h]=t[u+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Mi(e,0,o),this.values=Mi(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Mi(this.times,0),t=Mi(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Tr.prototype.TimeBufferType=Float32Array;Tr.prototype.ValueBufferType=Float32Array;Tr.prototype.DefaultInterpolation=Nl;class Wl extends Tr{}Wl.prototype.ValueTypeName="bool";Wl.prototype.ValueBufferType=Array;Wl.prototype.DefaultInterpolation=bc;Wl.prototype.InterpolantFactoryMethodLinear=void 0;Wl.prototype.InterpolantFactoryMethodSmooth=void 0;class TA extends Tr{}TA.prototype.ValueTypeName="color";class Dc extends Tr{}Dc.prototype.ValueTypeName="number";class pU extends Wc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let d=c+a;c!==d;c+=4)ui.slerpFlat(s,0,o,c-a,o,c,l);return s}}class na extends Tr{InterpolantFactoryMethodLinear(e){return new pU(this.times,this.values,this.getValueSize(),e)}}na.prototype.ValueTypeName="quaternion";na.prototype.DefaultInterpolation=Nl;na.prototype.InterpolantFactoryMethodSmooth=void 0;class Gl extends Tr{}Gl.prototype.ValueTypeName="string";Gl.prototype.ValueBufferType=Array;Gl.prototype.DefaultInterpolation=bc;Gl.prototype.InterpolantFactoryMethodLinear=void 0;Gl.prototype.InterpolantFactoryMethodSmooth=void 0;class Pc extends Tr{}Pc.prototype.ValueTypeName="vector";class vv{constructor(e,t=-1,i,r=i_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ii(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(gU(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Tr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=SA(l);l=gv(l,1,d),c=gv(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Dc(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const u=d[1];let f=r[u];f||(r[u]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(u,f,h,m,p){if(h.length!==0){const g=[],v=[];y_(h,g,v,m),g.length!==0&&p.push(new u(f,g,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const f=c[u].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let p=0;p<f[m].morphTargets.length;p++)h[f[m].morphTargets[p]]=-1;for(const p in h){const g=[],v=[];for(let y=0;y!==f[m].morphTargets.length;++y){const _=f[m];g.push(_.time),v.push(_.morphTarget===p?1:0)}r.push(new Dc(".morphTargetInfluence["+p+"]",g,v))}l=h.length*o}else{const h=".bones["+t[u].name+"]";i(Pc,h+".position",f,"pos",r),i(na,h+".quaternion",f,"rot",r),i(Pc,h+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mU(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dc;case"vector":case"vector2":case"vector3":case"vector4":return Pc;case"color":return TA;case"quaternion":return na;case"bool":case"boolean":return Wl;case"string":return Gl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function gU(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mU(n.type);if(n.times===void 0){const t=[],i=[];y_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ia={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class EA{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return u!==-1&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,f=c.length;u<f;u+=2){const h=c[u],m=c[u+1];if(h.global&&(h.lastIndex=0),h.test(d))return m}return null}}}const vU=new EA;let as=class{constructor(e){this.manager=e!==void 0?e:vU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const kr={};class _U extends Error{constructor(e,t){super(e),this.response=t}}class ra extends as{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ia.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(kr[e]!==void 0){kr[e].push({onLoad:t,onProgress:i,onError:r});return}kr[e]=[],kr[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=kr[e],u=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),h=f?parseInt(f):0,m=h!==0;let p=0;const g=new ReadableStream({start(v){y();function y(){u.read().then(({done:_,value:x})=>{if(_)v.close();else{p+=x.byteLength;const w=new ProgressEvent("progress",{lengthComputable:m,loaded:p,total:h});for(let T=0,S=d.length;T<S;T++){const b=d[T];b.onProgress&&b.onProgress(w)}v.enqueue(x),y()}})}}});return new Response(g)}else throw new _U(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),f=u&&u[1]?u[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(m=>h.decode(m))}}}).then(c=>{ia.add(e,c);const d=kr[e];delete kr[e];for(let u=0,f=d.length;u<f;u++){const h=d[u];h.onLoad&&h.onLoad(c)}}).catch(c=>{const d=kr[e];if(d===void 0)throw this.manager.itemError(e),c;delete kr[e];for(let u=0,f=d.length;u<f;u++){const h=d[u];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class AA extends as{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ia.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Tc("img");function l(){d(),ia.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(u){d(),r&&r(u),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class yU extends as{constructor(e){super(e)}load(e,t,i,r){const s=new o_,o=new AA(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class xU extends as{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new uA,a=new ra(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Un,o.wrapT=c.wrapT!==void 0?c.wrapT:Un,o.magFilter=c.magFilter!==void 0?c.magFilter:Lt,o.minFilter=c.minFilter!==void 0?c.minFilter:Lt,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Js),c.mipmapCount===1&&(o.minFilter=Lt),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class Yh extends as{constructor(e){super(e)}load(e,t,i,r){const s=new rn,o=new AA(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Kh extends Tt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ie(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}const Am=new $e,zw=new W,Bw=new W;class x_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new $e,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new a_,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new dt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;zw.setFromMatrixPosition(e.matrixWorld),t.position.copy(zw),Bw.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Bw),t.updateMatrixWorld(),Am.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Am),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Am)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class wU extends x_{constructor(){super(new Ln(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Mc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bU extends Kh{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tt.DefaultUp),this.updateMatrix(),this.target=new Tt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new wU}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Uw=new $e,_u=new W,Cm=new W;class SU extends x_{constructor(){super(new Ln(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new dt(2,1,1,1),new dt(0,1,1,1),new dt(3,1,1,1),new dt(1,1,1,1),new dt(3,0,1,1),new dt(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),_u.setFromMatrixPosition(e.matrixWorld),i.position.copy(_u),Cm.copy(i.position),Cm.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Cm),i.updateMatrixWorld(),r.makeTranslation(-_u.x,-_u.y,-_u.z),Uw.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uw)}}class MU extends Kh{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new SU}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class TU extends x_{constructor(){super(new l_(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _v extends Kh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tt.DefaultUp),this.updateMatrix(),this.target=new Tt,this.shadow=new TU}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class EU extends Kh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Wo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class AU extends as{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ia.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ia.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}class CU{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=jw();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function jw(){return(typeof performance>"u"?Date:performance).now()}class DU{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){ui.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;ui.multiplyQuaternionsFlat(e,o,e,t,e,i),ui.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const w_="\\[\\]\\.:\\/",PU=new RegExp("["+w_+"]","g"),b_="[^"+w_+"]",LU="[^"+w_.replace("\\.","")+"]",RU=/((?:WC+[\/:])*)/.source.replace("WC",b_),OU=/(WCOD+)?/.source.replace("WCOD",LU),kU=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",b_),IU=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",b_),FU=new RegExp("^"+RU+OU+kU+IU+"$"),NU=["material","materials","bones","map"];class zU{constructor(e,t,i){const r=i||rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class rt{constructor(e,t,i){this.path=t,this.parsedPath=i||rt.parseTrackName(t),this.node=rt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new rt.Composite(e,t,i):new rt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(PU,"")}static parseTrackName(e){const t=FU.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);NU.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=rt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rt.Composite=zU;rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};rt.prototype.GetterByBindingType=[rt.prototype._getValue_direct,rt.prototype._getValue_array,rt.prototype._getValue_arrayElement,rt.prototype._getValue_toArray];rt.prototype.SetterByBindingTypeAndVersioning=[[rt.prototype._setValue_direct,rt.prototype._setValue_direct_setNeedsUpdate,rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rt.prototype._setValue_array,rt.prototype._setValue_array_setNeedsUpdate,rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rt.prototype._setValue_arrayElement,rt.prototype._setValue_arrayElement_setNeedsUpdate,rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rt.prototype._setValue_fromArray,rt.prototype._setValue_fromArray_setNeedsUpdate,rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class BU{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ja,endingEnd:Ja};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case VE:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case i_:default:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===uI;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===jE){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Za,r.endingEnd=Za):(e?r.endingStart=this.zeroSlopeAtStart?Za:Ja:r.endingStart=Jd,t?r.endingEnd=this.zeroSlopeAtEnd?Za:Ja:r.endingEnd=Jd)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const UU=new Float32Array(1);class jU extends ua{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let u=0;u!==s;++u){const f=r[u],h=f.name;let m=d[h];if(m!==void 0)++m.referenceCount,o[u]=m;else{if(m=o[u],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,h));continue}const p=t&&t._propertyBindings[u].binding.parsedPath;m=new DU(rt.create(i,h,p),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,h),o[u]=m}a[u].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete u[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new MA(new Float32Array(2),new Float32Array(2),1,UU),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?vv.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=i_),l!==void 0){const u=l.actionByRoot[s];if(u!==void 0&&u.blendMode===i)return u;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new BU(this,o,t,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?vv.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=d,t[d]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class VU{constructor(e,t,i=0,r=1/0){this.ray=new Gh(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new $h,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return yv(e,this,i,t),i.sort(Vw),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)yv(e[r],this,i,t);return i.sort(Vw),i}}function Vw(n,e){return n.distance-e.distance}function yv(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)yv(r[s],e,t,!0)}}class HU{constructor(){this.type="ShapePath",this.color=new Ie,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new hv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const y=[];for(let _=0,x=v.length;_<x;_++){const w=v[_],T=new Em;T.curves=w.curves,y.push(T)}return y}function i(v,y){const _=y.length;let x=!1;for(let w=_-1,T=0;T<_;w=T++){let S=y[w],b=y[T],M=b.x-S.x,E=b.y-S.y;if(Math.abs(E)>Number.EPSILON){if(E<0&&(S=y[T],M=-M,b=y[w],E=-E),v.y<S.y||v.y>b.y)continue;if(v.y===S.y){if(v.x===S.x)return!0}else{const O=E*(v.x-S.x)-M*(v.y-S.y);if(O===0)return!0;if(O<0)continue;x=!x}}else{if(v.y!==S.y)continue;if(b.x<=v.x&&v.x<=S.x||S.x<=v.x&&v.x<=b.x)return!0}}return x}const r=g_.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Em,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const u=[],f=[];let h=[],m=0,p;f[m]=void 0,h[m]=[];for(let v=0,y=s.length;v<y;v++)a=s[v],p=a.getPoints(),o=r(p),o=e?!o:o,o?(!d&&f[m]&&m++,f[m]={s:new Em,p},f[m].s.curves=a.curves,d&&m++,h[m]=[]):h[m].push({h:a,p:p[0]});if(!f[0])return t(s);if(f.length>1){let v=!1,y=0;for(let _=0,x=f.length;_<x;_++)u[_]=[];for(let _=0,x=f.length;_<x;_++){const w=h[_];for(let T=0;T<w.length;T++){const S=w[T];let b=!0;for(let M=0;M<f.length;M++)i(S.p,f[M].p)&&(_!==M&&y++,b?(b=!1,u[M].push(S)):v=!0);b&&u[_].push(S)}}y>0&&v===!1&&(h=u)}let g;for(let v=0,y=f.length;v<y;v++){l=f[v].s,c.push(l),g=h[v];for(let _=0,x=g.length;_<x;_++)l.holes.push(g[_].h)}return c}}const jr=WU();function WU(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function GU(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Qt(n,-65504,65504),jr.floatView[0]=n;const e=jr.uint32View[0],t=e>>23&511;return jr.baseTable[t]+((e&8388607)>>jr.shiftTable[t])}function $U(n){const e=n>>10;return jr.uint32View[0]=jr.mantissaTable[jr.offsetTable[e]+(n&1023)]+jr.exponentTable[e],jr.floatView[0]}var Vf=Object.freeze({__proto__:null,toHalfFloat:GU,fromHalfFloat:$U});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:t_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=t_);let Jh=class{constructor(){this.callbacks={},this.callbacks.base={}}on(e,t){return typeof e>"u"||e===""?(console.warn("wrong names"),!1):typeof t>"u"?(console.warn("wrong callback"),!1):(this.resolveNames(e).forEach(r=>{const s=this.resolveName(r);this.callbacks[s.namespace]instanceof Object||(this.callbacks[s.namespace]={}),this.callbacks[s.namespace][s.value]instanceof Array||(this.callbacks[s.namespace][s.value]=[]),this.callbacks[s.namespace][s.value].push(t)}),this)}off(e){return typeof e>"u"||e===""?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach(i=>{const r=this.resolveName(i);if(r.namespace!=="base"&&r.value==="")delete this.callbacks[r.namespace];else if(r.namespace==="base")for(const s in this.callbacks)this.callbacks[s]instanceof Object&&this.callbacks[s][r.value]instanceof Array&&(delete this.callbacks[s][r.value],Object.keys(this.callbacks[s]).length===0&&delete this.callbacks[s]);else this.callbacks[r.namespace]instanceof Object&&this.callbacks[r.namespace][r.value]instanceof Array&&(delete this.callbacks[r.namespace][r.value],Object.keys(this.callbacks[r.namespace]).length===0&&delete this.callbacks[r.namespace])}),this)}trigger(e,t){if(typeof e>"u"||e==="")return console.warn("wrong name"),!1;let i=null;const r=t instanceof Array?t:[];let s=this.resolveNames(e);if(s=this.resolveName(s[0]),s.namespace==="base")for(const o in this.callbacks)this.callbacks[o]instanceof Object&&this.callbacks[o][s.value]instanceof Array&&this.callbacks[o][s.value].forEach(function(a){a.apply(this,r)});else if(this.callbacks[s.namespace]instanceof Object){if(s.value==="")return console.warn("wrong name"),this;this.callbacks[s.namespace][s.value].forEach(function(o){o.apply(this,r)})}return i}resolveNames(e){let t=e;return t=t.replace(/[^a-zA-Z0-9 ,/.]/g,""),t=t.replace(/[,/]+/g," "),t=t.split(" "),t}resolveName(e){const t={},i=e.split(".");return t.original=e,t.value=i[0],t.namespace="base",i.length>1&&i[1]!==""&&(t.namespace=i[1]),t}},Dm=null;class ro extends Jh{constructor(){super();q(this,"store");q(this,"prevState");q(this,"callbacks",[]);if(Dm)return Dm;Dm=this,this.store=window.store,this.prevState=this.store.getState(),this.subscribe()}subscribe(){this.store.subscribe(()=>{const t=this.store.getState();for(const i of this.callbacks)i(t,this.prevState);this.prevState=t})}addListener(t){this.callbacks.push(t)}}class XU extends Jh{constructor(){super();q(this,"width");q(this,"height");q(this,"pixelRatio");this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=Math.min(window.devicePixelRatio,2),new ro().addListener(this.stateChangeHandler.bind(this))}stateChangeHandler(t,i){(t.sizes.width!==i.sizes.width||t.sizes.height!==i.sizes.height)&&(this.width=t.sizes.width,this.height=t.sizes.height,this.pixelRatio=Math.min(window.devicePixelRatio,2),this.trigger("resize"))}}class qU extends Jh{constructor(){super();q(this,"start");q(this,"current");q(this,"elapsed");q(this,"delta");q(this,"clock");q(this,"clockElapsed");this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16,this.clock=new CU,this.clockElapsed=0,window.requestAnimationFrame(this.tick.bind(this))}tick(){const t=Date.now();this.delta=t-this.current,this.current=t,this.elapsed=this.current-this.start,this.clockElapsed=this.clock.getElapsedTime(),this.trigger("tick"),window.requestAnimationFrame(this.tick.bind(this))}}class YU{constructor(){q(this,"experience");q(this,"canvas");q(this,"debug");q(this,"sizes");q(this,"time");q(this,"scene");q(this,"world");q(this,"instance");q(this,"composer");q(this,"finalPass");q(this,"finalComposer");q(this,"debugFolder");q(this,"debugObject");q(this,"controls");q(this,"camera");q(this,"controlsCamera");q(this,"cameraHelper");q(this,"bloomLayer");q(this,"darkMaterial");q(this,"materials");var e;this.experience=new dn,this.canvas=this.experience.canvas,this.sizes=this.experience.sizes,this.scene=this.experience.scene,this.time=this.experience.time,this.darkMaterial=new vr({color:"black"}),this.materials={},this.debug=this.experience.debug,this.debug.active&&(this.debugFolder=(e=this.debug.ui)==null?void 0:e.addFolder("Postprocessing").close()),this.setInstance()}setOrbitControls(){this.camera=this.experience.world.cameraOnPath.camera}setComposer(){this.bloomLayer=new $h,this.bloomLayer.set(1)}setInstance(){this.instance=new oA({canvas:this.canvas,antialias:!0,alpha:!0}),this.instance.physicallyCorrectLights=!0,this.instance.outputEncoding=nt,this.instance.toneMapping=NE,this.instance.toneMappingExposure=1.75,this.instance.shadowMap.enabled=!1,this.instance.setSize(this.sizes.width,this.sizes.height),this.instance.setPixelRatio(this.sizes.pixelRatio)}darkenNonBloomed(e){const t=e;t.isMesh&&this.bloomLayer.test(t.layers)===!1&&(this.materials[t.uuid]=t.material,t.material=this.darkMaterial)}restoreMaterial(e){const t=e;this.materials[t.uuid]&&(t.material=this.materials[t.uuid],delete this.materials[t.uuid])}renderBloom(){this.scene.traverse(this.darkenNonBloomed.bind(this)),this.composer.render(),this.scene.traverse(this.restoreMaterial.bind(this))}update(){var e,t,i;(e=this.experience.resources.items.manModel)!=null&&e.cameras&&((i=(t=this.experience.world)==null?void 0:t.cameraOnPath)!=null&&i.camera)&&(this.composer?this.composer.render():this.camera&&this.instance.render(this.scene,this.camera)),this.controls&&this.controls.update()}resize(){this.instance.setSize(this.sizes.width,this.sizes.height),this.instance.setPixelRatio(this.sizes.pixelRatio),this.composer&&this.composer.setSize(this.sizes.width,this.sizes.height)}}class KU{constructor(){q(this,"experience");q(this,"scene");q(this,"resources");q(this,"debug");q(this,"debugFolder");q(this,"sunLightRight");q(this,"sunLightLeft");q(this,"ambientLight");q(this,"environmentMap");var e;this.experience=new dn,this.scene=this.experience.scene,this.resources=this.experience.resources,this.debug=this.experience.debug,this.debug.active&&(this.debugFolder=(e=this.debug.ui)==null?void 0:e.addFolder("Environment").close())}setAmbientLight(){this.ambientLight=new EU(9539726,1.6),this.ambientLight.castShadow=!1,this.scene.add(this.ambientLight),this.debug.active&&this.debugFolder&&this.debugFolder.add(this.ambientLight,"intensity").min(0).max(10).name("ambientLightIntensity")}setSunLight(){this.sunLightLeft=new _v("#ffffff",1.5),this.sunLightLeft.castShadow=!1,this.sunLightLeft.position.set(-.1,-4,5),this.sunLightRight=new _v("#f1cf98",1.5),this.sunLightRight.castShadow=!1,this.sunLightRight.position.set(-2,1,-4),this.scene.add(this.sunLightLeft,this.sunLightRight),this.debug.active&&this.debugFolder&&(this.debugFolder.add(this.sunLightLeft,"intensity").min(0).max(10).name("sunLight R Intensity"),this.debugFolder.add(this.sunLightLeft.position,"x").min(-20).max(20).name("sunLightX R"),this.debugFolder.add(this.sunLightLeft.position,"y").min(-20).max(20).name("sunLightY R"),this.debugFolder.add(this.sunLightLeft.position,"z").min(-20).max(20).name("sunLightZ R"),this.debugFolder.add(this.sunLightRight,"intensity").min(0).max(10).name("sunLight L Intensity"),this.debugFolder.add(this.sunLightRight.position,"x").min(-20).max(20).name("sunLightX L"),this.debugFolder.add(this.sunLightRight.position,"y").min(-20).max(20).name("sunLightY L"),this.debugFolder.add(this.sunLightRight.position,"z").min(-20).max(20).name("sunLightZ L"))}setEnvironmentMap(){this.resources.items.environmentMapTexture&&(this.environmentMap={intensity:.4,texture:this.resources.items.environmentMapTexture,encoding:nt},this.environmentMap.updateMaterial=()=>{this.scene.traverse(e=>{e instanceof Rt&&e.material instanceof ha&&(e.material.envMap=this.environmentMap.texture,e.material.envMapIntensity=this.environmentMap.intensity,e.material.needsUpdate=!0)})},this.environmentMap.updateMaterial(),this.scene.environment=this.environmentMap.texture,this.debug.active&&this.debugFolder&&this.debugFolder.add(this.environmentMap,"intensity").min(0).max(4).name("mapIntensity").onChange(this.environmentMap.updateMaterial))}}function JU(){var l;const n=new dn,e=n.resources,t=n.time,i=n.debug;let r;i.active&&(r=(l=i.ui)==null?void 0:l.addFolder("Man"));const s={roughness:.5,multipliers:{A:.03,B:.38},colors:{A:16777215,B:14740}},o={iterations:{value:8},depth:{value:1.9},smoothing:{value:.2},colorA:{value:new Ie(s.colors.A).multiplyScalar(s.multipliers.A)},colorB:{value:new Ie(s.colors.B).multiplyScalar(s.multipliers.B)},heightMap:{value:e.items.manSkin},displacementMap:{value:e.items.manSkinDisplacement},displacement:{value:3},time:{value:t.clockElapsed}};e.items.manSkinDisplacement.wrapS=Sr,e.items.manSkinDisplacement.wrapT=Sr,e.items.manSkinDisplacement.minFilter=zt,e.items.manSkinDisplacement.minFilter=zt;const a=new ha({roughness:s.roughness});return i.active&&r&&(r.add(s,"roughness").min(.01).max(1).step(.01).name("Roughness").onChange(c=>a.roughness=c),r.add(o.iterations,"value").min(1).max(100).step(1).name("Iterations"),r.add(o.depth,"value").min(.1).max(3).step(.1).name("Depth"),r.add(o.smoothing,"value").min(.1).max(3).step(.1).name("Smoothing"),r.add(o.displacement,"value").min(.01).max(5).step(.01).name("Displacement"),r.addColor(s.colors,"A").name("Color A").onChange(()=>{o.colorA.value.set(new Ie(s.colors.A).multiplyScalar(s.multipliers.A))}),r.add(s.multipliers,"A").min(-2).max(2).step(.01).name("Multiplier A").onChange(()=>{o.colorA.value.set(new Ie(s.colors.A).multiplyScalar(s.multipliers.A))}),r.addColor(s.colors,"B").name("Color B").onChange(()=>{o.colorB.value.set(new Ie(s.colors.B).multiplyScalar(s.multipliers.B))}),r.add(s.multipliers,"B").min(-2).max(2).step(.01).name("Multiplier B").onChange(()=>{o.colorB.value.set(new Ie(s.colors.B).multiplyScalar(s.multipliers.B))})),a.onBeforeCompile=c=>{c.uniforms={...c.uniforms,...o},c.vertexShader=`
      varying vec3 v_pos;
      varying vec3 v_dir;
    `+c.vertexShader,c.vertexShader=c.vertexShader.replace(/void main\(\) {/,d=>d+`
      v_dir = position - cameraPosition; // Points from camera to vertex
      v_pos = position;
    `),c.fragmentShader=`
          #define FLIP vec2(1., -1.)

          uniform vec3 colorA;
          uniform vec3 colorB;
          uniform sampler2D heightMap;
          uniform sampler2D displacementMap;
          uniform int iterations;
          uniform float depth;
          uniform float smoothing;
          uniform float displacement;
          uniform float time;

          varying vec3 v_pos;
          varying vec3 v_dir;
        `+c.fragmentShader,c.fragmentShader=c.fragmentShader.replace(/void main\(\) {/,d=>`
          // @param p - Point to displace
          // @param strength - How much the map can displace the point
          // @returns Point with scrolling displacement applied
          vec3 displacePoint(vec3 p, float strength) {
            vec2 uv = equirectUv(normalize(p));
            vec2 scroll = vec2(time, 0.);
            vec3 displacementA = texture(displacementMap, uv + scroll).rgb; // Upright
            vec3 displacementB = texture(displacementMap, uv * FLIP - scroll).rgb; // Upside down

            // Center the range to [-0.5, 0.5], note the range of their sum is [-1, 1]
            displacementA -= 0.5;
            displacementB -= 0.5;

            return p + strength * (displacementA + displacementB);
          }

          // * @param rayOrigin - Point on sphere
          // * @param rayDir - Normalized ray direction
          // * @returns Diffuse RGB color
          vec3 marchMarble(vec3 rayOrigin, vec3 rayDir) {
            float perIteration = 1. / float(iterations);
            vec3 deltaRay = rayDir * perIteration * depth;

            // Start at point of intersection and accumulate volume
            vec3 p = rayOrigin;
            float totalVolume = 0.;

            for (int i=0; i<iterations; ++i) {
              // Read heightmap from spherical direction of displaced ray position
              vec3 displaced = displacePoint(p, displacement);
              vec2 uv = equirectUv(normalize(displaced));
              float heightMapVal = texture(heightMap, uv).r;

              // Take a slice of the heightmap
              float height = length(p); // 1 at surface, 0 at core, assuming radius = 1
              float cutoff = 1. - float(i) * perIteration;
              float slice = smoothstep(cutoff, cutoff + smoothing, heightMapVal);

              // Accumulate the volume and advance the ray forward one step
              totalVolume += slice * perIteration;
              p += deltaRay;
            }
            return toneMapping(mix(colorA, colorB, totalVolume));
          }
        `+d),c.fragmentShader=c.fragmentShader.replace(/vec4 diffuseColor.*;/,`
          vec3 rayDir = normalize(v_dir);
          vec3 rayOrigin = v_pos;

          vec3 rgb = marchMarble(rayOrigin, rayDir);
          vec4 diffuseColor = vec4(rgb, 1.);
        `)},t.on("tick",()=>{o!=null&&o.time&&(o.time.value=t.clockElapsed*.02)}),[a]}const ZU=`vec4 permute(vec4 x) {\r
    return mod(((x*34.0)+1.0)*x, 289.0);\r
}\r
vec4 taylorInvSqrt(vec4 r) {\r
    return 1.79284291400159 - 0.85373472095314 * r;\r
}\r
vec3 fade(vec3 t) {\r
    return t*t*t*(t*(t*6.0-15.0)+10.0);\r
}\r
\r
float cnoise(vec3 P) {\r
  vec3 Pi0 = floor(P); // Integer part for indexing\r
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\r
  Pi0 = mod(Pi0, 289.0);\r
  Pi1 = mod(Pi1, 289.0);\r
  vec3 Pf0 = fract(P); // Fractional part for interpolation\r
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\r
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\r
  vec4 iy = vec4(Pi0.yy, Pi1.yy);\r
  vec4 iz0 = Pi0.zzzz;\r
  vec4 iz1 = Pi1.zzzz;\r
\r
  vec4 ixy = permute(permute(ix) + iy);\r
  vec4 ixy0 = permute(ixy + iz0);\r
  vec4 ixy1 = permute(ixy + iz1);\r
\r
  vec4 gx0 = ixy0 / 7.0;\r
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\r
  gx0 = fract(gx0);\r
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\r
  vec4 sz0 = step(gz0, vec4(0.0));\r
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\r
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\r
\r
  vec4 gx1 = ixy1 / 7.0;\r
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\r
  gx1 = fract(gx1);\r
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\r
  vec4 sz1 = step(gz1, vec4(0.0));\r
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\r
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\r
\r
  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\r
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\r
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\r
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\r
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\r
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\r
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\r
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\r
\r
  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\r
  g000 *= norm0.x;\r
  g010 *= norm0.y;\r
  g100 *= norm0.z;\r
  g110 *= norm0.w;\r
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\r
  g001 *= norm1.x;\r
  g011 *= norm1.y;\r
  g101 *= norm1.z;\r
  g111 *= norm1.w;\r
\r
  float n000 = dot(g000, Pf0);\r
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\r
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\r
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\r
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\r
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\r
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\r
  float n111 = dot(g111, Pf1);\r
\r
  vec3 fade_xyz = fade(Pf0);\r
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\r
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\r
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \r
\r
  return 2.2 * n_xyz;\r
}`;function QU(){var l;const n=new dn,e=n.resources,t=n.time,i=n.debug;let r;i.active&&(r=(l=i.ui)==null?void 0:l.addFolder("Man").close());const s={roughness:.46,metalness:1,uBigWavesElevation:.06,uBigWavesFrequency:new Le(.01,.01),uBigWavesSpeed:.52,uDepthColor:new Ie("#252e46"),uSurfaceColor:new Ie("#667fa9"),uColorOffset:.48,uColorMultiplier:3.85},o=new ha({envMap:e.items.envMap}),a={uTime:{value:t.elapsed},uBigWavesElevation:{value:s.uBigWavesElevation},uBigWavesFrequency:{value:s.uBigWavesFrequency},uBigWavesSpeed:{value:s.uBigWavesSpeed},uDepthColor:{value:s.uDepthColor},uSurfaceColor:{value:s.uSurfaceColor},uColorOffset:{value:s.uColorOffset},uColorMultiplier:{value:s.uColorMultiplier}};return e.items.manHeight.wrapS=Sr,e.items.manHeight.wrapT=Sr,o.onBeforeCompile=c=>{c.uniforms={...c.uniforms,...a},c.vertexShader=`
        uniform float uTime;
        uniform float uBigWavesElevation;
        uniform vec2 uBigWavesFrequency;
        uniform float uBigWavesSpeed;

        // uniform float uSmallWavesElevation;
        // uniform float uSmallWavesFrequency;
        // uniform float uSmallWavesSpeed;
        // uniform float uSmallWavesIteration;

        uniform sampler2D heightMap;

        varying float vElevation;
        varying float vAmount;
        
        ${ZU}
      `+c.vertexShader,c.vertexShader=c.vertexShader.replace(/void main\(\) {/,d=>d+`
          vec4 modelPosition = modelMatrix * vec4(position, 1.0);

          // float elevation = sin(modelPosition.x * uBigWavesFrequency.x + uTime * uBigWavesSpeed) 
          //   * sin(modelPosition.z * uBigWavesFrequency.y + uTime * uBigWavesSpeed)
          //   * uBigWavesElevation;
          
          // for (float i = 1.0; i <= uSmallWavesIteration; i++) {
          //   elevation -= abs(cnoise(vec3(modelPosition.xz * uSmallWavesFrequency * i, uTime * uSmallWavesSpeed)) * uSmallWavesElevation / i);
          // }

          vElevation = sin(modelPosition.z * uBigWavesFrequency.x + uTime * uBigWavesSpeed)
            * sin(modelPosition.z * uBigWavesFrequency.y + uTime * uBigWavesSpeed)
            * uBigWavesElevation;
        `),c.fragmentShader=`
        uniform vec3 uDepthColor;
        uniform vec3 uSurfaceColor;

        uniform float uColorOffset;
        uniform float uColorMultiplier;

        uniform vec3 uFogColor;
        uniform float uFogNear;
        uniform float uFogFar;

        uniform sampler2D heightMap;

        varying float vElevation;
        varying float vAmount;
      `+c.fragmentShader,c.fragmentShader=c.fragmentShader.replace(/vec4 diffuseColor.*;/,d=>d+`
            float mixStrength = (vElevation + uColorOffset) * uColorMultiplier;
            vec3 color = mix(uDepthColor, uSurfaceColor, mixStrength);
            diffuseColor = vec4(color, 1.0);
          `)},i.active&&r&&(r.add(s,"roughness").min(.01).max(5).step(.01).onChange(()=>o.roughness=s.roughness),r.add(s,"metalness").min(.01).max(1).step(.01).onChange(()=>o.metalness=s.metalness),r.add(s,"uBigWavesElevation").min(.01).max(1).step(.01).name("Big Waves Elevation").onChange(()=>{a.uBigWavesElevation.value=s.uBigWavesElevation}),r.add(s.uBigWavesFrequency,"x").min(.01).max(10).step(.01).name("Big Waves Frequency x").onChange(()=>{a.uBigWavesFrequency.value.x=s.uBigWavesFrequency.x}),r.add(s.uBigWavesFrequency,"y").min(.01).max(10).step(.01).name("Big Waves Frequency y").onChange(()=>{a.uBigWavesFrequency.value.y=s.uBigWavesFrequency.y}),r.add(s,"uBigWavesSpeed").min(.01).max(5).step(.01).name("Big Waves Speed").onChange(()=>{a.uBigWavesSpeed.value=s.uBigWavesSpeed}),r.addColor(s,"uDepthColor").name("Depth Color").onChange(()=>{a.uDepthColor.value.set(s.uDepthColor)}),r.addColor(s,"uSurfaceColor").name("Surface Color").onChange(()=>{a.uSurfaceColor.value.set(s.uSurfaceColor)}),r.add(s,"uColorOffset").min(0).max(1).step(.01).name("Color Offset").onChange(()=>{a.uColorOffset.value=s.uColorOffset}),r.add(s,"uColorMultiplier").min(-10).max(10).step(.01).name("Color Multiplier").onChange(()=>{a.uColorMultiplier.value=s.uColorMultiplier})),t.on("tick",()=>{a!=null&&a.uTime&&(a.uTime.value=t.clockElapsed)}),[o]}function e5(){const n=new dn,e=n.resources,t=n.time,i=e.items.manOutlineSkin;i.repeat.set(.2,20),i.wrapS=Il,i.wrapT=Il;const r=er.basic,s=new Sn({side:li,uniforms:QE.merge([r.uniforms,{diffuse:{value:new Ie("white")}}]),vertexShader:r.vertexShader.replace("#include <begin_vertex>",`
        vec3 transformed = vec3(position) + normal * 0.01;
      `),fragmentShader:r.fragmentShader}),o=new bA({side:la,map:i,emissiveMap:i,emissiveIntensity:.8,emissive:"white"}),a=new vr({color:"white",wireframe:!0});return t.on("tick",()=>{i.offset.x-=5e-4,i.offset.y-=.002}),[s,o,a]}function t5(){var s;const e=new dn().debug,t={color:new Ie(395278),emissiveIntensity:.05,emissive:new Ie(460343)};let i;e.active&&(i=(s=e.ui)==null?void 0:s.addFolder("Man"));const r=new bA({color:t.color,emissive:t.emissive,emissiveIntensity:t.emissiveIntensity});return e.active&&i&&(i.addColor(t,"color").onChange(()=>{r.color=t.color}),i.addColor(t,"emissive").onChange(()=>{r.emissive=t.emissive}),i.add(t,"emissiveIntensity").min(0).max(5).step(.01).onChange(()=>{r.emissiveIntensity=t.emissiveIntensity})),[r]}const n5=`
  vec4 permute(vec4 x) {
      return mod(((x*34.0)+1.0)*x, 289.0);
  }
  vec4 taylorInvSqrt(vec4 r) {
      return 1.79284291400159 - 0.85373472095314 * r;
  }
  vec3 fade(vec3 t) {
      return t*t*t*(t*(t*6.0-15.0)+10.0);
  }

  float cnoise(vec3 P) {
    vec3 Pi0 = floor(P); // Integer part for indexing
    vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
    Pi0 = mod(Pi0, 289.0);
    Pi1 = mod(Pi1, 289.0);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;

    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);

    vec4 gx0 = ixy0 / 7.0;
    vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);

    vec4 gx1 = ixy1 / 7.0;
    vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);

    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;

    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);

    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 

    return 2.2 * n_xyz;
  }
`,i5=`
  uniform float time;
  uniform sampler2D outline;
  uniform float fresnelMax;
  uniform float fresnelMultiplier;

  varying vec2 vUv;
  varying vec3 vNormal;

  float PI = 3.141529;

  ${n5}

  void main() {
    // float diff = dot(vec3(1.0), vNormal);

    float phi = acos(vNormal.y);
    float angle = atan(vNormal.x, vNormal.z);

    float fresnel = abs(dot(cameraPosition, vNormal));
    fresnel = fresnelMax - fresnel * fresnelMultiplier;

    vec2 fakeUv = vec2(dot(vec3(1.0), vNormal), dot(vec3(-1.0, 0.0, 1.0), vNormal));
    fakeUv = fract(fakeUv + vec2(time / 100.0, time / 50.0));

    vec2 newFakeUv = vec2((angle + PI) / (2.0 * PI), phi / PI);

    vec4 txt = texture2D(outline, newFakeUv + 0.2 * cnoise(vec3(fakeUv * 0.2, time / 2.0)));
    // gl_FragColor = vec4(vNormal, 1.0);
    // gl_FragColor = vec4(fresnel);
    // gl_FragColor = txt;
    gl_FragColor = vec4(mix(vec3(0.,0.,0.4), txt.rgb, fresnel), 1.0);
  }
`,r5=`
  // switch on high precision floats
  #ifdef GL_ES
  precision highp float;
  #endif

  varying vec2 vUv;
  varying vec3 vNormal;

  ${je.common}
  ${je.shadowmap_pars_vertex}
  ${je.morphtarget_pars_vertex}
  ${je.skinning_pars_vertex}


  void main() {
    vUv = uv;
    vNormal = normal;

    ${je.skinbase_vertex}
    ${je.begin_vertex}
    ${je.morphtarget_vertex}
    ${je.skinning_vertex}
    ${je.project_vertex}

    gl_Position = projectionMatrix * mvPosition;

    ${je.shadowmap_vertex}
  }
`;let xv=!1;function s5(){window.store.getState().app.ready&&!xv&&(xv=!0)}function o5(){var a;const n=new dn,e=n.resources,t=n.time,i=n.debug;let r;i.active&&(r=(a=i.ui)==null?void 0:a.addFolder("Man")),window.store.subscribe(s5);const s={time:{value:t.clockElapsed},outline:{value:e.items.manVibrantSkin},fresnelMax:{value:1.9},fresnelMultiplier:{value:1.25}},o=new Sn({uniforms:s,vertexShader:r5,fragmentShader:i5});return t.on("tick",()=>{xv&&(o.uniforms.time.value=t.clockElapsed)}),i.active&&r&&(r.add(s.fresnelMax,"value").min(1).max(10).step(.01).name("Fresnel Max"),r.add(s.fresnelMultiplier,"value").min(1).max(10).step(.01).name("Fresnel Multiplier")),[o]}class a5{constructor(){q(this,"experience");q(this,"scene");q(this,"resources");q(this,"sizes");q(this,"time");q(this,"resource");q(this,"renderer");q(this,"model");q(this,"camera");q(this,"mesh");q(this,"animation");q(this,"animationBeforeMenuOpen");q(this,"finishedAnimations");q(this,"scroll");this.experience=new dn,this.resources=this.experience.resources,this.resource=this.resources.items.manModel,this.sizes=this.experience.sizes,this.scene=this.experience.scene,this.time=this.experience.time,this.renderer=this.experience.renderer.instance,this.scroll=!1,this.finishedAnimations=[],this.setModel(),this.setMaterial(),new ro().addListener(this.stateChangeHandler.bind(this))}setModel(){this.resource.scene&&(this.model=this.resource.scene,this.scene.add(this.model))}setMaterial(){const e=_k;let t;switch(e){case"magicalMarble":t=JU();break;case"glow":t=QU();break;case"outline":t=e5();break;case"lambert":t=t5();break;case"vibrant":t=o5();break;default:t=[new ha({color:3769380})];break}const i=this.model.children.find(r=>r.userData.name==="Armature");if(!i)throw new Error("Man's Armature mesh not found");this.mesh=i.children.find(r=>r instanceof aA),this.mesh.castShadow=!1,this.mesh.receiveShadow=!1,this.mesh.material=t,this.mesh.material=t[0]}stateChangeHandler(e,t){var s,o,a;e.app.ready&&!t.app.ready&&this.startAnimations();const i=t.section.current,r=e.section.current;if(r!==i){if(!((s=this.animation)!=null&&s.actions))throw new Error("this.animation.actions not found in section handler");const l=(o=this.animation.actions[r])==null?void 0:o.enter.a,c=this.animation.actions.current;c!=null&&c.isRunning()?this.action("fade",l,c):this.action("play",l)}if(e.menu.open!==t.menu.open){const l=this.animation.actions.menu.enter.a,c=this.animation.actions.current;if(e.menu.open)this.animationBeforeMenuOpen=c,this.action("fade",l,c);else{const d=window.store.getState(),u=d.section.sections,f=d.menu.index,h=u[f].id;this.action("fade",(a=this.animation.actions[h])==null?void 0:a.enter.a,l)}}}startAnimations(){var s;if(!((s=this.resource.animations)!=null&&s.length))return;const e=new jU(this.model),i=e.clipAction(this.resource.animations[0]).getClip(),r=fU.subclip;this.animation={mixer:e,actions:{intro:{enter:{a:e.clipAction(r(i,"intro",0,80))}},hero:{enter:{a:e.clipAction(r(i,"hero",80,260))},loop:{a:e.clipAction(r(i,"hero.loop",260,610))}},portfolio:{enter:{a:e.clipAction(r(i,"portfolio",610,690))},loop:{a:e.clipAction(r(i,"portfolio.loop",690,770))}},about:{enter:{a:e.clipAction(r(i,"about",770,820))},loop:{a:e.clipAction(r(i,"about.loop",820,870))}},contact:{enter:{a:e.clipAction(r(i,"contact",870,910))},loop:{a:e.clipAction(r(i,"contact.loop",910,1060))}},menu:{enter:{a:e.clipAction(r(i,"menu.loop",1060,1150))}}}},this.animation.mixer.addEventListener("finished",this.handleAnimationFinish.bind(this)),this.action("play",this.animation.actions.intro.enter.a)}handleAnimationFinish(e){var c,d;const t=e.action,r=t.getClip().name,s=this._getAnimationName(r),o=this._getAnimationType(r);if(t.getEffectiveWeight()<1)return;this.finishedAnimations.push(t);const a=this.animation.actions.hero.enter.a,l=(d=(c=this.animation.actions[s])==null?void 0:c.loop)==null?void 0:d.a;s==="intro"?setTimeout(()=>{this.action("play",a)},300):o==="enter"&&l&&this.action("play",l),this.scroll=window.store.getState().scroll,!this.scroll&&r==="intro"&&window.store.dispatch.scroll.canScroll()}action(e="fade",t,i){var a;const r=t.getClip().name,s=this._getAnimationName(r),o=this._getAnimationType(r);if(!s||!o)throw new Error("action() is not able to identify the animation name or type");t.reset(),r.includes("loop")||(t.clampWhenFinished=!0,t.setLoop(jE,1)),e==="play"?t.play():e==="fade"&&i&&t.crossFadeFrom(i,1,!1).play();for(const l of this.finishedAnimations)requestAnimationFrame(()=>{l.stop()});if(this.finishedAnimations=[],!((a=this.animation)!=null&&a.actions))throw new Error("No this.animation.actions found in action()");this.animation.actions.current=t}_getAnimationName(e){if(!this.animation.actions)throw new Error("No this.animation.actions found _getAnimationName()");for(const[t,i]of Object.entries(this.animation.actions))if(t!=="current"){for(const[r,s]of Object.entries(i))if(s.a.getClip().name===e)return t}throw new Error(`_getAnimationName cannot find name of ${e} clip`)}_getAnimationType(e){if(!this.animation.actions)throw new Error("No this.animation.actions found _getAnimationType()");for(const[t,i]of Object.entries(this.animation.actions))if(t!=="current"){for(const[r,s]of Object.entries(i))if(s.a.getClip().name===e)return r}throw new Error(`_getAnimationType cannot find type of ${e} clip`)}update(){var t,i,r;const e=this.time.delta*.001;(r=(i=(t=this.animation)==null?void 0:t.mixer)==null?void 0:i.update)==null||r.call(i,e)}resize(){}}const CA="/assets/SairaSemiCondensed-SemiBold-msdf-e61fd146.json",DA="/assets/SairaSemiCondensed-SemiBold-3ca4228c.png";function wv(n,e,t){return t=t<0?0:t,t=t>1?1:t,n+(e-n)*t}function PA(n,e,t){const i=(t[1]-t[0])/(e[1]-e[0]);return(Math.min(e[1],Math.max(e[0],n))-e[0])*i+t[0]}function bv(n,e,t){return n<e?e:n>t?t:n}function Pm(n,e,t){const i=Math.pow(t||10,e);return Math.round(n*i)/i}function Sv(n,e){return Math.floor(Math.random()*(e-n+1)+n)}var $l={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var u=this||t;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var f=this||t;if(u=parseFloat(u),f.ctx||d(),typeof u<"u"&&u>=0&&u<=1){if(f._volume=u,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(u,t.ctx.currentTime);for(var h=0;h<f._howls.length;h++)if(!f._howls[h]._webAudio)for(var m=f._howls[h]._getSoundIds(),p=0;p<m.length;p++){var g=f._howls[h]._soundById(m[p]);g&&g._node&&(g._node.volume=g._volume*u)}return f}return f._volume},mute:function(u){var f=this||t;f.ctx||d(),f._muted=u,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(u?0:f._volume,t.ctx.currentTime);for(var h=0;h<f._howls.length;h++)if(!f._howls[h]._webAudio)for(var m=f._howls[h]._getSoundIds(),p=0;p<m.length;p++){var g=f._howls[h]._soundById(m[p]);g&&g._node&&(g._node.muted=u?!0:g._muted)}return f},stop:function(){for(var u=this||t,f=0;f<u._howls.length;f++)u._howls[f].stop();return u},unload:function(){for(var u=this||t,f=u._howls.length-1;f>=0;f--)u._howls[f].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,d()),u},codecs:function(u){return(this||t)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||t;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var f=new Audio;f.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||t,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return u}if(!f||typeof f.canPlayType!="function")return u;var h=f.canPlayType("audio/mpeg;").replace(/^no$/,""),m=u._navigator?u._navigator.userAgent:"",p=m.match(/OPR\/(\d+)/g),g=p&&parseInt(p[0].split("/")[1],10)<33,v=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,y=m.match(/Version\/(.*?) /),_=v&&y&&parseInt(y[1],10)<15;return u._codecs={mp3:!!(!g&&(h||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!_&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!_&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||t;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var f=function(h){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,u._releaseHtml5Audio(m)}catch{u.noAudio=!0;break}for(var p=0;p<u._howls.length;p++)if(!u._howls[p]._webAudio)for(var g=u._howls[p]._getSoundIds(),v=0;v<g.length;v++){var y=u._howls[p]._soundById(g[v]);y&&y._node&&!y._node._unlocked&&(y._node._unlocked=!0,y._node.load())}u._autoResume();var _=u.ctx.createBufferSource();_.buffer=u._scratchBuffer,_.connect(u.ctx.destination),typeof _.start>"u"?_.noteOn(0):_.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),_.onended=function(){_.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var x=0;x<u._howls.length;x++)u._howls[x]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),u}},_obtainHtml5Audio:function(){var u=this||t;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var f=this||t;return u._unlocked&&f._html5AudioPool.push(u),f},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!t.usingWebAudio)){for(var f=0;f<u._howls.length;f++)if(u._howls[f]._webAudio){for(var h=0;h<u._howls[f]._sounds.length;h++)if(!u._howls[f]._sounds[h]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var m=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(m,m)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!t.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var f=0;f<u._howls.length;f++)u._howls[f]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var t=new e,i=function(u){var f=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(u)};i.prototype={init:function(u){var f=this;return t.ctx||d(),f._autoplay=u.autoplay||!1,f._format=typeof u.format!="string"?u.format:[u.format],f._html5=u.html5||!1,f._muted=u.mute||!1,f._loop=u.loop||!1,f._pool=u.pool||5,f._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,f._rate=u.rate||1,f._sprite=u.sprite||{},f._src=typeof u.src!="string"?u.src:[u.src],f._volume=u.volume!==void 0?u.volume:1,f._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=u.onend?[{fn:u.onend}]:[],f._onfade=u.onfade?[{fn:u.onfade}]:[],f._onload=u.onload?[{fn:u.onload}]:[],f._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],f._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],f._onpause=u.onpause?[{fn:u.onpause}]:[],f._onplay=u.onplay?[{fn:u.onplay}]:[],f._onstop=u.onstop?[{fn:u.onstop}]:[],f._onmute=u.onmute?[{fn:u.onmute}]:[],f._onvolume=u.onvolume?[{fn:u.onvolume}]:[],f._onrate=u.onrate?[{fn:u.onrate}]:[],f._onseek=u.onseek?[{fn:u.onseek}]:[],f._onunlock=u.onunlock?[{fn:u.onunlock}]:[],f._onresume=[],f._webAudio=t.usingWebAudio&&!f._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var u=this,f=null;if(t.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var h=0;h<u._src.length;h++){var m,p;if(u._format&&u._format[h])m=u._format[h];else{if(p=u._src[h],typeof p!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(p),m||(m=/\.([^.]+)$/.exec(p.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&t.codecs(m)){f=u._src[h];break}}if(!f){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=f,u._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new r(u),u._webAudio&&o(u),u},play:function(u,f){var h=this,m=null;if(typeof u=="number")m=u,u=null;else{if(typeof u=="string"&&h._state==="loaded"&&!h._sprite[u])return null;if(typeof u>"u"&&(u="__default",!h._playLock)){for(var p=0,g=0;g<h._sounds.length;g++)h._sounds[g]._paused&&!h._sounds[g]._ended&&(p++,m=h._sounds[g]._id);p===1?u=null:m=null}}var v=m?h._soundById(m):h._inactiveSound();if(!v)return null;if(m&&!u&&(u=v._sprite||"__default"),h._state!=="loaded"){v._sprite=u,v._ended=!1;var y=v._id;return h._queue.push({event:"play",action:function(){h.play(y)}}),y}if(m&&!v._paused)return f||h._loadQueue("play"),v._id;h._webAudio&&t._autoResume();var _=Math.max(0,v._seek>0?v._seek:h._sprite[u][0]/1e3),x=Math.max(0,(h._sprite[u][0]+h._sprite[u][1])/1e3-_),w=x*1e3/Math.abs(v._rate),T=h._sprite[u][0]/1e3,S=(h._sprite[u][0]+h._sprite[u][1])/1e3;v._sprite=u,v._ended=!1;var b=function(){v._paused=!1,v._seek=_,v._start=T,v._stop=S,v._loop=!!(v._loop||h._sprite[u][2])};if(_>=S){h._ended(v);return}var M=v._node;if(h._webAudio){var E=function(){h._playLock=!1,b(),h._refreshBuffer(v);var N=v._muted||h._muted?0:v._volume;M.gain.setValueAtTime(N,t.ctx.currentTime),v._playStart=t.ctx.currentTime,typeof M.bufferSource.start>"u"?v._loop?M.bufferSource.noteGrainOn(0,_,86400):M.bufferSource.noteGrainOn(0,_,x):v._loop?M.bufferSource.start(0,_,86400):M.bufferSource.start(0,_,x),w!==1/0&&(h._endTimers[v._id]=setTimeout(h._ended.bind(h,v),w)),f||setTimeout(function(){h._emit("play",v._id),h._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?E():(h._playLock=!0,h.once("resume",E),h._clearTimer(v._id))}else{var O=function(){M.currentTime=_,M.muted=v._muted||h._muted||t._muted||M.muted,M.volume=v._volume*t.volume(),M.playbackRate=v._rate;try{var N=M.play();if(N&&typeof Promise<"u"&&(N instanceof Promise||typeof N.then=="function")?(h._playLock=!0,b(),N.then(function(){h._playLock=!1,M._unlocked=!0,f?h._loadQueue():h._emit("play",v._id)}).catch(function(){h._playLock=!1,h._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):f||(h._playLock=!1,b(),h._emit("play",v._id)),M.playbackRate=v._rate,M.paused){h._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||v._loop?h._endTimers[v._id]=setTimeout(h._ended.bind(h,v),w):(h._endTimers[v._id]=function(){h._ended(v),M.removeEventListener("ended",h._endTimers[v._id],!1)},M.addEventListener("ended",h._endTimers[v._id],!1))}catch(C){h._emit("playerror",v._id,C)}};M.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(M.src=h._src,M.load());var V=window&&window.ejecta||!M.readyState&&t._navigator.isCocoonJS;if(M.readyState>=3||V)O();else{h._playLock=!0,h._state="loading";var I=function(){h._state="loaded",O(),M.removeEventListener(t._canPlayEvent,I,!1)};M.addEventListener(t._canPlayEvent,I,!1),h._clearTimer(v._id)}}return v._id},pause:function(u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(u)}}),f;for(var h=f._getSoundIds(u),m=0;m<h.length;m++){f._clearTimer(h[m]);var p=f._soundById(h[m]);if(p&&!p._paused&&(p._seek=f.seek(h[m]),p._rateSeek=0,p._paused=!0,f._stopFade(h[m]),p._node))if(f._webAudio){if(!p._node.bufferSource)continue;typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),f._cleanBuffer(p._node)}else(!isNaN(p._node.duration)||p._node.duration===1/0)&&p._node.pause();arguments[1]||f._emit("pause",p?p._id:null)}return f},stop:function(u,f){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(u)}}),h;for(var m=h._getSoundIds(u),p=0;p<m.length;p++){h._clearTimer(m[p]);var g=h._soundById(m[p]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,h._stopFade(m[p]),g._node&&(h._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&h._clearSound(g._node))),f||h._emit("stop",g._id))}return h},mute:function(u,f){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(u,f)}}),h;if(typeof f>"u")if(typeof u=="boolean")h._muted=u;else return h._muted;for(var m=h._getSoundIds(f),p=0;p<m.length;p++){var g=h._soundById(m[p]);g&&(g._muted=u,g._interval&&h._stopFade(g._id),h._webAudio&&g._node?g._node.gain.setValueAtTime(u?0:g._volume,t.ctx.currentTime):g._node&&(g._node.muted=t._muted?!0:u),h._emit("mute",g._id))}return h},volume:function(){var u=this,f=arguments,h,m;if(f.length===0)return u._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var p=u._getSoundIds(),g=p.indexOf(f[0]);g>=0?m=parseInt(f[0],10):h=parseFloat(f[0])}else f.length>=2&&(h=parseFloat(f[0]),m=parseInt(f[1],10));var v;if(typeof h<"u"&&h>=0&&h<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,f)}}),u;typeof m>"u"&&(u._volume=h),m=u._getSoundIds(m);for(var y=0;y<m.length;y++)v=u._soundById(m[y]),v&&(v._volume=h,f[2]||u._stopFade(m[y]),u._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(h,t.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=h*t.volume()),u._emit("volume",v._id))}else return v=m?u._soundById(m):u._sounds[0],v?v._volume:0;return u},fade:function(u,f,h,m){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"fade",action:function(){p.fade(u,f,h,m)}}),p;u=Math.min(Math.max(0,parseFloat(u)),1),f=Math.min(Math.max(0,parseFloat(f)),1),h=parseFloat(h),p.volume(u,m);for(var g=p._getSoundIds(m),v=0;v<g.length;v++){var y=p._soundById(g[v]);if(y){if(m||p._stopFade(g[v]),p._webAudio&&!y._muted){var _=t.ctx.currentTime,x=_+h/1e3;y._volume=u,y._node.gain.setValueAtTime(u,_),y._node.gain.linearRampToValueAtTime(f,x)}p._startFadeInterval(y,u,f,h,g[v],typeof m>"u")}}return p},_startFadeInterval:function(u,f,h,m,p,g){var v=this,y=f,_=h-f,x=Math.abs(_/.01),w=Math.max(4,x>0?m/x:m),T=Date.now();u._fadeTo=h,u._interval=setInterval(function(){var S=(Date.now()-T)/m;T=Date.now(),y+=_*S,y=Math.round(y*100)/100,_<0?y=Math.max(h,y):y=Math.min(h,y),v._webAudio?u._volume=y:v.volume(y,u._id,!0),g&&(v._volume=y),(h<f&&y<=h||h>f&&y>=h)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,v.volume(h,u._id),v._emit("fade",u._id))},w)},_stopFade:function(u){var f=this,h=f._soundById(u);return h&&h._interval&&(f._webAudio&&h._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(h._interval),h._interval=null,f.volume(h._fadeTo,u),h._fadeTo=null,f._emit("fade",u)),f},loop:function(){var u=this,f=arguments,h,m,p;if(f.length===0)return u._loop;if(f.length===1)if(typeof f[0]=="boolean")h=f[0],u._loop=h;else return p=u._soundById(parseInt(f[0],10)),p?p._loop:!1;else f.length===2&&(h=f[0],m=parseInt(f[1],10));for(var g=u._getSoundIds(m),v=0;v<g.length;v++)p=u._soundById(g[v]),p&&(p._loop=h,u._webAudio&&p._node&&p._node.bufferSource&&(p._node.bufferSource.loop=h,h&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop,u.playing(g[v])&&(u.pause(g[v],!0),u.play(g[v],!0)))));return u},rate:function(){var u=this,f=arguments,h,m;if(f.length===0)m=u._sounds[0]._id;else if(f.length===1){var p=u._getSoundIds(),g=p.indexOf(f[0]);g>=0?m=parseInt(f[0],10):h=parseFloat(f[0])}else f.length===2&&(h=parseFloat(f[0]),m=parseInt(f[1],10));var v;if(typeof h=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,f)}}),u;typeof m>"u"&&(u._rate=h),m=u._getSoundIds(m);for(var y=0;y<m.length;y++)if(v=u._soundById(m[y]),v){u.playing(m[y])&&(v._rateSeek=u.seek(m[y]),v._playStart=u._webAudio?t.ctx.currentTime:v._playStart),v._rate=h,u._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(h,t.ctx.currentTime):v._node&&(v._node.playbackRate=h);var _=u.seek(m[y]),x=(u._sprite[v._sprite][0]+u._sprite[v._sprite][1])/1e3-_,w=x*1e3/Math.abs(v._rate);(u._endTimers[m[y]]||!v._paused)&&(u._clearTimer(m[y]),u._endTimers[m[y]]=setTimeout(u._ended.bind(u,v),w)),u._emit("rate",v._id)}}else return v=u._soundById(m),v?v._rate:u._rate;return u},seek:function(){var u=this,f=arguments,h,m;if(f.length===0)u._sounds.length&&(m=u._sounds[0]._id);else if(f.length===1){var p=u._getSoundIds(),g=p.indexOf(f[0]);g>=0?m=parseInt(f[0],10):u._sounds.length&&(m=u._sounds[0]._id,h=parseFloat(f[0]))}else f.length===2&&(h=parseFloat(f[0]),m=parseInt(f[1],10));if(typeof m>"u")return 0;if(typeof h=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,f)}}),u;var v=u._soundById(m);if(v)if(typeof h=="number"&&h>=0){var y=u.playing(m);y&&u.pause(m,!0),v._seek=h,v._ended=!1,u._clearTimer(m),!u._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=h);var _=function(){y&&u.play(m,!0),u._emit("seek",m)};if(y&&!u._webAudio){var x=function(){u._playLock?setTimeout(x,0):_()};setTimeout(x,0)}else _()}else if(u._webAudio){var w=u.playing(m)?t.ctx.currentTime-v._playStart:0,T=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(T+w*Math.abs(v._rate))}else return v._node.currentTime;return u},playing:function(u){var f=this;if(typeof u=="number"){var h=f._soundById(u);return h?!h._paused:!1}for(var m=0;m<f._sounds.length;m++)if(!f._sounds[m]._paused)return!0;return!1},duration:function(u){var f=this,h=f._duration,m=f._soundById(u);return m&&(h=f._sprite[m._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var u=this,f=u._sounds,h=0;h<f.length;h++)f[h]._paused||u.stop(f[h]._id),u._webAudio||(u._clearSound(f[h]._node),f[h]._node.removeEventListener("error",f[h]._errorFn,!1),f[h]._node.removeEventListener(t._canPlayEvent,f[h]._loadFn,!1),f[h]._node.removeEventListener("ended",f[h]._endFn,!1),t._releaseHtml5Audio(f[h]._node)),delete f[h]._node,u._clearTimer(f[h]._id);var m=t._howls.indexOf(u);m>=0&&t._howls.splice(m,1);var p=!0;for(h=0;h<t._howls.length;h++)if(t._howls[h]._src===u._src||u._src.indexOf(t._howls[h]._src)>=0){p=!1;break}return s&&p&&delete s[u._src],t.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,f,h,m){var p=this,g=p["_on"+u];return typeof f=="function"&&g.push(m?{id:h,fn:f,once:m}:{id:h,fn:f}),p},off:function(u,f,h){var m=this,p=m["_on"+u],g=0;if(typeof f=="number"&&(h=f,f=null),f||h)for(g=0;g<p.length;g++){var v=h===p[g].id;if(f===p[g].fn&&v||!f&&v){p.splice(g,1);break}}else if(u)m["_on"+u]=[];else{var y=Object.keys(m);for(g=0;g<y.length;g++)y[g].indexOf("_on")===0&&Array.isArray(m[y[g]])&&(m[y[g]]=[])}return m},once:function(u,f,h){var m=this;return m.on(u,f,h,1),m},_emit:function(u,f,h){for(var m=this,p=m["_on"+u],g=p.length-1;g>=0;g--)(!p[g].id||p[g].id===f||u==="load")&&(setTimeout((function(v){v.call(this,f,h)}).bind(m,p[g].fn),0),p[g].once&&m.off(u,p[g].fn,p[g].id));return m._loadQueue(u),m},_loadQueue:function(u){var f=this;if(f._queue.length>0){var h=f._queue[0];h.event===u&&(f._queue.shift(),f._loadQueue()),u||h.action()}return f},_ended:function(u){var f=this,h=u._sprite;if(!f._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(f._ended.bind(f,u),100),f;var m=!!(u._loop||f._sprite[h][2]);if(f._emit("end",u._id),!f._webAudio&&m&&f.stop(u._id,!0).play(u._id),f._webAudio&&m){f._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=t.ctx.currentTime;var p=(u._stop-u._start)*1e3/Math.abs(u._rate);f._endTimers[u._id]=setTimeout(f._ended.bind(f,u),p)}return f._webAudio&&!m&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,f._clearTimer(u._id),f._cleanBuffer(u._node),t._autoSuspend()),!f._webAudio&&!m&&f.stop(u._id,!0),f},_clearTimer:function(u){var f=this;if(f._endTimers[u]){if(typeof f._endTimers[u]!="function")clearTimeout(f._endTimers[u]);else{var h=f._soundById(u);h&&h._node&&h._node.removeEventListener("ended",f._endTimers[u],!1)}delete f._endTimers[u]}return f},_soundById:function(u){for(var f=this,h=0;h<f._sounds.length;h++)if(u===f._sounds[h]._id)return f._sounds[h];return null},_inactiveSound:function(){var u=this;u._drain();for(var f=0;f<u._sounds.length;f++)if(u._sounds[f]._ended)return u._sounds[f].reset();return new r(u)},_drain:function(){var u=this,f=u._pool,h=0,m=0;if(!(u._sounds.length<f)){for(m=0;m<u._sounds.length;m++)u._sounds[m]._ended&&h++;for(m=u._sounds.length-1;m>=0;m--){if(h<=f)return;u._sounds[m]._ended&&(u._webAudio&&u._sounds[m]._node&&u._sounds[m]._node.disconnect(0),u._sounds.splice(m,1),h--)}}},_getSoundIds:function(u){var f=this;if(typeof u>"u"){for(var h=[],m=0;m<f._sounds.length;m++)h.push(f._sounds[m]._id);return h}else return[u]},_refreshBuffer:function(u){var f=this;return u._node.bufferSource=t.ctx.createBufferSource(),u._node.bufferSource.buffer=s[f._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,t.ctx.currentTime),f},_cleanBuffer:function(u){var f=this,h=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return f;if(t._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),h))try{u.bufferSource.buffer=t._scratchBuffer}catch{}return u.bufferSource=null,f},_clearSound:function(u){var f=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);f||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(u){this._parent=u,this.init()};r.prototype={init:function(){var u=this,f=u._parent;return u._muted=f._muted,u._loop=f._loop,u._volume=f._volume,u._rate=f._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++t._counter,f._sounds.push(u),u.create(),u},create:function(){var u=this,f=u._parent,h=t._muted||u._muted||u._parent._muted?0:u._volume;return f._webAudio?(u._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),u._node.gain.setValueAtTime(h,t.ctx.currentTime),u._node.paused=!0,u._node.connect(t.masterGain)):t.noAudio||(u._node=t._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(t._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=f._src,u._node.preload=f._preload===!0?"auto":f._preload,u._node.volume=h*t.volume(),u._node.load()),u},reset:function(){var u=this,f=u._parent;return u._muted=f._muted,u._loop=f._loop,u._volume=f._volume,u._rate=f._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++t._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,f=u._parent;f._duration=Math.ceil(u._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),u._node.removeEventListener(t._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,f=u._parent;f._duration===1/0&&(f._duration=Math.ceil(u._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var s={},o=function(u){var f=u._src;if(s[f]){u._duration=s[f].duration,c(u);return}if(/^data:[^;]+;base64,/.test(f)){for(var h=atob(f.split(",")[1]),m=new Uint8Array(h.length),p=0;p<h.length;++p)m[p]=h.charCodeAt(p);l(m.buffer,u)}else{var g=new XMLHttpRequest;g.open(u._xhr.method,f,!0),g.withCredentials=u._xhr.withCredentials,g.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(v){g.setRequestHeader(v,u._xhr.headers[v])}),g.onload=function(){var v=(g.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}l(g.response,u)},g.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete s[f],u.load())},a(g)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,f){var h=function(){f._emit("loaderror",null,"Decoding audio data failed.")},m=function(p){p&&f._sounds.length>0?(s[f._src]=p,c(f,p)):h()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(u).then(m).catch(h):t.ctx.decodeAudioData(u,m,h)},c=function(u,f){f&&!u._duration&&(u._duration=f.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},d=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),f=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=f?parseInt(f[1],10):null;if(u&&h&&h<9){var m=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!m&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=i,typeof Rn<"u"?(Rn.HowlerGlobal=e,Rn.Howler=t,Rn.Howl=i,Rn.Sound=r):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=i,window.Sound=r)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var r=i._howls.length-1;r>=0;r--)i._howls[r].stereo(t);return i},HowlerGlobal.prototype.pos=function(t,i,r){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(i=typeof i!="number"?s._pos[1]:i,r=typeof r!="number"?s._pos[2]:r,typeof t=="number")s._pos=[t,i,r],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,i,r,s,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var c=l._orientation;if(i=typeof i!="number"?c[1]:i,r=typeof r!="number"?c[2]:r,s=typeof s!="number"?c[3]:s,o=typeof o!="number"?c[4]:o,a=typeof a!="number"?c[5]:a,typeof t=="number")l._orientation=[t,i,r,s,o,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(t,i,r,s,o,a);else return c;return l},Howl.prototype.init=function(t){return function(i){var r=this;return r._orientation=i.orientation||[1,0,0],r._stereo=i.stereo||null,r._pos=i.pos||null,r._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},r._onstereo=i.onstereo?[{fn:i.onstereo}]:[],r._onpos=i.onpos?[{fn:i.onpos}]:[],r._onorientation=i.onorientation?[{fn:i.onorientation}]:[],t.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,i){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(t,i)}}),r;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof t=="number")r._stereo=t,r._pos=[t,0,0];else return r._stereo;for(var o=r._getSoundIds(i),a=0;a<o.length;a++){var l=r._soundById(o[a]);if(l)if(typeof t=="number")l._stereo=t,l._pos=[t,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(t,0,0):l._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",l._id);else return l._stereo}return r},Howl.prototype.pos=function(t,i,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,i,r,s)}}),o;if(i=typeof i!="number"?0:i,r=typeof r!="number"?-.5:r,typeof s>"u")if(typeof t=="number")o._pos=[t,i,r];else return o._pos;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof t=="number")c._pos=[t,i,r],c._node&&((!c._panner||c._panner.pan)&&e(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(t,i,r)),o._emit("pos",c._id);else return c._pos}return o},Howl.prototype.orientation=function(t,i,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,i,r,s)}}),o;if(i=typeof i!="number"?o._orientation[1]:i,r=typeof r!="number"?o._orientation[2]:r,typeof s>"u")if(typeof t=="number")o._orientation=[t,i,r];else return o._orientation;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var c=o._soundById(a[l]);if(c)if(typeof t=="number")c._orientation=[t,i,r],c._node&&(c._panner||(c._pos||(c._pos=o._pos||[0,0,-.5]),e(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(t,i,r)),o._emit("orientation",c._id);else return c._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,i=arguments,r,s,o;if(!t._webAudio)return t;if(i.length===0)return t._pannerAttr;if(i.length===1)if(typeof i[0]=="object")r=i[0],typeof s>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),t._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(i[0],10)),o?o._pannerAttr:t._pannerAttr;else i.length===2&&(r=i[0],s=parseInt(i[1],10));for(var a=t._getSoundIds(s),l=0;l<a.length;l++)if(o=t._soundById(a[l]),o){var c=o._pannerAttr;c={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:c.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:c.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:c.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:c.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:c.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:c.panningModel};var d=o._panner;d||(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,"spatial"),d=o._panner),d.coneInnerAngle=c.coneInnerAngle,d.coneOuterAngle=c.coneOuterAngle,d.coneOuterGain=c.coneOuterGain,d.distanceModel=c.distanceModel,d.maxDistance=c.maxDistance,d.refDistance=c.refDistance,d.rolloffFactor=c.rolloffFactor,d.panningModel=c.panningModel}return t},Sound.prototype.init=function(t){return function(){var i=this,r=i._parent;i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,t.call(this),i._stereo?r.stereo(i._stereo):i._pos&&r.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var i=this,r=i._parent;return i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,i._stereo?r.stereo(i._stereo):i._pos?r.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,r._refreshBuffer(i)),t.call(this)}}(Sound.prototype.reset);var e=function(t,i){i=i||"spatial",i==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})($l);class l5{constructor(){q(this,"mdP");q(this,"mdL");q(this,"lg");q(this,"xl");this.mdP=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--md-p"),10),this.mdL=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--md-l"),10),this.lg=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--lg"),10),this.xl=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--xl"),10)}}const Kt=new l5;var LA={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new r(d,u||l,f),m=t?t+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)e.call(d,u)&&c.push(t?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=t?t+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,h=u.length,m=new Array(h);f<h;f++)m[f]=u[f].fn;return m},a.prototype.listenerCount=function(c){var d=t?t+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,f,h,m){var p=t?t+c:c;if(!this._events[p])return!1;var g=this._events[p],v=arguments.length,y,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,u),!0;case 4:return g.fn.call(g.context,d,u,f),!0;case 5:return g.fn.call(g.context,d,u,f,h),!0;case 6:return g.fn.call(g.context,d,u,f,h,m),!0}for(_=1,y=new Array(v-1);_<v;_++)y[_-1]=arguments[_];g.fn.apply(g.context,y)}else{var x=g.length,w;for(_=0;_<x;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),v){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,u);break;case 4:g[_].fn.call(g[_].context,d,u,f);break;default:if(!y)for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];g[_].fn.apply(g[_].context,y)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,f){var h=t?t+c:c;if(!this._events[h])return this;if(!d)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===d&&(!f||m.once)&&(!u||m.context===u)&&o(this,h);else{for(var p=0,g=[],v=m.length;p<v;p++)(m[p].fn!==d||f&&!m[p].once||u&&m[p].context!==u)&&g.push(m[p]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=t?t+c:c,this._events[d]&&o(this,d)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(LA);var u5=LA.exports;const Hw=rs(u5);var pl;(function(n){n.onBeforeTick="onBeforeTick",n.tick="tick",n.onAfterTick="onAfterTick"})(pl||(pl={}));class Lm{constructor(e,t){this.timestamp=e,this.delta=t}}class gt{static initialize(){this._dispatcher==null&&(this._dispatcher=new Hw,gt.onTick(performance.now()))}static reset(){this._dispatcher.removeAllListeners(),this._dispatcher=null,this._dispatcher=new Hw,gt.onTick(performance.now())}static addListener(e,t){this._dispatcher.on(e,t)}static hasListener(e,t){return this._dispatcher.listeners(e).includes(t)}static removeListener(e,t){this._dispatcher.removeListener(e,t)}static emit(e,t){this._dispatcher.emit(e,t)}}gt.on=gt.addListener;gt.addEventListener=gt.addListener;gt.hasEventListener=gt.hasListener;gt.off=gt.removeListener;gt.removeEventListener=gt.removeListener;gt.onTick=n=>{gt._lastUpdateTimestamp==null&&(gt._lastUpdateTimestamp=n);const e=n-gt._lastUpdateTimestamp;gt.emit(pl.onBeforeTick,new Lm(n,e)),gt.emit(pl.tick,new Lm(n,e)),gt.emit(pl.onAfterTick,new Lm(n,e)),gt._lastUpdateTimestamp=n,gt._id=requestAnimationFrame(gt.onTick)};gt.initialize();class $r{constructor(e,t){const i=$r.getModel(t);this.type=e,this.model=i,e===Ft.SELECT&&(this.isSelected=$r.getSelection(i))}static getModel(e){return"model"in e?e.model:e}static getSelection(e){if("selection"in e)return e.selection;throw new Error("選択可能なボタン以外を引数にして、SELECTイベントをインスタンス化しました。SELECTイベントはISelectableObject3Dを実装したクラスとともにインスタンス化してください。")}clone(){return new $r(this.type,this.model)}}var Ft;(function(n){n.CLICK="THREE_MOUSE_EVENT_CLICK",n.OVER="THREE_MOUSE_EVENT_OVER",n.OUT="THREE_MOUSE_EVENT_OUT",n.DOWN="THREE_MOUSE_EVENT_DOWN",n.UP="THREE_MOUSE_EVENT_UP",n.SELECT="THREE_MOUSE_EVENT_SELECT"})(Ft||(Ft={}));class Ww{static getCanvasHeight(e){const t=e.style;return t.width&&t.height?parseInt(t.height):window.devicePixelRatio!=null?e.height/window.devicePixelRatio:e.height}static getCanvasWidth(e){const t=e.style;return t.width&&t.height?parseInt(t.width):window.devicePixelRatio!=null?e.width/window.devicePixelRatio:e.width}static convertToRectangle(e,t){const i=this.getCanvasHeight(e);return{x1:t.x,x2:t.x+t.width,y1:i-(t.y+t.height),y2:i-t.y}}static isContain(e,t,i){if(t==null)return!0;const r=this.convertToRectangle(e,t);return i.offsetX>=r.x1&&i.offsetX<=r.x2&&i.offsetY>=r.y1&&i.offsetY<=r.y2}static convertToMousePosition(e,t,i,r){const{x:s,y:o}=this.getMousePosition(e,t,i);return r?(r.set(s,o),r):new Le(s,o)}static getMousePosition(e,t,i){return i?this.getViewportMousePosition(e,t,i):this.getCanvasMousePosition(e,t)}static getCanvasMousePosition(e,t){const i=t.offsetX/this.getCanvasWidth(e)*2-1,r=-(t.offsetY/this.getCanvasHeight(e))*2+1;return{x:i,y:r}}static getViewportMousePosition(e,t,i){const r=this.convertToRectangle(e,i),s=t.offsetX-r.x1,o=t.offsetY-r.y1,a=r.x2-r.x1,l=r.y2-r.y1,c=s/a*2-1,d=-(o/l)*2+1;return{x:c,y:d}}}class tl{constructor(e,t,i,r){var s,o,a;this.raycaster=new VU,this.mouse=new Le,this.hasThrottled=!1,this.throttlingDelta=0,this.onTick=l=>{this.throttlingDelta+=l.delta,!(this.throttlingDelta<this.throttlingTime_ms)&&(this.hasThrottled=!1,this.throttlingDelta%=this.throttlingTime_ms)},this.onDocumentMouseMove=l=>{if(this.hasThrottled)return;this.hasThrottled=!0,l.preventDefault();const c=this.getIntersects(l);if(c.length===0){this.clearOver();return}const d=this.currentOver;this.currentOver=[];for(let u of c)if(this.checkTarget(u.object,Ft.OVER))break;d==null||d.forEach(u=>{this.currentOver.includes(u)||tl.onButtonHandler(u,Ft.OUT)})},this.onDocumentMouseUpDown=l=>{let c=Ft.DOWN;switch(l.type){case"mousedown":c=Ft.DOWN;break;case"mouseup":c=Ft.UP;break}if(!Ww.isContain(this.canvas,this.viewport,l)&&c===Ft.DOWN)return;l.preventDefault();const d=this.getIntersects(l);this.checkIntersects(d,c)},this.camera=t,this.scene=e,this.throttlingTime_ms=(s=r==null?void 0:r.throttlingTime_ms)!==null&&s!==void 0?s:33,this.viewport=r==null?void 0:r.viewport,this.recursive=(o=r==null?void 0:r.recursive)!==null&&o!==void 0?o:!0,this.targets=(a=r==null?void 0:r.targets)!==null&&a!==void 0?a:this.scene.children,this.canvas=i,i.addEventListener("mousemove",this.onDocumentMouseMove,!1),i.addEventListener("mousedown",this.onDocumentMouseUpDown,!1),i.addEventListener("mouseup",this.onDocumentMouseUpDown,!1),gt.on(pl.tick,this.onTick)}clearOver(){var e;(e=this.currentOver)===null||e===void 0||e.forEach(t=>{tl.onButtonHandler(t,Ft.OUT)}),this.currentOver=null}checkIntersects(e,t){const i=e.length;if(i!==0)for(let r=0;r<i&&!this.checkTarget(e[r].object,t);r++);}static onButtonHandler(e,t){switch(t){case Ft.DOWN:e.model.onMouseDownHandler(new $r(t,e));return;case Ft.UP:e.model.onMouseUpHandler(new $r(t,e));return;case Ft.OVER:e.model.isOver||e.model.onMouseOverHandler(new $r(t,e));return;case Ft.OUT:e.model.isOver&&e.model.onMouseOutHandler(new $r(t,e));return}}static implementsIClickableObject3D(e){return e!==null&&typeof e=="object"&&e.model!==null&&typeof e.model=="object"&&e.model.mouseEnabled!==null&&typeof e.model.mouseEnabled=="boolean"}checkTarget(e,t,i=!1){return tl.implementsIClickableObject3D(e)&&e.model.mouseEnabled===!0?(t===Ft.OVER&&this.currentOver.push(e),tl.onButtonHandler(e,t),this.checkTarget(e.parent,t,!0)):e.parent!=null&&e.parent.type!=="Scene"?this.checkTarget(e.parent,t,i):i}getIntersects(e){return Ww.convertToMousePosition(this.canvas,e,this.viewport,this.mouse),this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.intersectObjects(this.targets,this.recursive)}}var ti;(function(n){n.NORMAL="normal",n.OVER="normal_over",n.DOWN="normal_down",n.DISABLE="disable"})(ti||(ti={}));class c5{constructor(e){var t;this._isPress=!1,this._isOver=!1,this._enable=!0,this.mouseEnabled=!0,this.frozen=!1,this.state=ti.NORMAL,this._alpha=1,this.view=e.view,(t=this._materialSet)!==null&&t!==void 0||(this._materialSet=e.material),this.updateMaterial()}get materialSet(){return this._materialSet}set materialSet(e){const t=e===this._materialSet;this._materialSet=e,t||this.updateMaterial()}get isOver(){return this._isOver}get isPress(){return this._isPress}onMouseDownHandler(e){this.checkActivity()&&(this._isPress=!0,this.updateState(ti.DOWN),this.view.dispatchEvent(e))}onMouseUpHandler(e){if(!this.checkActivity())return;const t=this._isPress;this._isPress=!1;const i=this._isOver?ti.OVER:ti.NORMAL;if(this.updateState(i),this.view.dispatchEvent(e),this._isPress!=t){this.onMouseClick();let r=new $r(Ft.CLICK,this);this.view.dispatchEvent(r)}}onMouseClick(){}onMouseOverHandler(e){this.onMouseOverOutHandler(e)}onMouseOutHandler(e){this.onMouseOverOutHandler(e)}onMouseOverOutHandler(e){this.checkActivity()&&(this._isOver=e.type===Ft.OVER,this.updateState(this._isOver?ti.OVER:ti.NORMAL),this.view.dispatchEvent(e))}set alpha(e){this._alpha=e,this.updateMaterial()}updateState(e){this.state=e,this.updateMaterial()}checkActivity(){return this._enable&&!this.frozen}enable(){this.switchEnable(!0)}disable(){this.switchEnable(!1)}updateMaterial(){var e,t;(e=this._materialSet)===null||e===void 0||e.setOpacity(this._alpha);const i=(t=this._materialSet)===null||t===void 0?void 0:t.getMaterial(this.state,this._enable);if(i)switch(this.view.type){case"Mesh":case"Sprite":this.view.material=i.material;break}}switchEnable(e){this._enable=e,this.state=e?ti.NORMAL:ti.DISABLE,this.updateMaterial()}}class f5 extends Rt{constructor(e,t){super(e.geo),this.model=new t({view:this,material:e.material})}}class d5 extends f5{constructor(e){super(e,c5)}}class Gw{constructor(e){this.alpha=1,this.material=e}updateAlpha(){this._material instanceof Array?this.alphaArray=this.getAlphaArray():this.alpha=this._material.opacity}getAlphaArray(){const e=this._material,t=e.length,i=[];for(let r=0;r<t;r++)i.push(e[r].opacity);return i}set material(e){this._material=e,this.updateAlpha()}get material(){return this._material}setOpacity(e){if(this._material instanceof Array){const t=this._material.length;for(let i=0;i<t;i++){const r=this._material[i];r.opacity=e*this.alphaArray[i]}}else this._material.opacity=e*this.alpha}}class gs{constructor(e){this.normal=new Gw(e.normal),this.over=gs.initMaterial(e.over,this.normal),this.down=gs.initMaterial(e.down,this.normal),this.disable=gs.initMaterial(e.disable,this.normal),this.normalSelect=gs.initMaterial(e.normalSelect,this.normal),this.overSelect=gs.initMaterial(e.overSelect,this.normal),this.downSelect=gs.initMaterial(e.downSelect,this.normal),this.init()}static initMaterial(e,t){return e==null?t:new Gw(e)}init(){if(this.normal==null)throw new Error("通常状態のマテリアルが指定されていません。");this.materials=[this.normal,this.normalSelect,this.over,this.overSelect,this.down,this.downSelect,this.disable]}getMaterial(e,t,i=!1){if(!t)return this.disable;switch(e){case ti.NORMAL:return i?this.normalSelect:this.normal;case ti.DOWN:return i?this.downSelect:this.down;case ti.OVER:return i?this.overSelect:this.over}return this.normal}setOpacity(e){this.materials.forEach(t=>{t.setOpacity(e)})}}var RA={exports:{}};(function(n){var e=/\n/,t=`
`,i=/\s/;n.exports=function(c,d){var u=n.exports.lines(c,d);return u.map(function(f){return c.substring(f.start,f.end)}).join(`
`)},n.exports.lines=function(d,u){if(u=u||{},u.width===0&&u.mode!=="nowrap")return[];d=d||"";var f=typeof u.width=="number"?u.width:Number.MAX_VALUE,h=Math.max(0,u.start||0),m=typeof u.end=="number"?u.end:d.length,p=u.mode,g=u.measure||l;return p==="pre"?o(g,d,h,m,f):a(g,d,h,m,f,p)};function r(c,d,u,f){var h=c.indexOf(d,u);return h===-1||h>f?f:h}function s(c){return i.test(c)}function o(c,d,u,f,h){for(var m=[],p=u,g=u;g<f&&g<d.length;g++){var v=d.charAt(g),y=e.test(v);if(y||g===f-1){var _=y?g:g+1,x=c(d,p,_,h);m.push(x),p=g+1}}return m}function a(c,d,u,f,h,m){var p=[],g=h;for(m==="nowrap"&&(g=Number.MAX_VALUE);u<f&&u<d.length;){for(var v=r(d,t,u,f);u<v&&s(d.charAt(u));)u++;var y=c(d,u,v,g),_=u+(y.end-y.start),x=_+t.length;if(_<v){for(;_>u&&!s(d.charAt(_));)_--;if(_===u)x>u+t.length&&x--,_=x;else for(x=_;_>u&&s(d.charAt(_-t.length));)_--}if(_>=u){var w=c(d,u,_,g);p.push(w)}u=x}return p}function l(c,d,u,f){var h=Math.min(f,u-d);return{start:d,end:d+h}}})(RA);var h5=RA.exports;const p5=rs(h5),$w=["x","e","a","o","n","s","r","c","u","m","v","w","z"],Xw=["m","w"],qw=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],Yw="	".charCodeAt(0),yu=" ".charCodeAt(0),m5=0,OA=1,kA=2;class g5{constructor(e={}){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}get width(){return this._width}get height(){return this._height}get descender(){return this._descender}get ascender(){return this._ascender}get xHeight(){return this._xHeight}get baseline(){return this._baseline}get capHeight(){return this._capHeight}get lineHeight(){return this._lineHeight}get linesTotal(){return this._linesTotal}get lettersTotal(){return this._lettersTotal}get wordsTotal(){return this._wordsTotal}update(e){if(e=Object.assign({measure:this._measure},e),this._options=e,this._options.tabSize=Zw(this._options.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");const t=this.glyphs,i=e.text==="TCMG"?"Java Dev":e.text,r=e.font;this._setupSpaceGlyphs(r);const s=p5.lines(i,e),o=e.width||0,a=i.split(" ").filter(x=>x!==`
`).length,l=i.split("").filter(x=>x!==`
`&&x!==" ").length;t.length=0;const c=s.reduce(function(x,w){return Math.max(x,w.width,o)},0);let d=0,u=0;const f=Zw(e.lineHeight,r.common.lineHeight),h=r.common.base,m=f-h,p=e.letterSpacing||0,g=f*s.length-m,v=w5(this._options.align);u-=g,this._width=c,this._height=g,this._descender=f-h,this._baseline=h,this._xHeight=_5(r),this._capHeight=x5(r),this._lineHeight=f,this._ascender=f-m-this._xHeight;let y=0,_=0;s.forEach((x,w)=>{const T=x.start,S=x.end,b=x.width,E=i.slice(T,S).split(" ").filter(C=>C!=="").length,O=i.slice(T,S).split(" ").join("").length;let V=0,I=0,N;for(let C=T;C<S;C++){const B=i.charCodeAt(C),H=this.getGlyph(r,B);if(H){N&&(d+=Jw(r,N.id,H.id));let P=d;v===OA?P+=(c-b)/2:v===kA&&(P+=c-b),t.push({position:[P,u],data:H,index:C,linesTotal:s.length,lineIndex:w,lineLettersTotal:O,lineLetterIndex:V,lineWordsTotal:E,lineWordIndex:I,wordsTotal:a,wordIndex:y,lettersTotal:l,letterIndex:_}),H.id===yu&&N.id!==yu&&(I++,y++),H.id!==yu&&(V++,_++),d+=H.xadvance+p,N=H}}u+=f,d=0}),this._lettersTotal=l,this._wordsTotal=a,this._linesTotal=s.length}getGlyph(e,t){const i=Kw(e,t);return i||(t===Yw?this._fallbackTabGlyph:t===yu?this._fallbackSpaceGlyph:null)}computeMetrics(e,t,i,r){const s=this._options.letterSpacing||0,o=this._options.font;let a=0,l=0,c=0,d,u;if(!o.chars||o.chars.length===0)return{start:t,end:t,width:0};i=Math.min(e.length,i);for(let f=t;f<i;f++){const h=e.charCodeAt(f);if(d=this.getGlyph(o,h),d){d.char=e[f],d.xoffset;const m=u?Jw(o,u.id,d.id):0;a+=m;const p=a+d.xadvance+s,g=a+d.width;if(g>=r||p>=r)break;a=p,l=g,u=d}c++}return u&&(l+=u.xoffset),{start:t,end:t+c,width:l}}_setupSpaceGlyphs(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,!e.chars||e.chars.length===0)return;const t=Kw(e,yu)||y5(e)||e.chars[0],i=this._options.tabSize*t.xadvance;this._fallbackSpaceGlyph=t;const r=Object.assign({},t);this._fallbackTabGlyph=Object.assign(r,{x:0,y:0,xadvance:i,id:Yw,xoffset:0,yoffset:0,width:0,height:0})}}function v5(n){return new g5(n)}function Kw(n,e){if(!n.chars||n.chars.length===0)return null;const t=Zh(n.chars,e);return t>=0?n.chars[t]:null}function _5(n){for(let e=0;e<$w.length;e++){const t=$w[e].charCodeAt(0),i=Zh(n.chars,t);if(i>=0)return n.chars[i].height}return 0}function y5(n){for(let e=0;e<Xw.length;e++){const t=Xw[e].charCodeAt(0),i=Zh(n.chars,t);if(i>=0)return n.chars[i]}return 0}function x5(n){for(let e=0;e<qw.length;e++){const t=qw[e].charCodeAt(0),i=Zh(n.chars,t);if(i>=0)return n.chars[i].height}return 0}function Jw(n,e,t){if(!n.kernings||n.kernings.length===0)return 0;const i=n.kernings;for(let r=0;r<i.length;r++){const s=i[r];if(s.first===e&&s.second===t)return s.amount}return 0}function w5(n){return n==="center"?OA:n==="right"?kA:m5}function Zh(n,e,t){t=t||0;for(let i=t;i<n.length;i++)if(n[i].id===e)return i;return-1}function Zw(n,e){return typeof n=="number"?n:typeof e=="number"?e:0}const Rm=2,Nt={min:[0,0],max:[0,0]};function IA(n){const e=n.length/Rm;Nt.min[0]=n[0],Nt.min[1]=n[1],Nt.max[0]=n[0],Nt.max[1]=n[1];for(let t=0;t<e;t++){const i=n[t*Rm+0],r=n[t*Rm+1];Nt.min[0]=Math.min(i,Nt.min[0]),Nt.min[1]=Math.min(r,Nt.min[1]),Nt.max[0]=Math.max(i,Nt.max[0]),Nt.max[1]=Math.max(r,Nt.max[1])}}function b5(n,e){return IA(n),e.min.set(Nt.min[0],Nt.min[1],0),e.max.set(Nt.max[0],Nt.max[1],0),e}function S5(n,e){IA(n);const t=Nt.min[0],i=Nt.min[1],r=Nt.max[0],s=Nt.max[1],o=r-t,a=s-i,l=Math.sqrt(o*o+a*a);e.center.set(t+o/2,i+a/2,0),e.radius=l/2}const Qw={computeBox:b5,computeSphere:S5};function M5(n){const e=new Float32Array(n.length*4*1);let t=0;return n.forEach(function(i){const r=i.data.page||0;e[t++]=r,e[t++]=r,e[t++]=r,e[t++]=r}),e}function T5(n,e,t,i,r){const s=new Float32Array(n.length*4*2),o=new Float32Array(n.length*4*2),a=new Float32Array(n.length*4*2),l=new Float32Array(n.length*4*2);let c=0,d=0,u=0,f=0;return n.forEach(function(h){const m=h.data,p=m.x+m.width,g=m.y+m.height,v=m.x/e;let y=m.y/t;const _=p/e;let x=g/t;i&&(y=(t-m.y)/t,x=(t-g)/t),s[c++]=v,s[c++]=y,s[c++]=v,s[c++]=x,s[c++]=_,s[c++]=x,s[c++]=_,s[c++]=y,o[f++]=h.position[0]/r.width,o[f++]=(h.position[1]+r.height)/r.height,o[f++]=h.position[0]/r.width,o[f++]=(h.position[1]+r.height+m.height)/r.height,o[f++]=(h.position[0]+m.width)/r.width,o[f++]=(h.position[1]+r.height+m.height)/r.height,o[f++]=(h.position[0]+m.width)/r.width,o[f++]=(h.position[1]+r.height)/r.height;const w=h.position[0]+m.xoffset,T=h.position[1]+m.yoffset,S=m.width,b=m.height;a[d++]=w,a[d++]=T,a[d++]=w,a[d++]=T+b,a[d++]=w+S,a[d++]=T+b,a[d++]=w+S,a[d++]=T,l[u++]=w+S/2,l[u++]=T+b/2,l[u++]=w+S/2,l[u++]=T+b/2,l[u++]=w+S/2,l[u++]=T+b/2,l[u++]=w+S/2,l[u++]=T+b/2}),{uvs:s,layoutUvs:o,positions:a,centers:l}}function E5(n,e){const t=new Float32Array(n.length*4),i=new Float32Array(n.length*4),r=new Float32Array(n.length*4),s=new Float32Array(n.length*4),o=new Float32Array(n.length*4),a=new Float32Array(n.length*4),l=new Float32Array(n.length*4),c=new Float32Array(n.length*4),d=new Float32Array(n.length*4),u=new Float32Array(n.length*4);let f=0,h=0,m=0,p=0,g=0,v=0,y=0,_=0,x=0,w=0;for(let T=0;T<n.length;T++){const S=n[T];t[f++]=S.linesTotal,t[f++]=S.linesTotal,t[f++]=S.linesTotal,t[f++]=S.linesTotal,i[h++]=S.lineIndex,i[h++]=S.lineIndex,i[h++]=S.lineIndex,i[h++]=S.lineIndex,r[m++]=S.lineLettersTotal,r[m++]=S.lineLettersTotal,r[m++]=S.lineLettersTotal,r[m++]=S.lineLettersTotal,s[p++]=S.lineLetterIndex,s[p++]=S.lineLetterIndex,s[p++]=S.lineLetterIndex,s[p++]=S.lineLetterIndex,o[g++]=S.lineWordsTotal,o[g++]=S.lineWordsTotal,o[g++]=S.lineWordsTotal,o[g++]=S.lineWordsTotal,a[v++]=S.lineWordIndex,a[v++]=S.lineWordIndex,a[v++]=S.lineWordIndex,a[v++]=S.lineWordIndex,l[y++]=S.wordsTotal,l[y++]=S.wordsTotal,l[y++]=S.wordsTotal,l[y++]=S.wordsTotal,c[_++]=S.wordIndex,c[_++]=S.wordIndex,c[_++]=S.wordIndex,c[_++]=S.wordIndex,d[x++]=S.lettersTotal,d[x++]=S.lettersTotal,d[x++]=S.lettersTotal,d[x++]=S.lettersTotal,u[w++]=S.letterIndex,u[w++]=S.letterIndex,u[w++]=S.letterIndex,u[w++]=S.letterIndex}return{linesTotal:t,lineIndex:i,lineLettersTotal:r,lineLetterIndex:s,lineWordsTotal:o,lineWordIndex:a,wordsTotal:l,wordIndex:c,lettersTotal:d,letterIndex:u}}const Om={pages:M5,attributes:T5,infos:E5};var A5=function(n){switch(n){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}},C5=Object.prototype.toString,D5=P5;function P5(n){return n.BYTES_PER_ELEMENT&&C5.call(n.buffer)==="[object ArrayBuffer]"||Array.isArray(n)}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var L5=function(n){return n!=null&&(FA(n)||R5(n)||!!n._isBuffer)};function FA(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function R5(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&FA(n.slice(0,0))}var O5=A5,k5=D5,I5=L5,F5=[0,2,3],N5=[2,1,3],z5=function(e,t){(!e||!(k5(e)||I5(e)))&&(t=e||{},e=null),typeof t=="number"?t={count:t}:t=t||{};for(var i=typeof t.type=="string"?t.type:"uint16",r=typeof t.count=="number"?t.count:1,s=t.start||0,o=t.clockwise!==!1?F5:N5,a=o[0],l=o[1],c=o[2],d=r*6,u=e||new(O5(i))(d),f=0,h=0;f<d;f+=6,h+=4){var m=f+s;u[m+0]=h+0,u[m+1]=h+1,u[m+2]=h+2,u[m+3]=h+a,u[m+4]=h+l,u[m+5]=h+c}return u};const B5=rs(z5);class Mv extends qn{constructor(e){super(),typeof e=="string"&&(e={text:e}),this._options=Object.assign({},e),this._layout=null,this._visibleGlyphs=[],this.update(this._options)}get layout(){return this._layout}get visibleGlyphs(){return this._visibleGlyphs}update(e){if(e=this._validateOptions(e),!e)return;this._layout=v5(e);const t=e.flipY!==!1,i=e.font,r=i.common.scaleW,s=i.common.scaleH,o=this._layout.glyphs.filter(d=>{const u=d.data;return u.width*u.height>0});this._visibleGlyphs=o;const a=Om.attributes(o,r,s,t,this._layout),l=Om.infos(o,this._layout),c=B5([],{clockwise:!0,type:"uint16",count:o.length});if(this.setIndex(c),this.setAttribute("position",new it(a.positions,2)),this.setAttribute("center",new it(a.centers,2)),this.setAttribute("uv",new it(a.uvs,2)),this.setAttribute("layoutUv",new it(a.layoutUvs,2)),this.setAttribute("lineIndex",new it(l.lineIndex,1)),this.setAttribute("lineLettersTotal",new it(l.lineLettersTotal,1)),this.setAttribute("lineLetterIndex",new it(l.lineLetterIndex,1)),this.setAttribute("lineWordsTotal",new it(l.lineWordsTotal,1)),this.setAttribute("lineWordIndex",new it(l.lineWordIndex,1)),this.setAttribute("wordIndex",new it(l.wordIndex,1)),this.setAttribute("letterIndex",new it(l.letterIndex,1)),!e.multipage&&"page"in this.attributes)this.deleteAttribute("page");else if(e.multipage){const d=Om.pages(o);this.setAttribute("page",new it(d,1))}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fa);const e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2){this.boundingSphere.radius=0,this.boundingSphere.center.set(0,0,0);return}Qw.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ca);const e=this.boundingBox,t=this.attributes.position.array,i=this.attributes.position.itemSize;if(!t||!i||t.length<2){e.makeEmpty();return}return Qw.computeBox(t,e)}_validateOptions(e){if(typeof e=="string"&&(e={text:e}),e=Object.assign({},this._options,e),!e.font)throw new TypeError("must specify a { font } in options");return e}}const ml={common:{uOpacity:{value:1},uColor:{value:new Ie("#ffffff")},uMap:{value:null}},rendering:{uThreshold:{value:.05},uAlphaTest:{value:.01}},strokes:{uStrokeColor:{value:new Ie("#ff0000")},uStrokeOutsetWidth:{value:0},uStrokeInsetWidth:{value:.3}}},U5=`attribute vec2 layoutUv;\r
\r
attribute float lineIndex;\r
\r
attribute float lineLettersTotal;\r
attribute float lineLetterIndex;\r
\r
attribute float lineWordsTotal;\r
attribute float lineWordIndex;\r
\r
attribute float wordIndex;\r
\r
attribute float letterIndex;\r
`,j5=`varying vec2 vUv;\r
varying vec2 vLayoutUv;\r
varying vec3 vViewPosition;\r
varying vec3 vNormal;\r
\r
varying float vLineIndex;\r
\r
varying float vLineLettersTotal;\r
varying float vLineLetterIndex;\r
\r
varying float vLineWordsTotal;\r
varying float vLineWordIndex;\r
\r
varying float vWordIndex;\r
\r
varying float vLetterIndex;\r
`,V5=`// Output\r
vec4 mvPosition = vec4(position, 1.0);\r
mvPosition = modelViewMatrix * mvPosition;\r
gl_Position = projectionMatrix * mvPosition;\r
\r
// Varyings\r
vUv = uv;\r
vLayoutUv = layoutUv;\r
vViewPosition = -mvPosition.xyz;\r
vNormal = normal;\r
\r
vLineIndex = lineIndex;\r
\r
vLineLettersTotal = lineLettersTotal;\r
vLineLetterIndex = lineLetterIndex;\r
\r
vLineWordsTotal = lineWordsTotal;\r
vLineWordIndex = lineWordIndex;\r
\r
vWordIndex = wordIndex;\r
\r
vLetterIndex = letterIndex;\r
`,H5=`float median(float r, float g, float b) {\r
    return max(min(r, g), min(max(r, g), b));\r
}\r
`,W5=`// Texture sample\r
vec3 s = texture2D(uMap, vUv).rgb;\r
\r
// Signed distance\r
float sigDist = median(s.r, s.g, s.b) - 0.5;\r
\r
float afwidth = 1.4142135623730951 / 2.0;\r
\r
#ifdef IS_SMALL\r
    float alpha = smoothstep(uThreshold - afwidth, uThreshold + afwidth, sigDist);\r
#else\r
    float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);\r
#endif\r
`,G5=`// Uniforms\r
uniform float uOpacity;\r
uniform float uThreshold;\r
uniform float uAlphaTest;\r
uniform vec3 uColor;\r
uniform sampler2D uMap;\r
`,$5=`// Outset\r
float sigDistOutset = sigDist + uStrokeOutsetWidth * 0.5;\r
\r
// Inset\r
float sigDistInset = sigDist - uStrokeInsetWidth * 0.5;\r
\r
#ifdef IS_SMALL\r
    float outset = smoothstep(uThreshold - afwidth, uThreshold + afwidth, sigDistOutset);\r
    float inset = 1.0 - smoothstep(uThreshold - afwidth, uThreshold + afwidth, sigDistInset);\r
#else\r
    float outset = clamp(sigDistOutset / fwidth(sigDistOutset) + 0.5, 0.0, 1.0);\r
    float inset = 1.0 - clamp(sigDistInset / fwidth(sigDistInset) + 0.5, 0.0, 1.0);\r
#endif\r
\r
// Border\r
float border = outset * inset;\r
`,X5=`// Strokes\r
uniform vec3 uStrokeColor;\r
uniform float uStrokeOutsetWidth;\r
uniform float uStrokeInsetWidth;\r
`,q5=`// Alpha test\r
if (alpha < uAlphaTest) discard;\r
`,Y5=`// Output\r
vec4 filledFragColor = vec4(uColor, uOpacity * alpha);\r
\r
gl_FragColor = filledFragColor;\r
`,K5=`// Output\r
vec4 strokedFragColor = vec4(uStrokeColor, uOpacity * border);\r
\r
gl_FragColor = strokedFragColor;\r
`,eb={three_msdf_attributes:U5,three_msdf_varyings:j5,three_msdf_vertex:V5,three_msdf_median:H5,three_msdf_common:W5,three_msdf_common_uniforms:G5,three_msdf_strokes:$5,three_msdf_strokes_uniforms:X5,three_msdf_alpha_test:q5,three_msdf_common_output:Y5,three_msdf_strokes_output:K5};for(const n in eb)je[n]=eb[n];class NA extends as{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ra(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){const l=s.parse(JSON.parse(a));t&&t(l)},i,r)}parse(e){return new J5(e)}}class J5{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=Z5(e,t,this.data);for(let s=0,o=r.length;s<o;s++)i.push(...r[s].toShapes());return i}}function Z5(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,o=[];let a=0,l=0;for(let c=0;c<i.length;c++){const d=i[c];if(d===`
`)a=0,l-=s;else{const u=Q5(d,r,a,l,t);a+=u.offsetX,o.push(u.path)}}return o}function Q5(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new HU;let a,l,c,d,u,f,h,m;if(s.o){const p=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let g=0,v=p.length;g<v;)switch(p[g++]){case"m":a=p[g++]*e+t,l=p[g++]*e+i,o.moveTo(a,l);break;case"l":a=p[g++]*e+t,l=p[g++]*e+i,o.lineTo(a,l);break;case"q":c=p[g++]*e+t,d=p[g++]*e+i,u=p[g++]*e+t,f=p[g++]*e+i,o.quadraticCurveTo(u,f,c,d);break;case"b":c=p[g++]*e+t,d=p[g++]*e+i,u=p[g++]*e+t,f=p[g++]*e+i,h=p[g++]*e+t,m=p[g++]*e+i,o.bezierCurveTo(u,f,h,m,c,d);break}}return{offsetX:s.ha*e,path:o}}const ej=`
  uniform vec2 iOffset;

  varying vec2 vUv;
  varying vec2 vOffset;

  float M_PI = 3.141529;

  vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset){
    position.x = position.x + (sin(uv.y * M_PI) * offset.x);
    position.y = position.y + (sin(uv.x * M_PI) * offset.y);
    return position;
  }

  void main() {
    vUv = uv;
    vOffset = iOffset;
    vec3 newPosition = deformationCurve(position, uv, iOffset);
    gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);
  }
`,tj=`
  precision mediump float;
    
  uniform float iFactor;
  uniform sampler2D iChannel0;
  uniform sampler2D iChannel1;
  uniform vec3 iColorOuter;
  uniform vec3 iColorInner;

  varying vec2 vOffset;
  varying vec2 vUv;

  vec3 rgbShift(sampler2D textureimage, vec2 uv, vec2 offset ){
    float r = texture2D(textureimage, uv + offset).r;
    vec2 gb = texture2D(textureimage, uv).gb;
    return vec3(r, gb);
  }

  void main() {
    vec3 pixel = vec3(0);
      
    float height = texture(iChannel1, vUv).r;

    pixel = rgbShift(iChannel0, vUv, vOffset).rgb;
      
    float condition_if_1 = step(height, sin(iFactor - 0.04));
    float condition_if_2 = step(height, sin(iFactor - 0.02));
    float condition_if_3 = step(height, sin(iFactor));

    // Burned layers
    pixel = pixel * (1. - condition_if_1) + vec3(iColorOuter) * condition_if_1;
    pixel = pixel * (1. - condition_if_2) + vec3(iColorInner) * condition_if_2;
    // Black layer
    pixel = pixel * (1. - condition_if_3);

    vec4 reveal = vec4(0.0);

    // Transparency on black layer
    if (pixel == vec3(0)) {
      reveal = vec4(pixel, 0.0);
    } else {
      reveal = vec4(pixel, 1.0);
    }

    gl_FragColor = reveal;
  }
`,zA=`
  // Attribute
  #include <three_msdf_attributes>

  // Varyings
  #include <three_msdf_varyings>

  void main() {
      #include <three_msdf_vertex>
  }
`,BA=`
  // Varyings
  #include <three_msdf_varyings>

  // Uniforms
  #include <three_msdf_common_uniforms>
  #include <three_msdf_strokes_uniforms>

  // Utils
  #include <three_msdf_median>

  uniform float uProgress1;
  uniform float uProgress2;
  uniform float uProgress3;
  uniform float uProgress4;
  uniform float uProgress5;
  uniform float uProgress6;
  uniform float uProgress7;
  uniform float uDirection;

  float rand(float n){return fract(sin(n) * 43758.5453123);}

  float rand(vec2 n) { 
    return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);
  }

  float noise(float p){
    float fl = floor(p);
    float fc = fract(p);
    return mix(rand(fl), rand(fl + 1.0), fc);
  }
    
  float noise(vec2 n) {
    const vec2 d = vec2(0.0, 1.0);
    vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));
    return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);
  }

  float map(float value, float min1, float max1, float min2, float max2) {
    return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
  }

  float progress(float uvaxe, float progress_, float pattern, float fadeWidth) {
    float p_ = map(progress_, 0.0, 1.0, -fadeWidth, 1.0);
    p_ = smoothstep(p_, p_ + fadeWidth, uvaxe);
    float mix1 = 2.0 * p_ - pattern;
    return clamp(mix1, 0.0, 1.0); 
  }

  void main() {
    // Common
    #include <three_msdf_common>

    // Strokes
    #include <three_msdf_strokes>

    // Alpha Test
    // #include <three_msdf_alpha_test>

    // Outputs
    #include <three_msdf_strokes_output>

    vec3 pink = vec3(0.834, 0.066, 0.780);
    vec3 blue = vec3(0.282,0.616,0.933);
    vec3 darkBlue = vec3(0.,0.039,0.827);
    vec3 darkGray = vec3(0.118,0.118,0.118);
    vec3 white = vec3(1.0, 1.0, 1.0);

    // Effects
    vec4 l1 = vec4(white, border * uOpacity);
    vec4 l2 = vec4(white, outset * uOpacity);
    vec4 l3 = vec4(darkBlue, outset * uOpacity);
    vec4 l4 = vec4(white, border * 0.6 * uOpacity);
    vec4 l5 = vec4(darkBlue, border * uOpacity);
    vec4 l6 = vec4(darkBlue, outset * uOpacity);
    vec4 l7 = vec4(white, outset * uOpacity);

    // Noise pattern
    float x = floor(vLayoutUv.x * 10. * 1.8);
    float y = floor(vLayoutUv.y * 10.);
    float pattern = noise(vec2(x, y));

    // Reveal
    float mix1 = progress(vLayoutUv.x, uProgress1, pattern, 0.7);
    float mix2 = progress(vLayoutUv.x, uProgress2, pattern, 0.7);
    float mix3 = progress(vLayoutUv.x, uProgress3, pattern, 0.7);
    float mix4 = progress(vLayoutUv.x, uProgress4, pattern, 0.7);

    // Menu
    float d = uDirection == 0.0 ? vLayoutUv.y : uDirection - vLayoutUv.y;
    float mix5 = progress(d, uProgress5, pattern, 0.7);
    float mix6 = progress(d, uProgress6, pattern, 0.7);
    float mix7 = progress(d, uProgress7, pattern, 0.7);

    vec4 layer1 = mix(vec4(0.0), l1, 1.0 - mix1);
    vec4 layer2 = mix(layer1, l2, 1.0 - mix2);
    vec4 layer3 = mix(layer2, l3, 1.0 - mix3);
    vec4 layer4 = mix(layer3, l4, 1.0 - mix4);
    vec4 layer5 = mix(layer4, l5, 1.0 - mix5);
    vec4 layer6 = mix(layer5, l6, 1.0 - mix6);
    vec4 layer7 = mix(layer6, l7, 1.0 - mix7);

    gl_FragColor = layer7;
  }
`;let nj=class{constructor(){q(this,"experience");q(this,"scene");q(this,"world");q(this,"resources");q(this,"debug");q(this,"time");q(this,"sizes");q(this,"debugFolder");q(this,"group");q(this,"groupPosition");q(this,"items");q(this,"captions");q(this,"snapshots");q(this,"debugObject");q(this,"material");q(this,"camera");q(this,"howls");q(this,"manager");q(this,"projects");q(this,"scrollBoundaries");q(this,"screenSizes");q(this,"xPosition");q(this,"scrollOffset");q(this,"isVisible");q(this,"visibleItemIndex");q(this,"scrollHandler",()=>{this.xPosition=PA(window.scrollY,this.scrollBoundaries,[this.debugObject.offsetX,-this.projects.length-1])});var i;this.isVisible=!1,this.scrollBoundaries=[0,0],this.xPosition=0,this.scrollOffset=0,this.visibleItemIndex=-1,this.snapshots=[],this.experience=new dn,this.resources=this.experience.resources,this.scene=this.experience.scene,this.world=this.experience.world,this.sizes=this.experience.sizes,this.time=this.experience.time,this.camera=this.experience.world.cameraOnPath.camera,this.camera&&this.experience.renderer.canvas&&(this.manager=new tl(this.scene,this.camera,this.experience.renderer.canvas));const e=4;this.howls=[];for(let r=1;r<=e;r++)this.howls.push(new $l.Howl({src:[`/audio/bell${r}.mp3`],volume:1}));this.projects=[{name:"Sketchin",url:"sketchin",video:document.getElementById("skReel")},{name:"AQuest",url:"aquest",video:document.getElementById("aqReel")},{name:"Fastweb",url:"fastweb",video:document.getElementById("fbReel")},{name:"Feudi",url:"feudi",video:document.getElementById("feudiReel")},{name:"Claraluna",url:"claraluna",video:document.getElementById("claralunaReel")}],this.debug=this.experience.debug,this.debug.active&&(this.debugFolder=(i=this.debug.ui)==null?void 0:i.addFolder("Portfolio").close()),this.debugObject={offsetX:1.9,offsetY:-.039,offsetZ:-1,iColorOuter:new Ie(4354037),iColorInner:new Ie(13229554)},this.setItems(),this.setCaptions(),this.screenSizes=this.getScreenSizes(),new ro().addListener(this.stateChangeHandler.bind(this))}stateChangeHandler(e,t){const i=e.section.current,r=t.section.current;i!==r&&i==="portfolio"&&this.enterAnimation(),i!==r&&r==="portfolio"&&this.leaveAnimation();const s=e.menu.open,o=t.menu.open;s&&!o&&this.openMenuAnimation(),!s&&o&&this.closeMenuAnimation()}setItems(){this.group=new Cs,this.group.name="portfolio";const{offsetX:e,offsetY:t,offsetZ:i}=this.debugObject;this.group.position.set(e,t,i),this.items=[];for(let r=0;r<this.projects.length;r++){const s=new da(.7,.5,12,12),{video:o,name:a,url:l}=this.projects[r];o.play();const c={iFactor:{value:2},iChannel0:{value:new kB(o)},iChannel1:{value:this.resources.items.noise},iColorOuter:{value:this.debugObject.iColorOuter},iColorInner:{value:this.debugObject.iColorInner},iOffset:{value:new Le(.01,.01)}},d=new gs({normal:new Sn({transparent:!0,uniforms:c,vertexShader:ej,fragmentShader:tj})}),u=new d5({geo:s,material:d});u.castShadow=!1,u.receiveShadow=!1,u.name=a,u.pathname=l,u.position.set(r*1.1,0,-.5),u.rotation.set(Math.PI/4,Math.PI/-8,0),u.addEventListener(Ft.CLICK,f=>{this.isVisible&&Vd(f.model.view.pathname)}),u.addEventListener(Ft.OVER,()=>{window.store.dispatch.pointer.setType("hover");const f=Sv(1,this.howls.length-1);this.howls[f]&&this.howls[f].play()}),u.addEventListener(Ft.OUT,()=>{window.store.dispatch.pointer.setType("default")}),this.group.add(u),this.items[r]=u}this.setScale(),this.camera.add(this.group),this.debug.active&&this.debugFolder&&(this.debugFolder.add(this.debugObject,"offsetY").min(-5).max(5).step(.001).onChange(()=>{this.group.position.y=this.debugObject.offsetY}),this.debugFolder.add(this.debugObject,"offsetZ").min(-5).max(5).step(.001).onChange(()=>{this.group.position.z=this.debugObject.offsetZ}),this.debugFolder.addColor(this.debugObject,"iColorOuter").onChange(r=>{for(const s of this.items)s.material.uniforms.iColorOuter.value=new Ie(r)}),this.debugFolder.addColor(this.debugObject,"iColorInner").onChange(r=>{for(const s of this.items)s.material.uniforms.iColorInner.value=new Ie(r)}))}setCaptions(){const e=[this.loadFontAtlas(DA),this.loadFont(CA)];return this.captions=[],Promise.all(e).then(([t,i])=>{const r=i.data;for(let s=0;s<this.items.length;s++){const o=new Mv({text:this.items[s].name,font:r}),a=new Sn({side:la,transparent:!0,defines:{IS_SMALL:!1},extensions:{derivatives:!0},uniforms:{...ml.common,...ml.rendering,...ml.strokes,uOpacity:{value:1},uStrokeOutsetWidth:{value:.1},uStrokeInsetWidth:{value:0},uProgress1:{value:1},uProgress2:{value:0},uProgress3:{value:0},uProgress4:{value:0},uProgress5:{value:0},uDirection:{value:1}},vertexShader:zA,fragmentShader:BA});a.uniforms.uMap.value=t;const l=new Rt(o,a);l.rotation.x=Math.PI,this.captions[s]=l,this.group.add(l)}this.positionCaptions()})}positionCaptions(){const e=this.group.children.filter(t=>t.geometry instanceof Mv);for(let t=0;t<e.length;t++){const i=e[t];this.sizes.width>=Kt.mdL?(i.scale.set(.004,.004,.004),i.position.set(t*1.1-.1,-.27,.1)):(i.scale.set(.0015,.0015,.0015),i.position.set(t*.5-.1,-.1,.1))}}enterAnimation(){this.isVisible=!0;for(let e=0;e<this.items.length;e++)this.items[e].visible=this.isVisible,this.captions[e].visible=this.isVisible;this.setBoundaries(),this.scrollHandler(),window.addEventListener("scroll",this.scrollHandler)}revealItem(e){if(!this.items[e])return;const t=3,i=.3,r="power3.out";ge.to(this.items[e].position,{z:0,duration:t,delay:i,ease:r}),ge.to(this.items[e].rotation,{x:0,y:0,duration:t,delay:i,ease:r}),ge.to(this.items[e].material.uniforms.iFactor,{value:3.2,duration:t,delay:i,ease:r})}openMenuAnimation(){for(let e=0;e<this.items.length;e++){const t=this.items[e],i=this.captions[e],r=t.material,s=i.material;this.snapshots.push({position:t.position,rotation:t.rotation,iFactor:r.uniforms.iFactor.value>2?3.2:2}),ge.killTweensOf(r.uniforms.iFactor,"value"),ge.killTweensOf(s.uniforms.uOpacity,"value"),ge.to(r.uniforms.iFactor,{value:2,duration:1.5,ease:"power3.out"}),ge.to(s.uniforms.uOpacity,{value:0,duration:1.5,ease:"power3.out"})}}closeMenuAnimation(){window.store.getState().menu.index!==1&&(this.leaveAnimation(),requestAnimationFrame(()=>{this.scrollHandler(),ge.killTweensOf(this.group.position,"x"),this.group.position.x=this.xPosition}));for(let i=0;i<this.items.length;i++){const r=this.items[i],s=this.captions[i],o=r.material,a=s.material;ge.killTweensOf(o.uniforms.iFactor,"value"),ge.killTweensOf(a.uniforms.uOpacity,"value"),ge.to(o.uniforms.iFactor,{value:this.snapshots[i].iFactor,duration:1.5,ease:"power3.inOut"}),ge.to(a.uniforms.uOpacity,{value:1,duration:1.5,ease:"power3.inOut"})}this.snapshots=[]}restoreItems(){}leaveAnimation(){this.isVisible=!1;for(let e=0;e<this.items.length;e++)this.items[e].visible=this.isVisible,this.captions[e].visible=this.isVisible;this.restoreItems(),window.removeEventListener("scroll",this.scrollHandler)}openProjectAnimation(){const t=window.comingLocation.pathname.split("/")[1],i=this.items.find(o=>o.pathname===t);if(!i)throw new Error("Project not found");Ll.disablePageScroll(),this.scene.attach(i),this.camera.updateMatrixWorld();const r=.5,s=new W(0,0,-r);s.applyMatrix4(this.camera.matrixWorld),ge.to(i.position,{x:s.x,y:s.y,z:s.z,duration:1,ease:"power4.in"}),ge.to(i.rotation,{x:this.camera.rotation.x,y:this.camera.rotation.y,z:this.camera.rotation.z,duration:1,ease:"power4.in"})}closeProjectAnimation(){const e=window.currentLocation.pathname.split("/")[1],t=this.items.findIndex(r=>r.pathname===e),i=this.items[t];if(!i)throw new Error("Project not found");this.group.attach(i),this.camera.updateMatrixWorld(),ge.to(i.position,{x:t*1.1,y:0,z:0,delay:.7,ease:"power4.inOut",duration:1.4}),ge.to(i.rotation,{x:0,y:0,z:0,delay:.7,ease:"power4.inOut",duration:1.4,onComplete:()=>{Ll.enablePageScroll()}})}setScale(){for(let e=0;e<this.items.length;e++){const t=this.items[e];if(this.sizes.width>=Kt.mdL)t.scale.set(1,1,1),t.position.x=e*1.1;else{const i=this.items[e];i.scale.set(.4,.4,.4),i.position.x=e*.5}}}setBoundaries(){const e=document.getElementById("card-container");if(e){const t=e.offsetTop+this.sizes.height+this.sizes.height*.5,i=t+e.clientHeight+this.sizes.height*.5;this.scrollBoundaries=[t,i]}}loadFontAtlas(e){return new Promise(i=>{new Yh().load(e,i)})}loadFont(e){return new Promise(i=>{new NA().load(e,i)})}getScreenSizes(){const e=Wh.degToRad(this.camera.fov),t=2*Math.tan(e/2)*Math.abs(this.debugObject.offsetZ);return{screenWidth:t*this.camera.aspect,screenHeight:t}}update(){if(!this.isVisible)return;const e=window.scrollY;this.scrollOffset=wv(this.scrollOffset,e,.1);const t=(e-this.scrollOffset)*2e-4;let i=0;for(const r of this.items)r.material.uniforms.iOffset.value.set(-t,0),this.group.position.x+i*(this.sizes.width>=Kt.mdL?1.1:.5)<this.screenSizes.screenWidth&&this.visibleItemIndex<i&&(this.visibleItemIndex=i,this.revealItem(i)),i++;ge.to(this.group.position,{x:this.xPosition,duration:1})}resize(){this.setScale(),this.setBoundaries(),this.positionCaptions()}};class ij{constructor(){q(this,"experience");q(this,"scene");q(this,"sizes");q(this,"renderer");q(this,"appReady");q(this,"points");q(this,"vertices");q(this,"camera");q(this,"cameraHelper");q(this,"curvePath");q(this,"percentage");q(this,"bodyHeight");q(this,"menuOpen");q(this,"snapshot");q(this,"lookAt");this.experience=new dn,this.scene=this.experience.scene,this.sizes=this.experience.sizes,this.renderer=this.experience.renderer,this.menuOpen=!1,this.snapshot={sectionId:"hero",lookAt:new W,position:new W},this.appReady=!1,this.points=[[2.250452756881714,-.6193802356719971,5.541167736053467],[2.6620843410491943,.11057017743587494,5.301249980926514],[2.516335964202881,.9883434176445007,5.428454399108887],[4.733654975891113,1.1559828519821167,5.421966552734375],[3.7817535400390625,-.07272994518280029,5.208369731903076],[2.1067583560943604,-.5117961764335632,5.110057830810547],[.6217780113220215,-.49705809354782104,4.89720344543457],[.13143301010131836,.1222834587097168,4.743571758270264],[.5761919021606445,-.29803839325904846,4.895688533782959],[1.8171645402908325,-.40591803193092346,5.022176742553711]],this.vertices=[],this.lookAt={current:new W(0,3.2,0),body:new W(0,3,0),portfolio:new W(0,2.7,0),about:new W(0,3,.5),menu:new W(2,2,-1)},this.percentage=0,this.setCamera(),this.setPath(),new ro().addListener(this.stateChangeHandler.bind(this))}stateChangeHandler(e,t){if(e.app.ready!==t.app.ready){this.appReady=e.app.ready;const i=this.vertices.length-1;ge.to(this.camera.position,{x:this.vertices[i].x,y:this.vertices[i].y,z:this.vertices[i].z,duration:3.5,ease:"power3.inOut"}),ge.to(this.lookAt.current,{y:this.lookAt.body.y,duration:3.5,ease:"power3.inOut"})}if(e.scroll!==t.scroll&&(this.bodyHeight=window.document.body.clientHeight-this.sizes.height),e.menu.open!==t.menu.open)if(ge.killTweensOf(this.camera.position,"x,y,z"),ge.killTweensOf(this.lookAt.current,"x,y,z"),e.menu.open)this.snapshot={sectionId:e.section.current,position:this.camera.position.clone(),lookAt:this.lookAt.current.clone()},this.menuOpen=!0,ge.to(this.camera.position,{x:6,y:5,z:6,duration:3,ease:"power4.out"}),ge.to(this.lookAt.current,{x:this.lookAt.menu.x,y:this.lookAt.menu.y,z:this.lookAt.menu.z,duration:3,ease:"power4.out"});else{let i,r;const s=e.section.sections[e.menu.index].id;if(s===this.snapshot.sectionId)i=this.snapshot.position,r=this.snapshot.lookAt;else{const a=1-e.section.boundaries[e.menu.index].start/(this.bodyHeight||0);this.percentage=bv(a,0,1),i=this.curvePath.getPointAt(this.percentage),s==="about"?r=this.lookAt.about:s==="portfolio"?r=this.lookAt.portfolio:r=this.lookAt.body}ge.to(this.camera.position,{x:i.x,y:i.y,z:i.z,duration:3,ease:"power3.out",onComplete:()=>{this.menuOpen=!1}}),ge.to(this.lookAt.current,{x:r.x,y:r.y,z:r.z,duration:3,ease:"power3.out"})}if(e.section.current!==t.section.current){ge.killTweensOf(this.lookAt.current,"y,z");const i=1,r="power2.inOut";switch(e.section.current){case"about":ge.to(this.lookAt.current,{y:this.lookAt.about.y,z:this.lookAt.about.z,duration:i,ease:r});break;case"portfolio":ge.to(this.lookAt.current,{y:this.lookAt.portfolio.y,duration:i,ease:r});break;default:ge.to(this.lookAt.current,{y:this.lookAt.body.y,z:this.lookAt.body.z,duration:i,ease:r});break}}}setCamera(){const{width:e,height:t}=this.sizes;this.camera=new Ln(45,e/t,.01,10),this.camera.position.set(0,3.41,.23),this.camera.lookAt(this.lookAt.current),this.scene.add(this.camera)}setPath(){for(let s=0;s<this.points.length;s++){const o=this.points[s][0]-1.5,a=this.points[s][1]-1.2,l=this.points[s][2]-2.5;this.vertices[s]=new W(o,l,-a)}this.curvePath=new hA(this.vertices);const e=.1,t=new v_(this.curvePath,50,e,10,!1),i=new vr({wireframe:h1,visible:h1,transparent:!0,opacity:0}),r=new Rt(t,i);this.scene.add(r)}update(){if(this.appReady&&(this.camera.updateProjectionMatrix(),this.camera.lookAt(this.lookAt.current),this.bodyHeight&&!this.menuOpen)){this.percentage=bv(1-window.scrollY/this.bodyHeight,0,1);const e=this.curvePath.getPointAt(this.percentage),t=Pm(e.x+window.cursorNormalized.x*.2,6,10),i=Pm(e.y+window.cursorNormalized.y*.2,6,10),r=Pm(e.z,6,10);(this.camera.position.x!==t||this.camera.position.y!==i||this.camera.position.z!==r)&&ge.to(this.camera.position,{x:t,y:i,z:r,duration:1})}}resize(){this.bodyHeight=window.document.body.clientHeight-this.sizes.height;const{width:e,height:t}=this.sizes;this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}}const rj=`
  uniform sampler2D uTexture;
  uniform vec2 uOffset;
  varying vec2 vUv;

  float M_PI = 3.141529;

  vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset){
      position.x = position.x + (sin(uv.y * M_PI) * offset.x);
      position.y = position.y + (sin(uv.x * M_PI) * offset.y);
      return position;
  }

  void main(){
      vUv = uv;
      vec3 newPosition = deformationCurve(position, uv, uOffset);
      gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);
  }
`,sj=`
  uniform sampler2D uTexture;
  uniform float uAlpha;
  uniform vec2 uOffset;
  varying vec2 vUv;

  vec3 rgbShift(sampler2D textureimage, vec2 uv, vec2 offset){
      float r = texture2D(textureimage, uv + offset).r;
      vec2 gb = texture2D(textureimage, uv).gb;
      return vec3(r, gb);
  }

  void main(){
      // vec3 color = texture2D(uTexture, vUv).rgb;
      vec3 color = rgbShift(uTexture, vUv, uOffset * 5.0);
      gl_FragColor = vec4(color, uAlpha);
  }
`;let oj=class{constructor(e){q(this,"settings");q(this,"experience");q(this,"scene");q(this,"resources");q(this,"time");q(this,"camera");q(this,"geometry");q(this,"material");q(this,"mesh");q(this,"isVisible");q(this,"cursorOffset");this.experience=new dn,this.scene=this.experience.scene,this.resources=this.experience.resources,this.settings=e,this.cursorOffset={x:0,y:0},this.isVisible=!1,this.time=this.experience.time,this.camera=this.experience.world.cameraOnPath.camera,new ro().addListener(this.stateChangeHandler.bind(this)),this.setGeometry(),this.setMaterials(),this.setMesh()}stateChangeHandler(e,t){const i=this.settings.name,r=e.images[i],s=t.images[i];if(!r||!s)return;const o=r.hover,a=s.hover;o&&o!==a?(ge.killTweensOf(this.material.uniforms.uAlpha),this.isVisible=!0,ge.to(this.material.uniforms.uAlpha,{value:1,duration:.3})):!o&&o!==a&&ge.to(this.material.uniforms.uAlpha,{value:0,duration:.3,onInterrupt:()=>{this.isVisible=!1},onComplete:()=>{this.isVisible=!1}})}setGeometry(){const[e,t]=this.settings.sizes;this.geometry=new da(e/10,t/10,12,12)}setMaterials(){this.material=new Sn({vertexShader:rj,fragmentShader:sj,transparent:!0,uniforms:{uTexture:{value:this.resources.items[this.settings.name]},uAlpha:{value:0},uOffset:{value:new Le(0,0)}}})}setMesh(){this.mesh=new Rt(this.geometry,this.material),this.mesh.position.z=-.5,this.camera.add(this.mesh)}resize(){}update(){if(this.cursorOffset.x=wv(this.cursorOffset.x,window.cursor.x,.1),this.cursorOffset.y=wv(this.cursorOffset.y,window.cursor.y,.1),!this.isVisible)return;const e={x:(window.cursor.x-this.cursorOffset.x)*2e-4,y:(window.cursor.y-this.cursorOffset.y)*-2e-4};this.material.uniforms.uOffset.value.set(e.x,e.y),this.mesh.position.set(window.cursorNormalized.x*.5,window.cursorNormalized.y*-.5,-.5)}};class aj{constructor(e){q(this,"settings");q(this,"experience");q(this,"scene");q(this,"sizes");q(this,"debug");q(this,"camera");q(this,"material");q(this,"mesh");q(this,"scale");q(this,"debugFolder");q(this,"debugObject");q(this,"yTop");q(this,"yBottom");q(this,"yOffset");q(this,"_pageYPosition");q(this,"isVisible");q(this,"isMenuOpen");q(this,"depth");var i;this.settings=e,this.experience=new dn,this.scene=this.experience.scene,this.sizes=this.experience.sizes,this.camera=this.experience.world.cameraOnPath.camera,this.isVisible=!1,this.isMenuOpen=!1,this.depth=-4.5,this._pageYPosition=1/0,this.debug=this.experience.debug,this.debug.active&&(this.debugFolder=(i=this.debug.ui)==null?void 0:i.addFolder(`Title ${this.settings.text}`).close()),this.debugObject={progress1:0,progress2:0,progress3:0,progress4:0,progress5:0,enterFromLeft:this.enterFromLeft.bind(this),enterFromTop:this.enterFromTop.bind(this),enterFromBottom:this.enterFromBottom.bind(this),leaveToTop:this.leaveToTop.bind(this),leaveToBottom:this.leaveToBottom.bind(this),reset:this.reset.bind(this)},window.addEventListener("scroll",this.positionItem.bind(this)),new ro().addListener(this.stateChangeHandler.bind(this)),this.setScale(),this.setTitle().then(()=>{setTimeout(()=>{this.setYBoundaries(),this.positionItem(),this.enterFromLeft()},1500)})}set pageYPosition(e){this._pageYPosition=e,this.positionItem()}stateChangeHandler(e,t){const i=e.menu.index,r=t.menu.index,s=this.settings.itemIndex;i!==r&&(i===s&&r<s&&this.enterFromTop(),i===s&&r>s&&this.enterFromBottom(),i<s&&r===s&&this.leaveToTop(),i>s&&r===s&&this.leaveToBottom())}setYBoundaries(){var a;const{screenHeight:e}=this.getScreenSizes(),i=(((a=this.mesh.geometry.layout)==null?void 0:a.height)||0)*this.scale/2;this.yTop=e*.5+i,this.yBottom=e*-.5-i*2;let r=105;this.sizes.width>=Kt.lg?r=145:this.sizes.width>=Kt.mdL&&(r=125);const s=e/2-i/2,o=e*r/this.sizes.height;this.yOffset=s-o}setScale(){this.scale=.012,this.sizes.width>=Kt.mdL&&(this.scale=.03)}menuOpen(e){var b;const{height:t}=this.sizes,{screenHeight:i}=this.getScreenSizes(),s=(((b=this.mesh.geometry.layout)==null?void 0:b.height)||0)*this.scale,o=s/2;this.isMenuOpen=!0,ge.to(this.mesh.scale,{x:this.scale/1.5,y:this.scale/1.5,z:this.scale/1.5,duration:.3,ease:"expo.inOut"});let a=145;this.sizes.width>=Kt.lg?a=195:this.sizes.width>=Kt.mdL&&(a=175);const l=i/2-o/2,c=i*a/t,d=l-c,u=50;let f=155;this.sizes.width>=Kt.lg&&(f=200);const h=f*2;let m=this.sizes.height*.8-h;this.sizes.width>=Kt.mdL&&(m=this.sizes.height-h);const g=(u*2+m)*i/t,y=window.store.getState().section.boundaries.length-1,x=s/3/y*e,T=g/y*e-x,S=d-T;ge.to(this.mesh.position,{y:S,duration:1,ease:"power3.out"})}menuClose(){const{y:e}=this.getPositionInfo();ge.to(this.mesh.scale,{x:this.scale,y:this.scale,duration:.3,ease:"expo.inOut"}),ge.to(this.mesh.position,{y:e,duration:1,ease:"expo.inOut",onComplete:()=>{this.isMenuOpen=!1}})}enterFromLeft(){if(!this.material)return;const e=4,t=.2,i=ge.timeline(),r="expo.out";i.to(this.material.uniforms.uProgress1,{value:1,duration:e,ease:r}),i.to(this.material.uniforms.uProgress2,{value:1,duration:e,ease:r},t),i.to(this.material.uniforms.uProgress3,{value:1,duration:e,ease:r},t*2),i.to(this.material.uniforms.uProgress4,{value:1,duration:e,ease:r},t*3)}enterFromTop(){if(!this.material)return;const e=2,t=.1,i="expo.out";this.material.uniforms.uDirection.value=0,ge.killTweensOf(this.material.uniforms.uProgress5,"value"),ge.killTweensOf(this.material.uniforms.uProgress6,"value"),ge.killTweensOf(this.material.uniforms.uProgress7,"value"),ge.to(this.material.uniforms.uProgress5,{value:1,duration:e,ease:i}),ge.to(this.material.uniforms.uProgress6,{value:1,duration:e,delay:t,ease:i}),ge.to(this.material.uniforms.uProgress7,{value:1,duration:e,delay:t*2,ease:i})}enterFromBottom(){if(!this.material)return;const e=2,t=.1,i="expo.out";this.material.uniforms.uDirection.value=1,ge.killTweensOf(this.material.uniforms.uProgress5,"value"),ge.killTweensOf(this.material.uniforms.uProgress6,"value"),ge.killTweensOf(this.material.uniforms.uProgress7,"value"),ge.to(this.material.uniforms.uProgress5,{value:1,duration:e,ease:i}),ge.to(this.material.uniforms.uProgress6,{value:1,duration:e,delay:t,ease:i}),ge.to(this.material.uniforms.uProgress7,{value:1,duration:e,delay:t*2,ease:i})}leaveToTop(){if(!this.material)return;const e=2,t=.1,i="expo.out";this.material.uniforms.uDirection.value=0,ge.killTweensOf(this.material.uniforms.uProgress5,"value"),ge.killTweensOf(this.material.uniforms.uProgress6,"value"),ge.killTweensOf(this.material.uniforms.uProgress7,"value"),ge.to(this.material.uniforms.uProgress5,{value:0,duration:e,ease:i}),ge.to(this.material.uniforms.uProgress6,{value:0,duration:e,delay:t,ease:i}),ge.to(this.material.uniforms.uProgress7,{value:0,duration:e,delay:t*2,ease:i})}leaveToBottom(){if(!this.material)return;const e=2,t=.1,i="expo.out";this.material.uniforms.uDirection.value=1,ge.killTweensOf(this.material.uniforms.uProgress5,"value"),ge.killTweensOf(this.material.uniforms.uProgress6,"value"),ge.killTweensOf(this.material.uniforms.uProgress7,"value"),ge.to(this.material.uniforms.uProgress5,{value:0,duration:e,ease:i}),ge.to(this.material.uniforms.uProgress6,{value:0,duration:e,delay:t,ease:i}),ge.to(this.material.uniforms.uProgress7,{value:0,duration:e,delay:t*2,ease:i})}reset(){this.material&&(ge.killTweensOf(this.material.uniforms.uProgress1,"value"),ge.killTweensOf(this.material.uniforms.uProgress2,"value"),ge.killTweensOf(this.material.uniforms.uProgress3,"value"),ge.killTweensOf(this.material.uniforms.uProgress4,"value"),ge.killTweensOf(this.material.uniforms.uProgress5,"value"),ge.killTweensOf(this.material.uniforms.uProgress6,"value"),ge.killTweensOf(this.material.uniforms.uProgress7,"value"),this.material.uniforms.uProgress1.value=0,this.material.uniforms.uProgress2.value=0,this.material.uniforms.uProgress3.value=0,this.material.uniforms.uProgress4.value=0,this.material.uniforms.uProgress5.value=0,this.material.uniforms.uProgress6.value=0,this.material.uniforms.uProgress7.value=0)}positionItem(){if(!this.mesh||this.isMenuOpen)return;const{y:e,position:t}=this.getPositionInfo();this.mesh.position.y=e;const{screenWidth:i}=this.getScreenSizes();let r;this.sizes.width>=Kt.xl?r=450:this.sizes.width>=Kt.lg?r=320:this.sizes.width>=Kt.mdL?r=280:r=116;const s=i*r/this.sizes.width;this.mesh.position.x=s-i/2,this.mesh.scale.set(this.scale,this.scale,this.scale),t==="inview"?this.isVisible||(this.isVisible=!0,this.reset(),this.enterFromLeft()):this.isVisible&&(this.isVisible=!1)}getScreenSizes(){const e=Wh.degToRad(this.camera.fov),t=2*Math.tan(e/2)*Math.abs(this.depth);return{screenWidth:t*this.camera.aspect,screenHeight:t}}getPositionInfo(){const e=window.scrollY,t=this.sizes.height,i=this._pageYPosition,r=this._pageYPosition+t;return e+t>=i&&e<r?{y:PA(e,[i-t,r],[this.yBottom,this.yTop])+this.yOffset,position:"inview"}:e+t<r?{y:this.yBottom,position:"before"}:{y:this.yTop,position:"after"}}async setTitle(){const e=[this.loadFontAtlas(DA),this.loadFont(CA)];return Promise.all(e).then(([t,i])=>{const r=i.data,s=new Mv({text:this.settings.text,mode:"nowrap",lineHeight:50,font:r});this.material=new Sn({side:la,transparent:!0,uniforms:{...ml.common,...ml.rendering,...ml.strokes,uStrokeOutsetWidth:{value:.1},uStrokeInsetWidth:{value:0},uProgress1:{value:0},uProgress2:{value:0},uProgress3:{value:0},uProgress4:{value:0},uProgress5:{value:0},uProgress6:{value:0},uProgress7:{value:0},uDirection:{value:1}},vertexShader:zA,fragmentShader:BA}),this.material.uniforms.uMap.value=t,this.mesh=new Rt(s,this.material),this.mesh.rotation.x=Math.PI,this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.position.z=this.depth,this.camera.add(this.mesh),this.debug.active&&this.debugFolder&&(this.debugFolder.add(this.debugObject,"enterFromLeft"),this.debugFolder.add(this.debugObject,"enterFromTop"),this.debugFolder.add(this.debugObject,"enterFromBottom"),this.debugFolder.add(this.debugObject,"leaveToTop"),this.debugFolder.add(this.debugObject,"leaveToBottom"),this.debugFolder.add(this.debugObject,"reset"),this.debugFolder.add(this.debugObject,"progress1").min(0).max(1).step(.01).onChange(()=>{this.material.uniforms.uProgress1.value=this.debugObject.progress1}),this.debugFolder.add(this.debugObject,"progress2").min(0).max(1).step(.01).onChange(()=>{this.material.uniforms.uProgress2.value=this.debugObject.progress2}),this.debugFolder.add(this.debugObject,"progress3").min(0).max(1).step(.01).onChange(()=>{this.material.uniforms.uProgress3.value=this.debugObject.progress3}),this.debugFolder.add(this.debugObject,"progress4").min(0).max(1).step(.01).onChange(()=>{this.material.uniforms.uProgress4.value=this.debugObject.progress4}),this.debugFolder.add(this.debugObject,"progress5").min(0).max(1).step(.01).onChange(()=>{this.material.uniforms.uProgress5.value=this.debugObject.progress5}))})}loadFontAtlas(e){return new Promise(i=>{new Yh().load(e,i)})}loadFont(e){return new Promise(i=>{new NA().load(e,i)})}update(){}resize(){this.mesh&&(this.setScale(),this.setYBoundaries(),this.positionItem())}}const UA=`
  #define layers 2 //int how many layers

  uniform float iTime;
  uniform float iAlpha;
  uniform float iLight;
  uniform vec2 iResolution;
  uniform float scale;
  uniform float speed;

  varying vec2 vUv;
  varying vec3 vNormal;

  float PI = 3.141529;

  vec3 hash( vec3 p ) {
    p = vec3(dot(p, vec3(127.1, 311.7, 74.7)), dot(p, vec3(269.5, 183.3, 246.1)), dot(p, vec3(113.5,271.9, 124.6)));
    p = -1.0 + 2.0 * fract(sin(p) * 43758.5453123);

    return p;
  }

  float noise( in vec3 p ) {
    vec3 i = floor( p );
    vec3 f = fract( p );
    
    vec3 u = f * f * (3.0 - 2.0 * f);

    return mix( mix( mix( dot( hash( i + vec3(0.0,0.0,0.0) ), f - vec3(0.0,0.0,0.0) ), 
                          dot( hash( i + vec3(1.0,0.0,0.0) ), f - vec3(1.0,0.0,0.0) ), u.x),
                    mix( dot( hash( i + vec3(0.0,1.0,0.0) ), f - vec3(0.0,1.0,0.0) ), 
                          dot( hash( i + vec3(1.0,1.0,0.0) ), f - vec3(1.0,1.0,0.0) ), u.x), u.y),
                mix( mix( dot( hash( i + vec3(0.0,0.0,1.0) ), f - vec3(0.0,0.0,1.0) ), 
                          dot( hash( i + vec3(1.0,0.0,1.0) ), f - vec3(1.0,0.0,1.0) ), u.x),
                    mix( dot( hash( i + vec3(0.0,1.0,1.0) ), f - vec3(0.0,1.0,1.0) ), 
                          dot( hash( i + vec3(1.0,1.0,1.0) ), f - vec3(1.0,1.0,1.0) ), u.x), u.y), u.z );
  }

  void main() {
    //normalized device coordinates from -1 to 1
    vec2 uv = (gl_FragCoord.xy - iResolution.xy - 0.5) / iResolution.y;

    //time value
    float t = iTime * speed;

    uv *= scale;

    float h = noise(vec3(uv * 2.0, t));

    //uv distortion loop 
    for (int n = 1; n < layers; n++){
      float i = float(n);
      uv -= vec2(0.7 / i * sin(i * uv.y + i + t * 5.0 + h * i) + 0.8, 0.4 / i * sin(uv.x+4.-i+h + t * 5.0 + 0.3 * i) + 1.6);
    }

    uv -= vec2(1.2 * sin(uv.x + t + h) + 1.8, 0.4 * sin(uv.y + t + 0.3 * h) + 1.6);

    // Time varying pixel color
    vec3 col = vec3(
      0.01 * sin(uv.x) + 0.1,
      .01 * sin(uv.x) + 0.2,
      0.9 * sin(uv.y + uv.x) + 0.9
    ) * iLight;

    // Output to screen
    gl_FragColor = vec4(col, iAlpha);
  }
`,jA=`
  // switch on high precision floats
  #ifdef GL_ES
  precision highp float;
  #endif

  varying vec2 vUv;
  varying vec3 vNormal;

  void main() {
    vUv = uv;
    vNormal = normal;

    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`;class lj{constructor(){q(this,"experience");q(this,"scene");q(this,"debug");q(this,"time");q(this,"sizes");q(this,"debugFolder");q(this,"debugObject");q(this,"geometry");q(this,"material");q(this,"mesh");q(this,"camera");q(this,"depth");this.experience=new dn,this.scene=this.experience.scene,this.time=this.experience.time,this.camera=this.experience.world.cameraOnPath.camera,this.sizes=this.experience.sizes,this.depth=-10,this.debug=this.experience.debug,this.debug.active&&this.debug.ui&&(this.debugFolder=this.debug.ui.addFolder("Clouds").close()),this.debugObject={color:new Ie(16711680)},this.createGeometry(),this.createMaterial()}createGeometry(){this.geometry=new da(1,1)}createMaterial(){const{screenWidth:e,screenHeight:t}=this.getScreenSizes();this.material=new Sn({fragmentShader:UA,vertexShader:jA,uniforms:{iTime:{value:this.time.clockElapsed},iResolution:{value:new W(this.sizes.width,this.sizes.height,window.devicePixelRatio)},iAlpha:{value:.2},iLight:{value:.4},scale:{value:1.2},speed:{value:.15}}}),this.mesh=new Rt(this.geometry,this.material),this.mesh.position.z=this.depth,this.mesh.scale.set(Math.ceil(e),Math.ceil(t),1),this.camera.add(this.mesh)}getScreenSizes(){const e=Wh.degToRad(this.camera.fov),t=2*Math.tan(e/2)*Math.abs(this.depth);return{screenWidth:t*this.camera.aspect,screenHeight:t}}resize(){const{screenWidth:e,screenHeight:t}=this.getScreenSizes();this.mesh.scale.set(e,t,1)}update(){this.material.uniforms.iTime.value=this.time.clockElapsed}}const uj=`
uniform float uPixelRatio;
uniform float uSize;
uniform float uTime;

attribute float aScale;

void main() {
  vec4 modelPosition = modelMatrix * vec4(position, 1.0);
  
  // Position animation
  modelPosition.y += sin((uTime * 0.0005) + modelPosition.x * 100.0) * aScale * 0.15;

  vec4 viewPosition =  viewMatrix * modelPosition;
  vec4 projectedPosition = projectionMatrix * viewPosition;

  gl_Position = projectedPosition;
  
  // Particles sizes
  gl_PointSize = uSize * aScale * uPixelRatio;
  // Adjust size based on distance
  gl_PointSize *= 1.0 / - viewPosition.z;
}
`,cj=`
uniform float uStrength;

void main() {
  float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
  float strength = uStrength / distanceToCenter - uStrength * 2.0;
  gl_FragColor = vec4(0.2, 0.2, 1.0, strength);
}
`;class fj{constructor(){q(this,"experience");q(this,"scene");q(this,"debug");q(this,"time");q(this,"debugFolder");q(this,"debugObject");q(this,"geometry");q(this,"material");q(this,"mesh");q(this,"particles");if(this.experience=new dn,this.scene=this.experience.scene,this.time=this.experience.time,this.debug=this.experience.debug,this.debugObject={count:60,size:200,strength:.04},this.setGeometry(),this.setMaterials(),this.setParticles(),this.debug.active&&this.debug.ui){this.debugFolder=this.debug.ui.addFolder("Particles").close();const{uSize:e,uStrength:t}=this.material.uniforms;this.debugFolder.add(e,"value").min(1).max(500).step(1).name("Size"),this.debugFolder.add(t,"value").min(.001).max(2).step(.001).name("Strength")}}setGeometry(){this.geometry=new qn;const{count:e}=this.debugObject,t=new Float32Array(e*3),i=new Float32Array(e);for(let r=0;r<e;r++)t[r*3]=(Math.random()-.5)*20,t[r*3+1]=Math.random()*8,t[r*3+2]=(Math.random()-.5)*8,i[r]=Math.random();this.geometry.setAttribute("position",new it(t,3)),this.geometry.setAttribute("aScale",new it(i,1))}setMaterials(){this.material=new Sn({vertexShader:uj,fragmentShader:cj,transparent:!0,blending:nv,depthWrite:!1,uniforms:{uPixelRatio:{value:Math.min(window.devicePixelRatio,2)},uSize:{value:this.debugObject.size},uStrength:{value:this.debugObject.strength},uTime:{value:this.time.elapsed}}})}setParticles(){this.particles=new dA(this.geometry,this.material),this.scene.add(this.particles)}resize(){this.material.uniforms.uPixelRatio.value=Math.min(window.devicePixelRatio,2)}update(){this.material.uniforms.uTime.value=this.time.elapsed}}function VA(n,e){if(!e||n.length!=e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]instanceof Array&&e[t]instanceof Array){if(!VA(n[t],e[t]))return!1}else if(n[t]!=e[t])return!1;return!0}class dj{constructor(){q(this,"experience");q(this,"scene");q(this,"resources");q(this,"cameraOnPath");q(this,"man");q(this,"smoke");q(this,"environment");q(this,"portfolio");q(this,"images");q(this,"titles");q(this,"strikes");q(this,"clouds");q(this,"particles");q(this,"floor");this.experience=new dn,this.scene=this.experience.scene,this.resources=this.experience.resources,this.titles=[],this.images=[],this.cameraOnPath=new ij;const e=window.store;let t=[];e.subscribe(()=>{var r;const i=e.getState().section.boundaries;if(!VA(i,t)){for(let s=0;s<i.length;s++)(r=this.titles)!=null&&r[s]&&(this.titles[s].pageYPosition=i[s].start);t=i}}),this.resources.on("ready",async()=>{e.dispatch;const i=e.getState(),r=i.images;for(const s of Object.keys(r)){const o=new oj({name:s,sizes:r[s].sizes});this.images.push(o)}this.clouds=new lj,this.particles=new fj,this.environment=new KU,this.man=new a5,this.portfolio=new nj,this.titles=i.section.sections.map(({name:s},o)=>new aj({itemIndex:o,text:s}))})}resize(){var e,t,i,r,s,o,a,l,c;(t=(e=this.man)==null?void 0:e.resize)==null||t.call(e),(r=(i=this.cameraOnPath)==null?void 0:i.resize)==null||r.call(i),(o=(s=this.portfolio)==null?void 0:s.resize)==null||o.call(s),(l=(a=this.clouds)==null?void 0:a.resize)==null||l.call(a);for(const d of this.titles)(c=d==null?void 0:d.resize)==null||c.call(d)}update(){var e,t,i,r,s,o,a,l,c,d,u,f,h,m,p,g;(t=(e=this.man)==null?void 0:e.update)==null||t.call(e),(r=(i=this.smoke)==null?void 0:i.update)==null||r.call(i),(o=(s=this.portfolio)==null?void 0:s.update)==null||o.call(s),(l=(a=this.cameraOnPath)==null?void 0:a.update)==null||l.call(a),(d=(c=this.strikes)==null?void 0:c.update)==null||d.call(c),(f=(u=this.clouds)==null?void 0:u.update)==null||f.call(u),(m=(h=this.particles)==null?void 0:h.update)==null||m.call(h);for(const v of this.images)(p=v==null?void 0:v.update)==null||p.call(v);for(const v of this.titles)(g=v==null?void 0:v.update)==null||g.call(v)}}class hj extends as{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new _j(t)}),this.register(function(t){return new Tj(t)}),this.register(function(t){return new Ej(t)}),this.register(function(t){return new xj(t)}),this.register(function(t){return new wj(t)}),this.register(function(t){return new bj(t)}),this.register(function(t){return new Sj(t)}),this.register(function(t){return new vj(t)}),this.register(function(t){return new Mj(t)}),this.register(function(t){return new yj(t)}),this.register(function(t){return new mj(t)}),this.register(function(t){return new Aj(t)}),this.register(function(t){return new Cj(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Wo.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ra(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Wo.decodeText(new Uint8Array(e,0,4))===HA){try{o[Qe.KHR_BINARY_GLTF]=new Dj(e)}catch(d){r&&r(d);return}s=JSON.parse(o[Qe.KHR_BINARY_GLTF].content)}else s=JSON.parse(Wo.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Vj(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](l);a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const d=s.extensionsUsed[c],u=s.extensionsRequired||[];switch(d){case Qe.KHR_MATERIALS_UNLIT:o[d]=new gj;break;case Qe.KHR_DRACO_MESH_COMPRESSION:o[d]=new Pj(s,this.dracoLoader);break;case Qe.KHR_TEXTURE_TRANSFORM:o[d]=new Lj;break;case Qe.KHR_MESH_QUANTIZATION:o[d]=new Rj;break;default:u.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function pj(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Qe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class mj{constructor(e){this.parser=e,this.name=Qe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new Ie(16777215);l.color!==void 0&&d.fromArray(l.color);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new _v(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new MU(d),c.distance=u;break;case"spot":c=new bU(d),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,vs(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class gj{constructor(){this.name=Qe.KHR_MATERIALS_UNLIT}getMaterialType(){return vr}extendParams(e,t,i){const r=[];e.color=new Ie(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,nt))}return Promise.all(r)}}class vj{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class _j{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:pa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Le(a,a)}return Promise.all(s)}}class yj{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:pa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class xj{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:pa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ie(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,nt)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class wj{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:pa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class bj{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:pa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ie(a[0],a[1],a[2]),Promise.all(s)}}class Sj{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:pa}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Mj{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:pa}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ie(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,nt)),Promise.all(s)}}class Tj{constructor(e){this.parser=e,this.name=Qe.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Ej{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Aj{constructor(e){this.name=Qe.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,u=r.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,u,f,r.mode,r.filter).then(function(h){return h.buffer}):o.ready.then(function(){const h=new ArrayBuffer(d*u);return o.decodeGltfBuffer(new Uint8Array(h),d,u,f,r.mode,r.filter),h})})}else return null}}class Cj{constructor(e){this.name=Qe.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Si.TRIANGLES&&c.mode!==Si.TRIANGLE_STRIP&&c.mode!==Si.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),u=d.isGroup?d.children:[d],f=c[0].count,h=[];for(const m of u){const p=new $e,g=new W,v=new ui,y=new W(1,1,1),_=new LB(m.geometry,m.material,f);for(let x=0;x<f;x++)l.TRANSLATION&&g.fromBufferAttribute(l.TRANSLATION,x),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,x),l.SCALE&&y.fromBufferAttribute(l.SCALE,x),_.setMatrixAt(x,p.compose(g,v,y));for(const x in l)x!=="TRANSLATION"&&x!=="ROTATION"&&x!=="SCALE"&&m.geometry.setAttribute(x,l[x]);Tt.prototype.copy.call(_,m),_.frustumCulled=!1,this.parser.assignFinalMaterial(_),h.push(_)}return d.isGroup?(d.clear(),d.add(...h),d):h[0]}))}}const HA="glTF",xu=12,tb={JSON:1313821514,BIN:5130562};class Dj{constructor(e){this.name=Qe.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,xu);if(this.header={magic:Wo.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==HA)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-xu,r=new DataView(e,xu);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===tb.JSON){const l=new Uint8Array(e,xu+s,o);this.content=Wo.decodeText(l)}else if(a===tb.BIN){const l=xu+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Pj{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const u=Tv[d]||d.toLowerCase();a[u]=o[d]}for(const d in e.attributes){const u=Tv[d]||d.toLowerCase();if(o[d]!==void 0){const f=i.accessors[e.attributes[d]],h=gl[f.componentType];c[u]=h.name,l[u]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(u){r.decodeDracoFile(d,function(f){for(const h in f.attributes){const m=f.attributes[h],p=l[h];p!==void 0&&(m.normalized=p)}u(f)},a,c)})})}}class Lj{constructor(){this.name=Qe.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Rj{constructor(){this.name=Qe.KHR_MESH_QUANTIZATION}}class WA extends Wc{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=r-t,u=(i-t)/d,f=u*u,h=f*u,m=e*c,p=m-c,g=-2*h+3*f,v=h-f,y=1-g,_=v-f+u;for(let x=0;x!==a;x++){const w=o[p+x+a],T=o[p+x+l]*d,S=o[m+x+a],b=o[m+x]*d;s[x]=y*w+_*T+g*S+v*b}return s}}const Oj=new ui;class kj extends WA{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return Oj.fromArray(s).normalize().toArray(s),s}}const Si={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},gl={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},nb={9728:zt,9729:Lt,9984:ov,9985:BE,9986:od,9987:Js},ib={33071:Un,33648:Il,10497:Sr},km={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Tv={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},hs={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ij={CUBICSPLINE:void 0,LINEAR:Nl,STEP:bc},Im={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Fj(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new ha({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ks})),n.DefaultMaterial}function wu(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function vs(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Nj(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const u=e[c];if(u.POSITION!==void 0&&(i=!0),u.NORMAL!==void 0&&(r=!0),u.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const u=e[c];if(i){const f=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;o.push(f)}if(r){const f=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;a.push(f)}if(s){const f=u.COLOR_0!==void 0?t.getDependency("accessor",u.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],u=c[1],f=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=u),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function zj(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Bj(n){const e=n.extensions&&n.extensions[Qe.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+rb(e.attributes):t=n.indices+":"+rb(n.attributes)+":"+n.mode,t}function rb(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function Ev(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Uj(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const jj=new $e;class Vj{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new pj,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new Yh(this.options.manager):this.textureLoader=new AU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ra(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};wu(s,a,r),vs(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qe.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Wo.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=km[r.type],a=gl[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new it(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=km[r.type],c=gl[r.componentType],d=c.BYTES_PER_ELEMENT,u=d*l,f=r.byteOffset||0,h=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,m=r.normalized===!0;let p,g;if(h&&h!==u){const v=Math.floor(f/h),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let _=t.cache.get(y);_||(p=new c(a,v*h,r.count*h/d),_=new AB(p,h/d),t.cache.add(y,_)),g=new c_(_,l,f%h/d,m)}else a===null?p=new c(r.count*l):p=new c(a,f,r.count*l),g=new it(p,l,m);if(r.sparse!==void 0){const v=km.SCALAR,y=gl[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new y(o[1],_,r.sparse.count*v),T=new c(o[2],x,r.sparse.count*l);a!==null&&(g=new it(g.array.slice(),g.itemSize,g.normalized));for(let S=0,b=w.length;S<b;S++){const M=w[S];if(g.setX(M,T[S*l]),l>=2&&g.setY(M,T[S*l+1]),l>=3&&g.setZ(M,T[S*l+2]),l>=4&&g.setW(M,T[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"";const f=(s.samplers||{})[o.sampler]||{};return d.magFilter=nb[f.magFilter]||Lt,d.minFilter=nb[f.minFilter]||Js,d.wrapS=ib[f.wrapS]||Sr,d.wrapT=ib[f.wrapT]||Sr,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(u){c=!0;const f=new Blob([u],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(u){return new Promise(function(f,h){let m=f;t.isImageBitmapLoader===!0&&(m=function(p){const g=new rn(p);g.needsUpdate=!0,f(g)}),t.load(Wo.resolveURL(u,s.path),m,void 0,h)})}).then(function(u){return c===!0&&a.revokeObjectURL(l),u.userData.mimeType=o.mimeType||Uj(o.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),s.extensions[Qe.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Qe.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Qe.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new fA,rr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new cA,rr.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return ha}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Qe.KHR_MATERIALS_UNLIT]){const u=r[Qe.KHR_MATERIALS_UNLIT];o=u.getMaterialType(),c.push(u.extendParams(a,s,t))}else{const u=s.pbrMetallicRoughness||{};if(a.color=new Ie(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){const f=u.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}u.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",u.baseColorTexture,nt)),a.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,a.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=la);const d=s.alphaMode||Im.OPAQUE;if(d===Im.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===Im.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==vr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Le(1,1),s.normalTexture.scale!==void 0)){const u=s.normalTexture.scale;a.normalScale.set(u,u)}return s.occlusionTexture!==void 0&&o!==vr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==vr&&(a.emissive=new Ie().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==vr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,nt)),Promise.all(c).then(function(){const u=new o(a);return s.name&&(u.name=s.name),vs(u,s),t.associations.set(u,{materials:e}),s.extensions&&wu(r,u,s),u})}createUniqueName(e){const t=rt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Qe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return sb(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=Bj(c),u=r[d];if(u)o.push(u.promise);else{let f;c.extensions&&c.extensions[Qe.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=sb(new qn,c,t),r[d]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?Fj(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],u=[];for(let h=0,m=d.length;h<m;h++){const p=d[h],g=o[h];let v;const y=c[h];if(g.mode===Si.TRIANGLES||g.mode===Si.TRIANGLE_STRIP||g.mode===Si.TRIANGLE_FAN||g.mode===void 0)v=s.isSkinnedMesh===!0?new aA(p,y):new Rt(p,y),v.isSkinnedMesh===!0&&!v.geometry.attributes.skinWeight.normalized&&v.normalizeSkinWeights(),g.mode===Si.TRIANGLE_STRIP?v.geometry=ob(v.geometry,cI):g.mode===Si.TRIANGLE_FAN&&(v.geometry=ob(v.geometry,HE));else if(g.mode===Si.LINES)v=new RB(p,y);else if(g.mode===Si.LINE_STRIP)v=new d_(p,y);else if(g.mode===Si.LINE_LOOP)v=new OB(p,y);else if(g.mode===Si.POINTS)v=new dA(p,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(v.geometry.morphAttributes).length>0&&zj(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),vs(v,s),g.extensions&&wu(r,v,g),t.assignFinalMaterial(v),u.push(v)}for(let h=0,m=u.length;h<m;h++)t.associations.set(u[h],{meshes:e,primitives:h});if(u.length===1)return u[0];const f=new Cs;t.associations.set(f,{meshes:e});for(let h=0,m=u.length;h<m;h++)f.add(u[h]);return f})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Ln(Wh.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new l_(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),vs(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this.getDependency("node",t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const u=o[c];if(u){a.push(u);const f=new $e;s!==null&&f.fromArray(s.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new f_(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let c=0,d=i.channels.length;c<d;c++){const u=i.channels[c],f=i.samplers[u.sampler],h=u.target,m=h.node,p=i.parameters!==void 0?i.parameters[f.input]:f.input,g=i.parameters!==void 0?i.parameters[f.output]:f.output;r.push(this.getDependency("node",m)),s.push(this.getDependency("accessor",p)),o.push(this.getDependency("accessor",g)),a.push(f),l.push(h)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],u=c[1],f=c[2],h=c[3],m=c[4],p=[];for(let v=0,y=d.length;v<y;v++){const _=d[v],x=u[v],w=f[v],T=h[v],S=m[v];if(_===void 0)continue;_.updateMatrix();let b;switch(hs[S.path]){case hs.weights:b=Dc;break;case hs.rotation:b=na;break;case hs.position:case hs.scale:default:b=Pc;break}const M=_.name?_.name:_.uuid,E=T.interpolation!==void 0?Ij[T.interpolation]:Nl,O=[];hs[S.path]===hs.weights?_.traverse(function(I){I.morphTargetInfluences&&O.push(I.name?I.name:I.uuid)}):O.push(M);let V=w.array;if(w.normalized){const I=Ev(V.constructor),N=new Float32Array(V.length);for(let C=0,B=V.length;C<B;C++)N[C]=V[C]*I;V=N}for(let I=0,N=O.length;I<N;I++){const C=new b(O[I]+"."+hs[S.path],x.array,V,E);T.interpolation==="CUBICSPLINE"&&(C.createInterpolant=function(H){const P=this instanceof na?kj:WA;return new P(this.times,this.values,this.getValueSize()/3,H)},C.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),p.push(C)}}const g=i.name?i.name:"animation_"+e;return new vv(g,void 0,p)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(f){return r._getNodeRef(r.cameraCache,s.camera,f)})),r._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){a.push(f)});const c=[],d=s.children||[];for(let f=0,h=d.length;f<h;f++)c.push(r.getDependency("node",d[f]));const u=s.skin===void 0?Promise.resolve(null):r.getDependency("skin",s.skin);return Promise.all([Promise.all(a),Promise.all(c),u])}().then(function(a){const l=a[0],c=a[1],d=a[2];let u;if(s.isBone===!0?u=new lA:l.length>1?u=new Cs:l.length===1?u=l[0]:u=new Tt,u!==l[0])for(let f=0,h=l.length;f<h;f++)u.add(l[f]);if(s.name&&(u.userData.name=s.name,u.name=o),vs(u,s),s.extensions&&wu(i,u,s),s.matrix!==void 0){const f=new $e;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,d!==null&&u.traverse(function(f){f.isSkinnedMesh&&f.bind(d,jj)});for(let f=0,h=c.length;f<h;f++)u.add(c[f]);return u})}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Cs;i.name&&(s.name=r.createUniqueName(i.name)),vs(s,i),i.extensions&&wu(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,u=l.length;d<u;d++)s.add(l[d]);const c=d=>{const u=new Map;for(const[f,h]of r.associations)(f instanceof rr||f instanceof rn)&&u.set(f,h);return d.traverse(f=>{const h=r.associations.get(f);h!=null&&u.set(f,h)}),u};return r.associations=c(s),s})}}function Hj(n,e,t){const i=e.attributes,r=new ca;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new W(l[0],l[1],l[2]),new W(c[0],c[1],c[2])),a.normalized){const d=Ev(gl[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new W,l=new W;for(let c=0,d=s.length;c<d;c++){const u=s[c];if(u.POSITION!==void 0){const f=t.json.accessors[u.POSITION],h=f.min,m=f.max;if(h!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(m[2]))),f.normalized){const p=Ev(gl[f.componentType]);l.multiplyScalar(p)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new fa;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function sb(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=Tv[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return vs(n,e),Hj(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Nj(n,e.targets,t):n})}function ob(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===HE)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}const Fm=new WeakMap;class Wj extends as{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new ra(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{this.decodeDracoFile(o,t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};return this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){const i=JSON.stringify(t);if(Fm.has(e)){const l=Fm.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Fm.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new qn;e.index&&t.setIndex(new it(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new it(o,a))}return t}_loadLibrary(e,t){const i=new ra(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=Gj.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Gj(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(u){d({draco:u})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const u=d.draco,f=new u.Decoder,h=new u.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const m=t(u,f,h,c),p=m.attributes.map(g=>g.array.buffer);m.index&&p.push(m.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:m},p)}catch(m){console.error(m),self.postMessage({type:"error",id:a.id,error:m.message})}finally{u.destroy(h),u.destroy(f)}});break}};function t(o,a,l,c){const d=c.attributeIDs,u=c.attributeTypes;let f,h;const m=a.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)f=new o.Mesh,h=a.DecodeBufferToMesh(l,f);else if(m===o.POINT_CLOUD)f=new o.PointCloud,h=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const p={index:null,attributes:[]};for(const g in d){const v=self[u[g]];let y,_;if(c.useUniqueIDs)_=d[g],y=a.GetAttributeByUniqueId(f,_);else{if(_=a.GetAttributeId(f,o[d[g]]),_===-1)continue;y=a.GetAttribute(f,_)}p.attributes.push(r(o,a,f,g,v,y))}return m===o.TRIANGULAR_MESH&&(p.index=i(o,a,f)),o.destroy(f),p}function i(o,a,l){const d=l.num_faces()*3,u=d*4,f=o._malloc(u);a.GetTrianglesUInt32Array(l,u,f);const h=new Uint32Array(o.HEAPF32.buffer,f,d).slice();return o._free(f),{array:h,itemSize:1}}function r(o,a,l,c,d,u){const f=u.num_components(),m=l.num_points()*f,p=m*d.BYTES_PER_ELEMENT,g=s(o,d),v=o._malloc(p);a.GetAttributeDataArrayForAllPoints(l,u,g,p,v);const y=new d(o.HEAPF32.buffer,v,m).slice();return o._free(v),{name:c,array:y,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}class $j extends xU{constructor(e){super(e),this.type=Wr}parse(e){const a=function(_,x){switch(_){case 1:console.error("THREE.RGBELoader Read Error: "+(x||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(x||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(x||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(x||""))}return-1},u=`
`,f=function(_,x,w){x=x||1024;let S=_.pos,b=-1,M=0,E="",O=String.fromCharCode.apply(null,new Uint16Array(_.subarray(S,S+128)));for(;0>(b=O.indexOf(u))&&M<x&&S<_.byteLength;)E+=O,M+=O.length,S+=128,O+=String.fromCharCode.apply(null,new Uint16Array(_.subarray(S,S+128)));return-1<b?(w!==!1&&(_.pos+=M+b+1),E+O.slice(0,b)):!1},h=function(_){const x=/^#\?(\S+)/,w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,T=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*FORMAT=(\S+)\s*$/,b=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,M={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let E,O;if(_.pos>=_.byteLength||!(E=f(_)))return a(1,"no header found");if(!(O=E.match(x)))return a(3,"bad initial token");for(M.valid|=1,M.programtype=O[1],M.string+=E+`
`;E=f(_),E!==!1;){if(M.string+=E+`
`,E.charAt(0)==="#"){M.comments+=E+`
`;continue}if((O=E.match(w))&&(M.gamma=parseFloat(O[1])),(O=E.match(T))&&(M.exposure=parseFloat(O[1])),(O=E.match(S))&&(M.valid|=2,M.format=O[1]),(O=E.match(b))&&(M.valid|=4,M.height=parseInt(O[1],10),M.width=parseInt(O[2],10)),M.valid&2&&M.valid&4)break}return M.valid&2?M.valid&4?M:a(3,"missing image size specifier"):a(3,"missing format specifier")},m=function(_,x,w){const T=x;if(T<8||T>32767||_[0]!==2||_[1]!==2||_[2]&128)return new Uint8Array(_);if(T!==(_[2]<<8|_[3]))return a(3,"wrong scanline width");const S=new Uint8Array(4*x*w);if(!S.length)return a(4,"unable to allocate buffer space");let b=0,M=0;const E=4*T,O=new Uint8Array(4),V=new Uint8Array(E);let I=w;for(;I>0&&M<_.byteLength;){if(M+4>_.byteLength)return a(1);if(O[0]=_[M++],O[1]=_[M++],O[2]=_[M++],O[3]=_[M++],O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=T)return a(3,"bad rgbe scanline format");let N=0,C;for(;N<E&&M<_.byteLength;){C=_[M++];const H=C>128;if(H&&(C-=128),C===0||N+C>E)return a(3,"bad scanline data");if(H){const P=_[M++];for(let Y=0;Y<C;Y++)V[N++]=P}else V.set(_.subarray(M,M+C),N),N+=C,M+=C}const B=T;for(let H=0;H<B;H++){let P=0;S[b]=V[H+P],P+=T,S[b+1]=V[H+P],P+=T,S[b+2]=V[H+P],P+=T,S[b+3]=V[H+P],b+=4}I--}return S},p=function(_,x,w,T){const S=_[x+3],b=Math.pow(2,S-128)/255;w[T+0]=_[x+0]*b,w[T+1]=_[x+1]*b,w[T+2]=_[x+2]*b,w[T+3]=1},g=function(_,x,w,T){const S=_[x+3],b=Math.pow(2,S-128)/255;w[T+0]=Vf.toHalfFloat(Math.min(_[x+0]*b,65504)),w[T+1]=Vf.toHalfFloat(Math.min(_[x+1]*b,65504)),w[T+2]=Vf.toHalfFloat(Math.min(_[x+2]*b,65504)),w[T+3]=Vf.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const y=h(v);if(y!==-1){const _=y.width,x=y.height,w=m(v.subarray(v.pos),_,x);if(w!==-1){let T,S,b;switch(this.type){case tr:b=w.length/4;const M=new Float32Array(b*4);for(let O=0;O<b;O++)p(w,O*4,M,O*4);T=M,S=tr;break;case Wr:b=w.length/4;const E=new Uint16Array(b*4);for(let O=0;O<b;O++)g(w,O*4,E,O*4);T=E,S=Wr;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:_,height:x,data:T,header:y.string,gamma:y.gamma,exposure:y.exposure,type:S}}}return null}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){switch(o.type){case tr:case Wr:o.encoding=Zs,o.minFilter=Lt,o.magFilter=Lt,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,i,r)}}class Xj extends Jh{constructor(t,i){super();q(this,"items");q(this,"sources");q(this,"renderer");q(this,"loaders");q(this,"manager");ia.enabled=!0,this.sources=t,this.renderer=i,this.items={},this.manager=new EA(this.onResourceLoad.bind(this),this.onResourceProgress.bind(this)),this.loaders={},this.loaders.dracoLoader=new Wj,this.loaders.dracoLoader.setDecoderPath("draco/"),this.loaders.gltfLoader=new hj(this.manager),this.loaders.gltfLoader.setDRACOLoader(this.loaders.dracoLoader),this.loaders={...this.loaders,textureLoader:new Yh(this.manager),cubeTextureLoader:new yU(this.manager),hdrLoader:new $j(this.manager),fileLoader:new ra(this.manager)},this.startLoading()}onResourceLoad(){this.trigger("ready")}onResourceProgress(t,i,r){this.trigger("progress",[t,i,r])}startLoading(){var t,i,r,s,o;for(const a of this.sources)switch(a.type){case"gltfModel":(t=this.loaders.gltfLoader)==null||t.load(a.path,l=>{this.items[a.name]=l});break;case"texture":(i=this.loaders.textureLoader)==null||i.load(a.path,l=>{this.items[a.name]=l});break;case"cubeTexture":(r=this.loaders.cubeTextureLoader)==null||r.load(a.path,l=>{this.items[a.name]=l});break;case"hdr":{const l=new cv(this.renderer);(s=this.loaders.hdrLoader)==null||s.load(a.path,c=>{const d=l.fromEquirectangular(c).texture;c.dispose(),l.dispose(),this.items[a.name]=d});break}case"file":{(o=this.loaders.fileLoader)==null||o.load(a.path,l=>{this.items[a.name]=l});break}}}}const qj=[{name:"noise",type:"texture",path:"/textures/noise/noise.jpeg"},{name:"manVibrantSkin",type:"texture",path:"/textures/outline/2c.jpg"},{name:"manModel",type:"gltfModel",path:"/models/Man/Man7.glb"},{name:"venice",type:"texture",path:"/images/venice.jpeg"},{name:"sketchin",type:"texture",path:"/images/sketchin.jpg"},{name:"tcmgtk",type:"texture",path:"/images/tcmg.jpeg"},{name:"bw",type:"texture",path:"/images/bw.jpg"},{name:"no1",type:"texture",path:"/images/no1.jpg"},{name:"no2",type:"texture",path:"/images/no2.jpg"},{name:"no3",type:"texture",path:"/images/no3.jpg"}];class Yj{constructor(){q(this,"experience");q(this,"sizes");q(this,"time");q(this,"camera");q(this,"geometry");q(this,"material");q(this,"mesh");this.experience=new dn,this.sizes=this.experience.sizes,this.time=this.experience.time,this.camera=this.experience.world.cameraOnPath.camera,new ro().addListener(this.stateChangeHandler.bind(this)),Promise.all([this.fontLoader(),this.resourcesLoader(),this.firstAnimations()]).then(()=>{window.store.dispatch.app.setLoaded()}),this.createPlane()}stateChangeHandler(e,t){e.app.ready&&!t.app.ready&&ge.to(this.material.uniforms.iAlpha,{value:0,duration:2.5,delay:.5,onComplete:()=>{this.geometry.dispose(),this.material.dispose()}})}createPlane(){this.geometry=new da(1,1),this.material=new Sn({fragmentShader:UA,vertexShader:jA,transparent:!0,uniforms:{iTime:{value:this.time.clockElapsed},iAlpha:{value:1},iLight:{value:0},iResolution:{value:new W(this.sizes.width,this.sizes.height,window.devicePixelRatio)},scale:{value:1.2},speed:{value:.15}}}),this.mesh=new Rt(this.geometry,this.material),this.mesh.position.z=-.01,this.camera.add(this.mesh)}firstAnimations(){return new Promise(e=>{setTimeout(e,4500)})}fontLoader(){return new Promise(e=>{vk().then(()=>{e(null)}).catch(console.log)})}resourcesLoader(){return new Promise(e=>{const t=this.experience.resources;t.on("ready",()=>{e(null)}),t.on("progress",(...i)=>{const[r,s,o]=i;ge.delayedCall(.5,()=>{window.store.dispatch.app.setLoadingProgress(s/o)})})})}onReady(){ge.to(this.material.uniforms.iLight,{value:.4,duration:3})}update(){this.material.uniforms.iTime.value=this.time.clockElapsed}}/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.18.2
 * @author George Michael Brower
 * @license MIT
 */class wr{constructor(e,t,i,r,s="div"){this.parent=e,this.object=t,this.property=i,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),wr.nextNameID=wr.nextNameID||0,this.$name.id=`lil-gui-name-${++wr.nextNameID}`,this.$widget=document.createElement(s),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",o=>o.stopPropagation()),this.domElement.addEventListener("keyup",o=>o.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e),this)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class Kj extends wr{constructor(e,t,i){super(e,t,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function Av(n){let e,t;return(e=n.match(/(#|0x)?([a-f0-9]{6})/i))?t=e[2]:(e=n.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?t=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=n.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(t=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t?"#"+t:!1}const Jj={isPrimitive:!0,match:n=>typeof n=="string",fromHexString:Av,toHexString:Av},Lc={isPrimitive:!0,match:n=>typeof n=="number",fromHexString:n=>parseInt(n.substring(1),16),toHexString:n=>"#"+n.toString(16).padStart(6,0)},Zj={isPrimitive:!1,match:n=>Array.isArray(n),fromHexString(n,e,t=1){const i=Lc.fromHexString(n);e[0]=(i>>16&255)/255*t,e[1]=(i>>8&255)/255*t,e[2]=(i&255)/255*t},toHexString([n,e,t],i=1){i=255/i;const r=n*i<<16^e*i<<8^t*i<<0;return Lc.toHexString(r)}},Qj={isPrimitive:!1,match:n=>Object(n)===n,fromHexString(n,e,t=1){const i=Lc.fromHexString(n);e.r=(i>>16&255)/255*t,e.g=(i>>8&255)/255*t,e.b=(i&255)/255*t},toHexString({r:n,g:e,b:t},i=1){i=255/i;const r=n*i<<16^e*i<<8^t*i<<0;return Lc.toHexString(r)}},e6=[Jj,Lc,Zj,Qj];function t6(n){return e6.find(e=>e.match(n))}class n6 extends wr{constructor(e,t,i,r){super(e,t,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=t6(this.initialValue),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const s=Av(this.$text.value);s&&this._setValueFromHexString(s)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class Nm extends wr{constructor(e,t,i){super(e,t,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class i6 extends wr{constructor(e,t,i,r,s,o){super(e,t,i,"number"),this._initInput(),this.min(r),this.max(s);const a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=t*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const t=()=>{let y=parseFloat(this.$input.value);isNaN(y)||(this._stepExplicit&&(y=this._snap(y)),this.setValue(this._clamp(y)))},i=y=>{const _=parseFloat(this.$input.value);isNaN(_)||(this._snapClampSetValue(_+y),this.$input.value=this.getValue())},r=y=>{y.key==="Enter"&&this.$input.blur(),y.code==="ArrowUp"&&(y.preventDefault(),i(this._step*this._arrowKeyMultiplier(y))),y.code==="ArrowDown"&&(y.preventDefault(),i(this._step*this._arrowKeyMultiplier(y)*-1))},s=y=>{this._inputFocused&&(y.preventDefault(),i(this._step*this._normalizeMouseWheel(y)))};let o=!1,a,l,c,d,u;const f=5,h=y=>{a=y.clientX,l=c=y.clientY,o=!0,d=this.getValue(),u=0,window.addEventListener("mousemove",m),window.addEventListener("mouseup",p)},m=y=>{if(o){const _=y.clientX-a,x=y.clientY-l;Math.abs(x)>f?(y.preventDefault(),this.$input.blur(),o=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(_)>f&&p()}if(!o){const _=y.clientY-c;u-=_*this._step*this._arrowKeyMultiplier(y),d+u>this._max?u=this._max-d:d+u<this._min&&(u=this._min-d),this._snapClampSetValue(d+u)}c=y.clientY},p=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",p)},g=()=>{this._inputFocused=!0},v=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",t),this.$input.addEventListener("keydown",r),this.$input.addEventListener("wheel",s,{passive:!1}),this.$input.addEventListener("mousedown",h),this.$input.addEventListener("focus",g),this.$input.addEventListener("blur",v)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=(v,y,_,x,w)=>(v-y)/(_-y)*(w-x)+x,t=v=>{const y=this.$slider.getBoundingClientRect();let _=e(v,y.left,y.right,this._min,this._max);this._snapClampSetValue(_)},i=v=>{this._setDraggingStyle(!0),t(v.clientX),window.addEventListener("mousemove",r),window.addEventListener("mouseup",s)},r=v=>{t(v.clientX)},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",s)};let o=!1,a,l;const c=v=>{v.preventDefault(),this._setDraggingStyle(!0),t(v.touches[0].clientX),o=!1},d=v=>{v.touches.length>1||(this._hasScrollBar?(a=v.touches[0].clientX,l=v.touches[0].clientY,o=!0):c(v),window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",f))},u=v=>{if(o){const y=v.touches[0].clientX-a,_=v.touches[0].clientY-l;Math.abs(y)>Math.abs(_)?c(v):(window.removeEventListener("touchmove",u),window.removeEventListener("touchend",f))}else v.preventDefault(),t(v.touches[0].clientX)},f=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",u),window.removeEventListener("touchend",f)},h=this._callOnFinishChange.bind(this),m=400;let p;const g=v=>{if(Math.abs(v.deltaX)<Math.abs(v.deltaY)&&this._hasScrollBar)return;v.preventDefault();const _=this._normalizeMouseWheel(v)*this._step;this._snapClampSetValue(this.getValue()+_),this.$input.value=this.getValue(),clearTimeout(p),p=setTimeout(h,m)};this.$slider.addEventListener("mousedown",i),this.$slider.addEventListener("touchstart",d,{passive:!1}),this.$slider.addEventListener("wheel",g,{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${t}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:i}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,i=-e.wheelDelta/120,i*=this._stepExplicit?1:10),t+-i}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class r6 extends wr{constructor(e,t,i,r){super(e,t,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach(s=>{const o=document.createElement("option");o.innerHTML=s,this.$select.appendChild(o)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=t===-1?e:this._names[t],this}}class s6 extends wr{constructor(e,t,i){super(e,t,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const o6=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function a6(n){const e=document.createElement("style");e.innerHTML=n;const t=document.querySelector("head link[rel=stylesheet], head style");t?document.head.insertBefore(e,t):document.head.appendChild(e)}let ab=!1;class S_{constructor({parent:e,autoPlace:t=e===void 0,container:i,width:r,title:s="Controls",closeFolders:o=!1,injectStyles:a=!0,touchStyles:l=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",c=>{(c.code==="Enter"||c.code==="Space")&&(c.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(s),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),l&&this.domElement.classList.add("allow-touch-styles"),!ab&&a&&(a6(o6),ab=!0),i?i.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this._closeFolders=o}add(e,t,i,r,s){if(Object(i)===i)return new r6(this,e,t,i);const o=e[t];switch(typeof o){case"number":return new i6(this,e,t,i,r,s);case"boolean":return new Kj(this,e,t);case"string":return new s6(this,e,t);case"function":return new Nm(this,e,t)}console.error(`gui.add failed
	property:`,t,`
	object:`,e,`
	value:`,o)}addColor(e,t,i=1){return new n6(this,e,t,i)}addFolder(e){const t=new S_({parent:this,title:e});return this.root._closeFolders&&t.close(),t}load(e,t=!0){return e.controllers&&this.controllers.forEach(i=>{i instanceof Nm||i._name in e.controllers&&i.load(e.controllers[i._name])}),t&&e.folders&&this.folders.forEach(i=>{i._title in e.folders&&i.load(e.folders[i._title])}),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach(i=>{if(!(i instanceof Nm)){if(i._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${i._name}"`);t.controllers[i._name]=i.save()}}),e&&this.folders.forEach(i=>{if(i._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${i._title}"`);t.folders[i._title]=i.save()}),t}open(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const i=s=>{s.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);const r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onOpenClose(e){return this._onOpenClose=e,this}_callOnOpenClose(e){this.parent&&this.parent._callOnOpenClose(e),this._onOpenClose!==void 0&&this._onOpenClose.call(this,e)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}}class l6{constructor(){q(this,"active");q(this,"ui");this.active=window.location.hash==="#debug",this.active&&(this.ui=new S_)}}let zm=null;class dn{constructor(e={}){q(this,"canvas");q(this,"debug");q(this,"sizes");q(this,"time");q(this,"scene");q(this,"renderer");q(this,"resources");q(this,"world");q(this,"loader");if(zm)return zm;zm=this,window.experience=this,new ro,this.canvas=e.targetElement,this.debug=new l6,this.sizes=new XU,this.time=new qU,this.scene=new EB,this.renderer=new YU,this.resources=new Xj(qj,this.renderer.instance),this.world=new dj,this.loader=new Yj,this.sizes.on("resize",this.resize.bind(this)),this.time.on("tick",this.update.bind(this)),this.resources.on("ready",()=>{this.renderer.setOrbitControls(),this.renderer.setComposer(),this.loader.onReady()})}resize(){this.world.resize(),this.renderer.resize()}update(){this.loader.update(),this.world.update(),this.renderer.update()}destroy(){this.sizes.off("resize"),this.time.off("tick"),this.scene.traverse(e=>{if(e instanceof Rt){e.geometry.dispose();for(const t in e.material){const i=e.material[t];typeof(i==null?void 0:i.dispose)=="function"&&i.dispose()}}}),this.renderer.instance.dispose(),this.debug.active&&this.debug.ui&&this.debug.ui.destroy()}}function u6(){const n=j.useRef();return gi(),j.useEffect(()=>{const e=document.querySelector("canvas.webgl");if(!e)throw new Error("Failed to find the canvas element");n.current=new dn({targetElement:e})},[]),D.jsx("canvas",{className:"webgl"})}const c6="Hero-root_dhQoW",f6="Hero-head_cg1xu",d6="Hero-logoContainer_h6s98",h6="Hero-middle_2Bt2F",p6="Hero-scroll_OMhVR",m6="Hero-scrollText_l6Fv-",g6="Hero-gone_Nkhdp",v6="Hero-scrollIndicator_xvTVt",_6="Hero-scramble_7wxOC",y6="Hero-footer_zj4NM",x6="Hero-dud_s-irb",Fn={root:c6,head:f6,logoContainer:d6,middle:h6,scroll:p6,scrollText:m6,gone:g6,scrollIndicator:v6,scramble:_6,footer:y6,dud:x6};function w6({offset:n=100}){const[e,t]=j.useState(!1),i=j.useCallback(()=>{window.scrollY>n&&!e&&t(!0),window.scrollY<n&&e&&t(!1)},[e,n]);return j.useEffect(()=>(window.addEventListener("scroll",i,!1),()=>{window.removeEventListener("scroll",i)}),[e,i]),{gone:e}}var GA={exports:{}};(function(n,e){(function(i,r){n.exports=r(j)})(Rn,t=>(()=>{var i={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=m,l.parse=p;var c=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,d=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,u=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/;function m(_,x){return p(_).some(function(w){var T=w.inverse,S=w.type==="all"||x.type===w.type;if(S&&T||!(S||T))return!1;var b=w.expressions.every(function(M){var E=M.feature,O=M.modifier,V=M.value,I=x[E];if(!I)return!1;switch(E){case"orientation":case"scan":return I.toLowerCase()===V.toLowerCase();case"width":case"height":case"device-width":case"device-height":V=y(V),I=y(I);break;case"resolution":V=v(V),I=v(I);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":V=g(V),I=g(I);break;case"grid":case"color":case"color-index":case"monochrome":V=parseInt(V,10)||1,I=parseInt(I,10)||0;break}switch(O){case"min":return I>=V;case"max":return I<=V;default:return I===V}});return b&&!T||!b&&T})}function p(_){return _.split(",").map(function(x){x=x.trim();var w=x.match(c),T=w[1],S=w[2],b=w[3]||"",M={};return M.inverse=!!T&&T.toLowerCase()==="not",M.type=S?S.toLowerCase():"all",b=b.match(/\([^\)]+\)/g)||[],M.expressions=b.map(function(E){var O=E.match(d),V=O[1].toLowerCase().match(u);return{modifier:V[1],feature:V[2],value:O[2]}}),M})}function g(_){var x=Number(_),w;return x||(w=_.match(/^(\d+)\s*\/\s*(\d+)$/),x=w[1]/w[2]),x}function v(_){var x=parseFloat(_),w=String(_).match(h)[1];switch(w){case"dpcm":return x/2.54;case"dppx":return x*96;default:return x}}function y(_){var x=parseFloat(_),w=String(_).match(f)[1];switch(w){case"em":return x*16;case"rem":return x*16;case"cm":return x*96/2.54;case"mm":return x*96/2.54/10;case"in":return x*96;case"pt":return x*72;case"pc":return x*72/12;default:return x}}},"./node_modules/hyphenate-style-name/index.js":(a,l,c)=>{c.r(l),c.d(l,{default:()=>p});var d=/[A-Z]/g,u=/^ms-/,f={};function h(g){return"-"+g.toLowerCase()}function m(g){if(f.hasOwnProperty(g))return f[g];var v=g.replace(d,h);return f[g]=u.test(v)?"-"+v:v}const p=m},"./node_modules/matchmediaquery/index.js":(a,l,c)=>{var d=c("./node_modules/css-mediaquery/index.js").match,u=typeof window<"u"?window.matchMedia:null;function f(m,p,g){var v=this;if(u&&!g){var y=u.call(window,m);this.matches=y.matches,this.media=y.media,y.addListener(w)}else this.matches=d(m,p),this.media=m;this.addListener=_,this.removeListener=x,this.dispose=T;function _(S){y&&y.addListener(S)}function x(S){y&&y.removeListener(S)}function w(S){v.matches=S.matches,v.media=S.media}function T(){y&&y.removeListener(w)}}function h(m,p,g){return new f(m,p,g)}a.exports=h},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function u(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}function f(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var m={},p=0;p<10;p++)m["_"+String.fromCharCode(p)]=p;var g=Object.getOwnPropertyNames(m).map(function(y){return m[y]});if(g.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(y){v[y]=y}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=f()?Object.assign:function(h,m){for(var p,g=u(h),v,y=1;y<arguments.length;y++){p=Object(arguments[y]);for(var _ in p)c.call(p,_)&&(g[_]=p[_]);if(l){v=l(p);for(var x=0;x<v.length;x++)d.call(p,v[x])&&(g[v[x]]=p[v[x]])}}return g}},"./node_modules/prop-types/checkPropTypes.js":(a,l,c)=>{var d=function(){};{var u=c("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),f={},h=c("./node_modules/prop-types/lib/has.js");d=function(p){var g="Warning: "+p;typeof console<"u"&&console.error(g);try{throw new Error(g)}catch{}}}function m(p,g,v,y,_){for(var x in p)if(h(p,x)){var w;try{if(typeof p[x]!="function"){var T=Error((y||"React class")+": "+v+" type `"+x+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof p[x]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw T.name="Invariant Violation",T}w=p[x](g,x,y,v,null,u)}catch(b){w=b}if(w&&!(w instanceof Error)&&d((y||"React class")+": type specification of "+v+" `"+x+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof w+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),w instanceof Error&&!(w.message in f)){f[w.message]=!0;var S=_?_():"";d("Failed "+v+" type: "+w.message+(S??""))}}}m.resetWarningCache=function(){f={}},a.exports=m},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,c)=>{var d=c("./node_modules/react-is/index.js"),u=c("./node_modules/object-assign/index.js"),f=c("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h=c("./node_modules/prop-types/lib/has.js"),m=c("./node_modules/prop-types/checkPropTypes.js"),p=function(){};p=function(v){var y="Warning: "+v;typeof console<"u"&&console.error(y);try{throw new Error(y)}catch{}};function g(){return null}a.exports=function(v,y){var _=typeof Symbol=="function"&&Symbol.iterator,x="@@iterator";function w(Q){var he=Q&&(_&&Q[_]||Q[x]);if(typeof he=="function")return he}var T="<<anonymous>>",S={array:O("array"),bigint:O("bigint"),bool:O("boolean"),func:O("function"),number:O("number"),object:O("object"),string:O("string"),symbol:O("symbol"),any:V(),arrayOf:I,element:N(),elementType:C(),instanceOf:B,node:X(),objectOf:P,oneOf:H,oneOfType:Y,shape:Z,exact:re};function b(Q,he){return Q===he?Q!==0||1/Q===1/he:Q!==Q&&he!==he}function M(Q,he){this.message=Q,this.data=he&&typeof he=="object"?he:{},this.stack=""}M.prototype=Error.prototype;function E(Q){var he={},Se=0;function ye(ze,Fe,Be,Ne,Oe,Ve,xe){if(Ne=Ne||T,Ve=Ve||Be,xe!==f){if(y){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}else if(typeof console<"u"){var L=Ne+":"+Be;!he[L]&&Se<3&&(p("You are manually calling a React.PropTypes validation function for the `"+Ve+"` prop on `"+Ne+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),he[L]=!0,Se++)}}return Fe[Be]==null?ze?Fe[Be]===null?new M("The "+Oe+" `"+Ve+"` is marked as required "+("in `"+Ne+"`, but its value is `null`.")):new M("The "+Oe+" `"+Ve+"` is marked as required in "+("`"+Ne+"`, but its value is `undefined`.")):null:Q(Fe,Be,Ne,Oe,Ve)}var Pe=ye.bind(null,!1);return Pe.isRequired=ye.bind(null,!0),Pe}function O(Q){function he(Se,ye,Pe,ze,Fe,Be){var Ne=Se[ye],Oe=te(Ne);if(Oe!==Q){var Ve=ke(Ne);return new M("Invalid "+ze+" `"+Fe+"` of type "+("`"+Ve+"` supplied to `"+Pe+"`, expected ")+("`"+Q+"`."),{expectedType:Q})}return null}return E(he)}function V(){return E(g)}function I(Q){function he(Se,ye,Pe,ze,Fe){if(typeof Q!="function")return new M("Property `"+Fe+"` of component `"+Pe+"` has invalid PropType notation inside arrayOf.");var Be=Se[ye];if(!Array.isArray(Be)){var Ne=te(Be);return new M("Invalid "+ze+" `"+Fe+"` of type "+("`"+Ne+"` supplied to `"+Pe+"`, expected an array."))}for(var Oe=0;Oe<Be.length;Oe++){var Ve=Q(Be,Oe,Pe,ze,Fe+"["+Oe+"]",f);if(Ve instanceof Error)return Ve}return null}return E(he)}function N(){function Q(he,Se,ye,Pe,ze){var Fe=he[Se];if(!v(Fe)){var Be=te(Fe);return new M("Invalid "+Pe+" `"+ze+"` of type "+("`"+Be+"` supplied to `"+ye+"`, expected a single ReactElement."))}return null}return E(Q)}function C(){function Q(he,Se,ye,Pe,ze){var Fe=he[Se];if(!d.isValidElementType(Fe)){var Be=te(Fe);return new M("Invalid "+Pe+" `"+ze+"` of type "+("`"+Be+"` supplied to `"+ye+"`, expected a single ReactElement type."))}return null}return E(Q)}function B(Q){function he(Se,ye,Pe,ze,Fe){if(!(Se[ye]instanceof Q)){var Be=Q.name||T,Ne=Re(Se[ye]);return new M("Invalid "+ze+" `"+Fe+"` of type "+("`"+Ne+"` supplied to `"+Pe+"`, expected ")+("instance of `"+Be+"`."))}return null}return E(he)}function H(Q){if(!Array.isArray(Q))return arguments.length>1?p("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):p("Invalid argument supplied to oneOf, expected an array."),g;function he(Se,ye,Pe,ze,Fe){for(var Be=Se[ye],Ne=0;Ne<Q.length;Ne++)if(b(Be,Q[Ne]))return null;var Oe=JSON.stringify(Q,function(xe,F){var L=ke(F);return L==="symbol"?String(F):F});return new M("Invalid "+ze+" `"+Fe+"` of value `"+String(Be)+"` "+("supplied to `"+Pe+"`, expected one of "+Oe+"."))}return E(he)}function P(Q){function he(Se,ye,Pe,ze,Fe){if(typeof Q!="function")return new M("Property `"+Fe+"` of component `"+Pe+"` has invalid PropType notation inside objectOf.");var Be=Se[ye],Ne=te(Be);if(Ne!=="object")return new M("Invalid "+ze+" `"+Fe+"` of type "+("`"+Ne+"` supplied to `"+Pe+"`, expected an object."));for(var Oe in Be)if(h(Be,Oe)){var Ve=Q(Be,Oe,Pe,ze,Fe+"."+Oe,f);if(Ve instanceof Error)return Ve}return null}return E(he)}function Y(Q){if(!Array.isArray(Q))return p("Invalid argument supplied to oneOfType, expected an instance of array."),g;for(var he=0;he<Q.length;he++){var Se=Q[he];if(typeof Se!="function")return p("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Te(Se)+" at index "+he+"."),g}function ye(Pe,ze,Fe,Be,Ne){for(var Oe=[],Ve=0;Ve<Q.length;Ve++){var xe=Q[Ve],F=xe(Pe,ze,Fe,Be,Ne,f);if(F==null)return null;F.data&&h(F.data,"expectedType")&&Oe.push(F.data.expectedType)}var L=Oe.length>0?", expected one of type ["+Oe.join(", ")+"]":"";return new M("Invalid "+Be+" `"+Ne+"` supplied to "+("`"+Fe+"`"+L+"."))}return E(ye)}function X(){function Q(he,Se,ye,Pe,ze){return se(he[Se])?null:new M("Invalid "+Pe+" `"+ze+"` supplied to "+("`"+ye+"`, expected a ReactNode."))}return E(Q)}function $(Q,he,Se,ye,Pe){return new M((Q||"React class")+": "+he+" type `"+Se+"."+ye+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Pe+"`.")}function Z(Q){function he(Se,ye,Pe,ze,Fe){var Be=Se[ye],Ne=te(Be);if(Ne!=="object")return new M("Invalid "+ze+" `"+Fe+"` of type `"+Ne+"` "+("supplied to `"+Pe+"`, expected `object`."));for(var Oe in Q){var Ve=Q[Oe];if(typeof Ve!="function")return $(Pe,ze,Fe,Oe,ke(Ve));var xe=Ve(Be,Oe,Pe,ze,Fe+"."+Oe,f);if(xe)return xe}return null}return E(he)}function re(Q){function he(Se,ye,Pe,ze,Fe){var Be=Se[ye],Ne=te(Be);if(Ne!=="object")return new M("Invalid "+ze+" `"+Fe+"` of type `"+Ne+"` "+("supplied to `"+Pe+"`, expected `object`."));var Oe=u({},Se[ye],Q);for(var Ve in Oe){var xe=Q[Ve];if(h(Q,Ve)&&typeof xe!="function")return $(Pe,ze,Fe,Ve,ke(xe));if(!xe)return new M("Invalid "+ze+" `"+Fe+"` key `"+Ve+"` supplied to `"+Pe+"`.\nBad object: "+JSON.stringify(Se[ye],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Q),null,"  "));var F=xe(Be,Ve,Pe,ze,Fe+"."+Ve,f);if(F)return F}return null}return E(he)}function se(Q){switch(typeof Q){case"number":case"string":case"undefined":return!0;case"boolean":return!Q;case"object":if(Array.isArray(Q))return Q.every(se);if(Q===null||v(Q))return!0;var he=w(Q);if(he){var Se=he.call(Q),ye;if(he!==Q.entries){for(;!(ye=Se.next()).done;)if(!se(ye.value))return!1}else for(;!(ye=Se.next()).done;){var Pe=ye.value;if(Pe&&!se(Pe[1]))return!1}}else return!1;return!0;default:return!1}}function ve(Q,he){return Q==="symbol"?!0:he?he["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&he instanceof Symbol:!1}function te(Q){var he=typeof Q;return Array.isArray(Q)?"array":Q instanceof RegExp?"object":ve(he,Q)?"symbol":he}function ke(Q){if(typeof Q>"u"||Q===null)return""+Q;var he=te(Q);if(he==="object"){if(Q instanceof Date)return"date";if(Q instanceof RegExp)return"regexp"}return he}function Te(Q){var he=ke(Q);switch(he){case"array":case"object":return"an "+he;case"boolean":case"date":case"regexp":return"a "+he;default:return he}}function Re(Q){return!Q.constructor||!Q.constructor.name?T:Q.constructor.name}return S.checkPropTypes=m,S.resetWarningCache=m.resetWarningCache,S.PropTypes=S,S}},"./node_modules/prop-types/index.js":(a,l,c)=>{{var d=c("./node_modules/react-is/index.js"),u=!0;a.exports=c("./node_modules/prop-types/factoryWithTypeCheckers.js")(d.isElement,u)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var c=typeof Symbol=="function"&&Symbol.for,d=c?Symbol.for("react.element"):60103,u=c?Symbol.for("react.portal"):60106,f=c?Symbol.for("react.fragment"):60107,h=c?Symbol.for("react.strict_mode"):60108,m=c?Symbol.for("react.profiler"):60114,p=c?Symbol.for("react.provider"):60109,g=c?Symbol.for("react.context"):60110,v=c?Symbol.for("react.async_mode"):60111,y=c?Symbol.for("react.concurrent_mode"):60111,_=c?Symbol.for("react.forward_ref"):60112,x=c?Symbol.for("react.suspense"):60113,w=c?Symbol.for("react.suspense_list"):60120,T=c?Symbol.for("react.memo"):60115,S=c?Symbol.for("react.lazy"):60116,b=c?Symbol.for("react.block"):60121,M=c?Symbol.for("react.fundamental"):60117,E=c?Symbol.for("react.responder"):60118,O=c?Symbol.for("react.scope"):60119;function V(xe){return typeof xe=="string"||typeof xe=="function"||xe===f||xe===y||xe===m||xe===h||xe===x||xe===w||typeof xe=="object"&&xe!==null&&(xe.$$typeof===S||xe.$$typeof===T||xe.$$typeof===p||xe.$$typeof===g||xe.$$typeof===_||xe.$$typeof===M||xe.$$typeof===E||xe.$$typeof===O||xe.$$typeof===b)}function I(xe){if(typeof xe=="object"&&xe!==null){var F=xe.$$typeof;switch(F){case d:var L=xe.type;switch(L){case v:case y:case f:case m:case h:case x:return L;default:var oe=L&&L.$$typeof;switch(oe){case g:case _:case S:case T:case p:return oe;default:return F}}case u:return F}}}var N=v,C=y,B=g,H=p,P=d,Y=_,X=f,$=S,Z=T,re=u,se=m,ve=h,te=x,ke=!1;function Te(xe){return ke||(ke=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Re(xe)||I(xe)===v}function Re(xe){return I(xe)===y}function Q(xe){return I(xe)===g}function he(xe){return I(xe)===p}function Se(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===d}function ye(xe){return I(xe)===_}function Pe(xe){return I(xe)===f}function ze(xe){return I(xe)===S}function Fe(xe){return I(xe)===T}function Be(xe){return I(xe)===u}function Ne(xe){return I(xe)===m}function Oe(xe){return I(xe)===h}function Ve(xe){return I(xe)===x}l.AsyncMode=N,l.ConcurrentMode=C,l.ContextConsumer=B,l.ContextProvider=H,l.Element=P,l.ForwardRef=Y,l.Fragment=X,l.Lazy=$,l.Memo=Z,l.Portal=re,l.Profiler=se,l.StrictMode=ve,l.Suspense=te,l.isAsyncMode=Te,l.isConcurrentMode=Re,l.isContextConsumer=Q,l.isContextProvider=he,l.isElement=Se,l.isForwardRef=ye,l.isFragment=Pe,l.isLazy=ze,l.isMemo=Fe,l.isPortal=Be,l.isProfiler=Ne,l.isStrictMode=Oe,l.isSuspense=Ve,l.isValidElementType=V,l.typeOf=I})()},"./node_modules/react-is/index.js":(a,l,c)=>{a.exports=c("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,c)=>{c.r(l),c.d(l,{shallowEqualArrays:()=>u,shallowEqualObjects:()=>d});function d(f,h){if(f===h)return!0;if(!f||!h)return!1;var m=Object.keys(f),p=Object.keys(h),g=m.length;if(p.length!==g)return!1;for(var v=0;v<g;v++){var y=m[v];if(f[y]!==h[y]||!Object.prototype.hasOwnProperty.call(h,y))return!1}return!0}function u(f,h){if(f===h)return!0;if(!f||!h)return!1;var m=f.length;if(h.length!==m)return!1;for(var p=0;p<m;p++)if(f[p]!==h[p])return!1;return!0}},"./src/Component.ts":function(a,l,c){var d=this&&this.__rest||function(m,p){var g={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&p.indexOf(v)<0&&(g[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,v=Object.getOwnPropertySymbols(m);y<v.length;y++)p.indexOf(v[y])<0&&Object.prototype.propertyIsEnumerable.call(m,v[y])&&(g[v[y]]=m[v[y]]);return g},u=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(l,"__esModule",{value:!0});var f=u(c("./src/useMediaQuery.ts")),h=function(m){var p=m.children,g=m.device,v=m.onChange,y=d(m,["children","device","onChange"]),_=(0,f.default)(y,g,v);return typeof p=="function"?p(_):_?p:null};l.default=h},"./src/Context.ts":(a,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});var d=c("react"),u=(0,d.createContext)(void 0);l.default=u},"./src/index.ts":function(a,l,c){var d=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var u=d(c("./src/useMediaQuery.ts"));l.useMediaQuery=u.default;var f=d(c("./src/Component.ts"));l.default=f.default;var h=d(c("./src/toQuery.ts"));l.toQuery=h.default;var m=d(c("./src/Context.ts"));l.Context=m.default},"./src/mediaQuery.ts":function(a,l,c){var d=this&&this.__assign||function(){return d=Object.assign||function(x){for(var w,T=1,S=arguments.length;T<S;T++){w=arguments[T];for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(x[b]=w[b])}return x},d.apply(this,arguments)},u=this&&this.__rest||function(x,w){var T={};for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&w.indexOf(S)<0&&(T[S]=x[S]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,S=Object.getOwnPropertySymbols(x);b<S.length;b++)w.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(x,S[b])&&(T[S[b]]=x[S[b]]);return T},f=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(l,"__esModule",{value:!0});var h=f(c("./node_modules/prop-types/index.js")),m=h.default.oneOfType([h.default.string,h.default.number]),p={all:h.default.bool,grid:h.default.bool,aural:h.default.bool,braille:h.default.bool,handheld:h.default.bool,print:h.default.bool,projection:h.default.bool,screen:h.default.bool,tty:h.default.bool,tv:h.default.bool,embossed:h.default.bool},g={orientation:h.default.oneOf(["portrait","landscape"]),scan:h.default.oneOf(["progressive","interlace"]),aspectRatio:h.default.string,deviceAspectRatio:h.default.string,height:m,deviceHeight:m,width:m,deviceWidth:m,color:h.default.bool,colorIndex:h.default.bool,monochrome:h.default.bool,resolution:m,type:Object.keys(p)};g.type;var v=u(g,["type"]),y=d({minAspectRatio:h.default.string,maxAspectRatio:h.default.string,minDeviceAspectRatio:h.default.string,maxDeviceAspectRatio:h.default.string,minHeight:m,maxHeight:m,minDeviceHeight:m,maxDeviceHeight:m,minWidth:m,maxWidth:m,minDeviceWidth:m,maxDeviceWidth:m,minColor:h.default.number,maxColor:h.default.number,minColorIndex:h.default.number,maxColorIndex:h.default.number,minMonochrome:h.default.number,maxMonochrome:h.default.number,minResolution:m,maxResolution:m},v),_=d(d({},p),y);l.default={all:_,types:p,matchers:g,features:y}},"./src/toQuery.ts":function(a,l,c){var d=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0});var u=d(c("./node_modules/hyphenate-style-name/index.js")),f=d(c("./src/mediaQuery.ts")),h=function(v){return"not ".concat(v)},m=function(v,y){var _=(0,u.default)(v);return typeof y=="number"&&(y="".concat(y,"px")),y===!0?_:y===!1?h(_):"(".concat(_,": ").concat(y,")")},p=function(v){return v.join(" and ")},g=function(v){var y=[];return Object.keys(f.default.all).forEach(function(_){var x=v[_];x!=null&&y.push(m(_,x))}),p(y)};l.default=g},"./src/useMediaQuery.ts":function(a,l,c){var d=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(l,"__esModule",{value:!0});var u=c("react"),f=d(c("./node_modules/matchmediaquery/index.js")),h=d(c("./node_modules/hyphenate-style-name/index.js")),m=c("./node_modules/shallow-equal/dist/index.esm.js"),p=d(c("./src/toQuery.ts")),g=d(c("./src/Context.ts")),v=function(M){return M.query||(0,p.default)(M)},y=function(M){if(M){var E=Object.keys(M);return E.reduce(function(O,V){return O[(0,h.default)(V)]=M[V],O},{})}},_=function(){var M=(0,u.useRef)(!1);return(0,u.useEffect)(function(){M.current=!0},[]),M.current},x=function(M){var E=(0,u.useContext)(g.default),O=function(){return y(M)||y(E)},V=(0,u.useState)(O),I=V[0],N=V[1];return(0,u.useEffect)(function(){var C=O();(0,m.shallowEqualObjects)(I,C)||N(C)},[M,E]),I},w=function(M){var E=function(){return v(M)},O=(0,u.useState)(E),V=O[0],I=O[1];return(0,u.useEffect)(function(){var N=E();V!==N&&I(N)},[M]),V},T=function(M,E){var O=function(){return(0,f.default)(M,E||{},!!E)},V=(0,u.useState)(O),I=V[0],N=V[1],C=_();return(0,u.useEffect)(function(){if(C){var B=O();return N(B),function(){B&&B.dispose()}}},[M,E]),I},S=function(M){var E=(0,u.useState)(M.matches),O=E[0],V=E[1];return(0,u.useEffect)(function(){var I=function(N){V(N.matches)};return M.addListener(I),V(M.matches),function(){M.removeListener(I)}},[M]),O},b=function(M,E,O){var V=x(E),I=w(M);if(!I)throw new Error("Invalid or missing MediaQuery!");var N=T(I,V),C=S(N),B=_();return(0,u.useEffect)(function(){B&&O&&O(C)},[C]),(0,u.useEffect)(function(){return function(){N&&N.dispose()}},[]),C};l.default=b},react:a=>{a.exports=t}},r={};function s(a){var l=r[a];if(l!==void 0)return l.exports;var c=r[a]={exports:{}};return i[a].call(c.exports,c,c.exports,s),c.exports}s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(GA);var Gc=GA.exports;const b6="Logo-root_jOP0q",S6="Logo-light_PAmMm",M6="Logo-bold_6XKub",T6="Logo-inner_YVVUk",E6="Logo-hidden_s7Jyc",A6="Logo-toWhite_Uyzdi",C6="Logo-toBlack_rDyej",D6="Logo-enter_pToPR",Ki={root:b6,light:S6,bold:M6,inner:T6,hidden:E6,toWhite:A6,"to-white":"Logo-to-white_YP8g7",toBlack:C6,"to-black":"Logo-to-black_atoy0",enter:D6};function P6(){const n=no(),[e,t]=j.useState(!1),[i,r]=j.useState(!1),s=j.useRef(n.pathname),o=$t(c=>c.app),a=j.useCallback(c=>{c.animationName===Ki["to-white"]&&r(!1)},[]);j.useEffect(()=>{setTimeout(()=>{t(!0)},500)},[]),j.useEffect(()=>{s.current!==n.pathname&&n.pathname==="/"&&r(!0),s.current=n.pathname},[i,n.pathname]);const l=at(Ki.root,{[Ki.hidden]:!e,[Ki.toWhite]:o.ready&&i,[Ki.toBlack]:o.ready&&n.pathname!=="/"});return D.jsxs("div",{className:l,children:[D.jsx("span",{className:Ki.light,children:D.jsx("span",{className:Ki.inner,onAnimationEnd:a,children:"They"})}),D.jsx("span",{className:Ki.light,children:D.jsx("span",{className:Ki.inner,children:"call me"})}),D.jsx("span",{className:Ki.bold,children:D.jsx("span",{className:Ki.inner,children:"Jayanth"})})]})}function Qh({children:n,name:e,className:t,onEnter:i,onResize:r}){const s=gi(),{scroll:o,section:a,sizes:l}=$t(h=>({scroll:h.scroll,section:h.section,sizes:h.sizes})),c=j.useRef(l),d=j.useRef(null),u=j.useCallback(()=>{o&&d.current&&s.section.setBoundary({name:e,start:d.current.offsetTop,end:d.current.offsetTop+d.current.offsetHeight})},[s,e,o]);j.useEffect(u,[o]),j.useEffect(()=>{if(l.width!==c.current.width||l.height!==c.current.height){u();const h=a.boundaries.find(m=>m.name===e);h&&(r==null||r(h))}},[l]);const f=j.useCallback(()=>{const h=window.scrollY+l.height/2,m=a.boundaries.find(p=>p.name===e);a.current!==e&&m&&h>=m.start&&h<m.end&&(s.section.update(e),i==null||i(m))},[l,a,s]);return j.useEffect(()=>(window.addEventListener("scroll",f),a.current!=="portfolio"&&s.pointer.setType("default"),()=>{window.removeEventListener("scroll",f)}),[l,a,s]),D.jsx("section",{ref:d,className:t,children:n})}const L6="AudioWave-root_HhlPZ",R6="AudioWave-wave_fvwol",O6="AudioWave-rotate_l2YJn",k6="AudioWave-isPlaying_-5ibp",I6="AudioWave-hidden_RfPKy",F6="AudioWave-bar_TMpME",Ir={root:L6,wave:R6,rotate:O6,isPlaying:k6,hidden:I6,bar:F6,"audio-wave":"AudioWave-audio-wave_XLYvF"};function N6(){const n=j.useRef(null),e=$t(s=>s.app),[t,i]=j.useState(!1),r=j.useCallback(()=>{if(!n.current)return;const s=n.current;s.playing()?(s.fade(1,0,1e3),s.once("fade",()=>{s.stop(),i(!1)})):(i(!0),s.play(),s.fade(0,1,1e3))},[]);return j.useEffect(()=>{n.current=new $l.Howl({src:["/audio/background.mp3"],loop:!0,volume:0})},[]),j.useEffect(()=>{e.ready&&n.current&&(i(!0),n.current.play(),n.current.fade(0,1,3e3))},[e.ready]),{toggle:r,isPlaying:t}}function z6(){const n=j.useRef(null),e=$t(t=>t.app);j.useEffect(()=>{n.current=new $l.Howl({src:["/audio/intro.mp3"],volume:0})},[]),j.useEffect(()=>{e.ready&&n.current&&(n.current.play(),n.current.fade(0,1,3e3))},[e.ready])}function B6(){const n=j.useRef(null),e=j.useRef("hero"),{audio:t,section:i}=$t(s=>({audio:s.audio,section:s.section})),r=i.current;j.useEffect(()=>{n.current=new $l.Howl({src:["/audio/vangelis.mp3"],volume:0})},[]),j.useEffect(()=>{if(!n.current)return;const s=n.current;t.mute&&s.playing()&&(s.fade(1,0,1e3),s.once("fade",()=>{s.stop()}))},[t.mute]),j.useEffect(()=>{if(!n.current)return;const s=r==="portfolio"&&e.current==="hero",o=n.current.playing(),a=t.mute;s&&!o&&!a&&(n.current.play(),n.current.fade(0,1,3e3)),e.current=r},[t.mute,r])}function U6(){const n=gi(),{app:e,audio:t}=$t(c=>({app:c.app,audio:c.audio})),{toggle:i,isPlaying:r}=N6();z6(),B6();const s=j.useCallback(()=>{t.mute?n.audio.unmute():n.audio.mute(),i()},[t.mute,n.audio,i]),o=j.useCallback(()=>{e.ready&&n.pointer.setType("hover")},[e.ready,n.pointer]),a=j.useCallback(()=>{e.ready&&n.pointer.setType("default")},[e.ready,n.pointer]),l=at(Ir.root,{[Ir.hidden]:!e.ready,[Ir.isPlaying]:r});return D.jsx("button",{className:l,onMouseEnter:o,onMouseLeave:a,children:D.jsxs("div",{className:Ir.wave,onClick:s,children:[D.jsx("div",{className:Ir.bar}),D.jsx("div",{className:Ir.bar}),D.jsx("div",{className:Ir.bar}),D.jsx("div",{className:Ir.bar}),D.jsx("div",{className:Ir.bar})]})})}const j6="Menu-desc_hsvV6",V6="Menu-line_43rXM",H6="Menu-hidden_STn9g",W6="Menu-separator_4spNe",mo={desc:j6,line:V6,hidden:H6,separator:W6},G6="MenuTrigger-root_r-lix",$6="MenuTrigger-notReady_REDDi",X6="MenuTrigger-start_blkR2",q6="MenuTrigger-line_PSLZ7",Y6="MenuTrigger-end_455wG",K6="MenuTrigger-open_d6NNB",J6="MenuTrigger-labels_U4UbY",Z6="MenuTrigger-labelMenu_mwAiH",Q6="MenuTrigger-labelDrag_NhZpS",eV="MenuTrigger-button_LXloc",tV="MenuTrigger-hidden_UnAdS",nV="MenuTrigger-circle_JmUxW",xi={root:G6,notReady:$6,start:X6,line:q6,end:Y6,open:K6,labels:J6,labelMenu:Z6,labelDrag:Q6,button:eV,hidden:tV,circle:nV};/*!
 * ScrollToPlugin 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Di,$A,Jr,_r,js,XA,qA,YA=function(){return typeof window<"u"},KA=function(){return Di||YA()&&(Di=window.gsap)&&Di.registerPlugin&&Di},JA=function(e){return typeof e=="string"},lb=function(e){return typeof e=="function"},Rc=function(e,t){var i=t==="x"?"Width":"Height",r="scroll"+i,s="client"+i;return e===Jr||e===_r||e===js?Math.max(_r[r],js[r])-(Jr["inner"+i]||_r[s]||js[s]):e[r]-e["offset"+i]},Oc=function(e,t){var i="scroll"+(t==="x"?"Left":"Top");return e===Jr&&(e.pageXOffset!=null?i="page"+t.toUpperCase()+"Offset":e=_r[i]!=null?_r:js),function(){return e[i]}},iV=function(e,t,i,r){if(lb(e)&&(e=e(t,i,r)),typeof e!="object")return JA(e)&&e!=="max"&&e.charAt(1)!=="="?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var s={},o;for(o in e)s[o]=o!=="onAutoKill"&&lb(e[o])?e[o](t,i,r):e[o];return s},ZA=function(e,t){if(e=XA(e)[0],!e||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var i=e.getBoundingClientRect(),r=!t||t===Jr||t===js,s=r?{top:_r.clientTop-(Jr.pageYOffset||_r.scrollTop||js.scrollTop||0),left:_r.clientLeft-(Jr.pageXOffset||_r.scrollLeft||js.scrollLeft||0)}:t.getBoundingClientRect(),o={x:i.left-s.left,y:i.top-s.top};return!r&&t&&(o.x+=Oc(t,"x")(),o.y+=Oc(t,"y")()),o},ub=function(e,t,i,r,s){return!isNaN(e)&&typeof e!="object"?parseFloat(e)-s:JA(e)&&e.charAt(1)==="="?parseFloat(e.substr(2))*(e.charAt(0)==="-"?-1:1)+r-s:e==="max"?Rc(t,i)-s:Math.min(Rc(t,i),ZA(e,t)[i]-s)},cb=function(){Di=KA(),YA()&&Di&&document.body&&(Jr=window,js=document.body,_r=document.documentElement,XA=Di.utils.toArray,Di.config({autoKillThreshold:7}),qA=Di.config(),$A=1)},$c={version:"3.10.4",name:"scrollTo",rawVars:1,register:function(e){Di=e,cb()},init:function(e,t,i,r,s){$A||cb();var o=this,a=Di.getProperty(e,"scrollSnapType");o.isWin=e===Jr,o.target=e,o.tween=i,t=iV(t,r,e,s),o.vars=t,o.autoKill=!!t.autoKill,o.getX=Oc(e,"x"),o.getY=Oc(e,"y"),o.x=o.xPrev=o.getX(),o.y=o.yPrev=o.getY(),a&&a!=="none"&&(o.snap=1,o.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),t.x!=null?(o.add(o,"x",o.x,ub(t.x,e,"x",o.x,t.offsetX||0),r,s),o._props.push("scrollTo_x")):o.skipX=1,t.y!=null?(o.add(o,"y",o.y,ub(t.y,e,"y",o.y,t.offsetY||0),r,s),o._props.push("scrollTo_y")):o.skipY=1},render:function(e,t){for(var i=t._pt,r=t.target,s=t.tween,o=t.autoKill,a=t.xPrev,l=t.yPrev,c=t.isWin,d=t.snap,u=t.snapInline,f,h,m,p,g;i;)i.r(e,i.d),i=i._next;f=c||!t.skipX?t.getX():a,h=c||!t.skipY?t.getY():l,m=h-l,p=f-a,g=qA.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),o&&(!t.skipX&&(p>g||p<-g)&&f<Rc(r,"x")&&(t.skipX=1),!t.skipY&&(m>g||m<-g)&&h<Rc(r,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(s.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(s,t.vars.onAutoKillParams||[]))),c?Jr.scrollTo(t.skipX?f:t.x,t.skipY?h:t.y):(t.skipY||(r.scrollTop=t.y),t.skipX||(r.scrollLeft=t.x)),d&&(e===1||e===0)&&(h=r.scrollTop,f=r.scrollLeft,u?r.style.scrollSnapType=u:r.style.removeProperty("scroll-snap-type"),r.scrollTop=h+1,r.scrollLeft=f+1,r.scrollTop=h,r.scrollLeft=f),t.xPrev=t.x,t.yPrev=t.y},kill:function(e){var t=e==="scrollTo";(t||e==="scrollTo_x")&&(this.skipX=1),(t||e==="scrollTo_y")&&(this.skipY=1)}};$c.max=Rc;$c.getOffset=ZA;$c.buildGetter=Oc;KA()&&Di.registerPlugin($c);ge.registerPlugin($c);function rV(){const n=j.useRef(!1),e=gi(),[t,i]=j.useState(""),[r,s]=j.useState(!1),{menu:o,section:a,sizes:l}=$t(f=>({menu:f.menu,section:f.section,sizes:f.sizes})),c=Gc.useMediaQuery({minWidth:Kt.mdL}),d=j.useCallback(()=>{if(!o.open)return;let f=window.cursorNormalized.y+.5;c||(f=f*1.2);const h=a.boundaries.length,m=0,p=h-1,g=bv(Math.floor(f*h),m,p);g!==o.index&&e.menu.setIndex(g)},[o.open,o.index,c,a.boundaries.length,e.menu]),u=j.useCallback(()=>{e.menu.setIndex(-1)},[e.menu]);return j.useEffect(()=>{if(o.open&&n.current===!1){Ll.disablePageScroll(),i(a.current),d();const f=window.experience.world.titles;for(let h=0;h<f.length;h++)f[h].menuOpen(h)}if(!o.open&&n.current===!0){Ll.enablePageScroll();const f=a.boundaries[o.index];f.name!==t&&window.scrollTo(0,f.start);const m=window.experience.world.titles;for(let p=0;p<m.length;p++)m[p].menuClose();u()}n.current=o.open},[o.index,o.open,t,u,a,l.height,d]),j.useEffect(()=>(window.addEventListener("mousemove",d),window.addEventListener("touchmove",d),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("touchmove",d)}),[d]),{isScrolling:r}}function sV(n){const e=j.useRef(null),t=$t(r=>r.audio);return j.useEffect(()=>{e.current=new $l.Howl({src:[`/audio/hover${n.toString()}.mp3`],volume:1})},[n]),{play:j.useCallback(()=>{if(!e.current)return;const r=e.current.playing(),s=t.mute;!r&&!s&&e.current.play()},[t.mute])}}const oV=()=>{const n=no(),e=gi(),{app:t,menu:i,sizes:r}=$t(T=>({app:T.app,menu:T.menu,sizes:T.sizes})),[s,o]=j.useState(0),[a,l]=j.useState(0),[c,d]=j.useState(!0),{play:u}=sV(2),{isScrolling:f}=rV(),h=Gc.useMediaQuery({minWidth:Kt.lg}),m=j.useRef(null),p=j.useRef(null),g=j.useCallback(T=>{window.removeEventListener("mouseup",g),window.removeEventListener("touchend",g);const S=h?"mouseup":"touchend";T.type===S&&(e.menu.open(!1),e.pointer.setType("default"))},[e.menu,e.pointer,h]),v=j.useCallback(T=>{const S=h?"mousedown":"touchstart";f||T.type!==S||(e.menu.open(!0),e.pointer.setType("hidden"),window.addEventListener("mouseup",g),window.addEventListener("touchend",g))},[g,e.menu,e.pointer,h,f]),y=j.useCallback(T=>{if(!m.current)return;const{y:S}=TE(T),b=S-25,M=S-s-25;let E=0;b<s?E=0:b>a?E=a-s:E=M,ge.to(m.current,{y:E,duration:.3})},[s,a]),_=j.useCallback(()=>{u(),e.pointer.setType("drag")},[e.pointer,u]),x=j.useCallback(()=>{e.pointer.setType("default")},[e.pointer]);j.useEffect(()=>{i.open?(window.addEventListener("mousemove",y),window.addEventListener("touchmove",y)):(window.removeEventListener("mousemove",y),window.removeEventListener("touchmove",y),ge.killTweensOf(m.current),ge.set(m.current,{clearProps:"all",delay:.5}))},[i.open,y]),j.useEffect(()=>{t.ready&&m.current&&requestAnimationFrame(()=>{!m.current||!p.current||(o(m.current.getBoundingClientRect().top),l(p.current.getBoundingClientRect().top))})},[t.ready,e.menu,r.height]),j.useEffect(()=>{t.ready&&setTimeout(()=>{d(!1)},1700)},[t.ready]);const w=at(xi.root,{[xi.open]:i.open,[xi.notReady]:c,[xi.hidden]:n.pathname!=="/"});return D.jsx("div",{className:w,children:D.jsxs("button",{className:xi.button,onMouseEnter:_,onMouseLeave:x,onMouseDown:v,onTouchStart:v,children:[D.jsx("div",{className:xi.circle,ref:m,children:"Drop"}),D.jsxs("div",{className:xi.labels,children:[D.jsx("span",{className:xi.labelMenu,children:"Menu"}),D.jsx("span",{className:xi.labelDrag,children:"Drag"})]}),D.jsx("div",{className:xi.start}),D.jsx("div",{className:xi.line}),D.jsx("div",{className:xi.end,ref:p})]})})};function aV(){const n=no(),[e,t]=j.useState(!1),i=$t(a=>a.app);j.useEffect(()=>{setTimeout(()=>{t(!0)},500)},[]);const r=n.pathname==="/",s=at({[mo.hidden]:!e||!r}),o=at(mo.separator,{[mo.hidden]:!i.ready&&r});return D.jsxs("div",{className:s,children:[D.jsx("p",{className:mo.desc,children:D.jsx("span",{className:mo.line,children:"version 1.0"})}),D.jsx("p",{className:mo.desc,children:D.jsx("span",{className:mo.line,children:"Jan 2023 — March 2024"})}),D.jsx("hr",{className:o}),D.jsx(oV,{})]})}const lV="EnterCTA-root_9hIar",uV="EnterCTA-button_MJtYV",cV="EnterCTA-label_NLOKE",fV="EnterCTA-ring_VFyhl",dV="EnterCTA-loaded_SbKNm",hV="EnterCTA-blink_PHbd9",pV="EnterCTA-hidden_hSkLB",wi={root:lV,button:uV,label:cV,ring:fV,loaded:dV,blink:hV,hidden:pV};ge.registerPlugin(Vl);const mV="▲△◀∅∏▒▢◁≈▶▣▭",gV=()=>{const{t:n}=Bi(),e=$t(u=>u.app),[t,i]=j.useState(!1),r=j.useRef(null),s=j.useRef(null),o=gi(),a=j.useCallback(()=>{e.loaded&&o.app.setReady()},[e.loaded,o.app]);j.useEffect(()=>{var f;const u=(f=r.current)==null?void 0:f.querySelectorAll(`.${wi.ring}`);if(u)for(const h of u){const m=Sv(1,4),p=Sv(3,8);ge.to(h,{opacity:1,duration:2,delay:m}),ge.to(h,{rotation:360,ease:"none",duration:p,repeat:-1,delay:m})}},[]),j.useEffect(()=>{var u;if(e.loaded){const f=(u=r.current)==null?void 0:u.querySelectorAll(`.${wi.ring}`);f&&(ge.to(s.current,{scrambleText:{text:n("start"),chars:mV},duration:2}),f&&(ge.killTweensOf(f,"opacity"),ge.to(f,{opacity:.5,duration:.5})))}},[e.loaded,n]);const l=j.useCallback(()=>{e.loaded&&o.pointer.setType("hover")},[e.loaded,o.pointer]),c=j.useCallback(()=>{e.loaded&&o.pointer.setType("")},[e.loaded,o.pointer]);j.useEffect(()=>{setTimeout(()=>{i(!0)},3e3)},[]);const d=at(wi.root,{[wi.loaded]:e.loaded,[wi.hidden]:e.ready||!t});return D.jsx("div",{className:d,children:D.jsxs("button",{className:wi.button,ref:r,onClick:a,onMouseEnter:e.loaded?l:void 0,onMouseLeave:e.loaded?c:void 0,children:[D.jsx("span",{className:wi.ring}),D.jsx("span",{className:wi.ring}),D.jsx("span",{className:wi.ring}),D.jsx("span",{className:wi.ring}),D.jsx("span",{className:wi.ring}),D.jsx("em",{className:wi.label,ref:s,children:n("loading")})]})})},vV="LangSwitch-root_8ExJC",_V="LangSwitch-marker_8hStn",yV="LangSwitch-dark_nmhwe",xV="LangSwitch-hidden_lb4GR",wV="LangSwitch-active_mdA2T",bV="LangSwitch-button_9aIV6",SV="LangSwitch-label_g6cWj",go={root:vV,marker:_V,dark:yV,hidden:xV,active:wV,button:bV,label:SV},MV=["it","en"],TV=()=>{const n=gi(),{app:e,menu:t}=$t(f=>({app:f.app,menu:f.menu})),[i,r]=j.useState(!1),{i18n:s}=Bi(),o=no(),a=j.useCallback(f=>()=>{s.changeLanguage(f)},[s]),l=j.useCallback(()=>{n.pointer.setType("hover")},[n.pointer]),c=j.useCallback(()=>{n.pointer.setType("default")},[n.pointer]);j.useEffect(()=>{e.ready&&setTimeout(()=>{r(!0)},3500)},[e.ready]);const d=o.pathname==="/",u=at(go.root,{[go.hidden]:!i||t.open,[go.dark]:!d});return D.jsx("div",{className:u,children:MV.map(f=>{const h=f===s.resolvedLanguage,m=at(go.button,{[go.active]:h});return D.jsxs("button",{className:m,onClick:a(f),onMouseEnter:h?void 0:l,onMouseLeave:c,children:[D.jsx("span",{className:go.label,children:D.jsx("span",{children:f})}),D.jsx("span",{className:go.marker})]},f)})})},EV="GSAPScrumbleText-root_QHj6j",AV="GSAPScrumbleText-phrase_UGPVP",CV="GSAPScrumbleText-completed_-HD-Y",bu={root:EV,phrase:AV,completed:CV};ge.registerPlugin(Vl);const fb="▲△◀∅∏▒▢◁≈▶▣▭";function DV({content:n,paused:e}){const t=j.useRef(null),i=j.useRef(null),r=j.useRef(null),s=j.useRef();return j.useEffect(()=>{s.current&&s.current.kill(),s.current=ge.timeline({paused:e,delay:4});const o=1;for(let a=0;a<n.length;a++){const l=n[a];s.current.to(i.current,{duration:1.5,delay:o,scrambleText:{text:l[0],chars:fb,newClass:bu.completed,tweenLength:!1},onStart:()=>{ge.set(i.current,{opacity:1})}}),l[1]&&s.current.to(r.current,{duration:1.5,scrambleText:{text:l[1],chars:fb,newClass:bu.completed,tweenLength:!1},onStart:()=>{ge.set(r.current,{opacity:1})}}),a<n.length-1&&s.current.to([i.current,r.current],{opacity:0,duration:1.5,delay:o})}},[JSON.stringify(n.map((o,a)=>(o[0]==="They Call Me Giulio."&&(o[0]="They Call Me Jayanth"),Object.keys(o).filter(l=>l!=="text").sort((l,c)=>Number(l)-Number(c)).map(l=>o[0]),o)))]),j.useEffect(()=>{s.current&&(e||s.current.play())},[e]),D.jsxs("div",{className:bu.root,ref:t,children:[D.jsx("div",{className:bu.phrase,ref:i,children:" "}),D.jsx("div",{className:bu.phrase,ref:r,children:" "})]})}function PV(){const{t:n}=Bi("translation",{keyPrefix:"intro"}),e=Gc.useMediaQuery({minWidth:Kt.mdP}),t=[[n("p1.l1"),n("p1.l2")],[n("p2.l1"),n("p2.l2")],[n("p3.l1")],[n("p4.l1")]],{app:i,menu:r}=$t(l=>({app:l.app,menu:l.menu})),{gone:s}=w6({offset:e?200:50}),o=at(Fn.scramble,{[Fn.gone]:s||r.open}),a=at(Fn.scroll,{[Fn.gone]:s||r.open||!i.ready});return D.jsxs(D.Fragment,{children:[D.jsxs("header",{className:Fn.head,children:[D.jsx("div",{className:Fn.logoContainer,children:D.jsx(P6,{})}),D.jsx("div",{className:Fn.menuContainer,children:D.jsx(aV,{})}),D.jsx(TV,{})]}),D.jsxs(Qh,{name:"hero",className:Fn.root,children:[D.jsxs("div",{className:Fn.middle,children:[D.jsx("span",{className:Fn.line}),D.jsx("div",{className:o,children:D.jsx(DV,{content:t,paused:!i.ready},t[0][0])})]}),D.jsx(gV,{}),D.jsxs("footer",{className:a,children:[D.jsx("span",{className:Fn.scrollIndicator}),D.jsxs("div",{children:[D.jsx("span",{className:Fn.scrollText,children:n("scroll_cta.line1")}),D.jsx("span",{className:Fn.scrollText,children:n("scroll_cta.line2")})]})]})]}),D.jsx("footer",{className:Fn.footer,children:D.jsx(U6,{})})]})}const LV="Portfolio-root_m6CE7",RV="Portfolio-pre_Cx7bw",OV="Portfolio-cardContainer_zWxw-",kV="Portfolio-video_doj4y",IV="Portfolio-projectSection_4Utrs",Fr={root:LV,pre:RV,cardContainer:OV,video:kV,projectSection:IV},FV="Container-root_MYpzn",NV="Container-withoutMenu_ruFQd",zV="Container-small_V2NX3",BV="Container-grid_TTnGL",UV="Container-outerRightOnMobile_2tJ3q",xs={root:FV,withoutMenu:NV,small:zV,grid:BV,outerRightOnMobile:UV,"cell-start-1":"Container-cell-start-1_pAmnF","cell-start-2":"Container-cell-start-2_vnBl6","cell-start-3":"Container-cell-start-3_fwOqZ","cell-end-1":"Container-cell-end-1_nSeaZ","cell-end-2":"Container-cell-end-2_Gl457","cell-end-3":"Container-cell-end-3_IK1Zj"},At=({children:n,small:e,grid:t,className:i,withoutMenu:r,outerRightOnMobile:s})=>{const o=at(xs.root,i,{[xs.small]:e,[xs.grid]:t,[xs.withoutMenu]:r,[xs.outerRightOnMobile]:s});return D.jsxs("div",{className:o,children:[n," "]})};function yt({start:n=1,end:e=1,className:t,children:i}){return D.jsx("div",{className:at(xs.cell,t,{[xs[`cell-start-${n}`]]:n,[xs[`cell-end-${e}`]]:e}),children:i})}const jV="ContentBlock-root_HvYgi",VV="ContentBlock-menuOpen_kS7bB",HV="ContentBlock-front_UhoEA",WV="ContentBlock-reveal_VDRvh",GV="ContentBlock-isDesktop_7XHx-",$V="ContentBlock-base_B-HDZ",XV="ContentBlock-isVisible_qjeAC",vo={root:jV,menuOpen:VV,front:HV,reveal:WV,isDesktop:GV,base:$V,isVisible:XV};/*!
 * SplitText: 3.7.0
 * https://greensock.com
 *
 * @license Copyright 2008-2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let Fo,QA,eC,qV=/(?:\r|\n|\t\t)/g,YV=/(?:\s\s+)/g,KV=()=>{Fo=document,QA=window,eC=1},tC=n=>QA.getComputedStyle(n),JV=Array.isArray,db=[].slice,M_=(n,e)=>{let t;return JV(n)?n:(t=typeof n)=="string"&&!e&&n?db.call(Fo.querySelectorAll(n),0):n&&t==="object"&&"length"in n?db.call(n,0):n?[n]:[]},T_=n=>n.position==="absolute"||n.absolute===!0,ZV=(n,e)=>{let t=e.length,i;for(;--t>-1;)if(i=e[t],n.substr(0,i.length)===i)return i.length},QV=" style='position:relative;display:inline-block;'",hb=(n="",e)=>{let t=~n.indexOf("++"),i=1;return t&&(n=n.split("++").join("")),()=>"<"+e+QV+(n?" class='"+n+(t?i++:"")+"'>":">")},E_=(n,e,t)=>{let i=n.nodeType;if(i===1||i===9||i===11)for(n=n.firstChild;n;n=n.nextSibling)E_(n,e,t);else(i===3||i===4)&&(n.nodeValue=n.nodeValue.split(e).join(t))},Bm=(n,e)=>{let t=e.length;for(;--t>-1;)n.push(e[t])},pb=(n,e,t)=>{let i;for(;n&&n!==e;){if(i=n._next||n.nextSibling,i)return i.textContent.charAt(0)===t;n=n.parentNode||n._parent}},nC=n=>{let e=M_(n.childNodes),t=e.length,i,r;for(i=0;i<t;i++)r=e[i],r._isSplit?nC(r):i&&r.previousSibling&&r.previousSibling.nodeType===3?(r.previousSibling.nodeValue+=r.nodeType===3?r.nodeValue:r.firstChild.nodeValue,n.removeChild(r)):r.nodeType!==3&&(n.insertBefore(r.firstChild,r),n.removeChild(r))},ur=(n,e)=>parseFloat(e[n])||0,eH=(n,e,t,i,r,s,o)=>{let a=tC(n),l=ur("paddingLeft",a),c=-999,d=ur("borderBottomWidth",a)+ur("borderTopWidth",a),u=ur("borderLeftWidth",a)+ur("borderRightWidth",a),f=ur("paddingTop",a)+ur("paddingBottom",a),h=ur("paddingLeft",a)+ur("paddingRight",a),m=ur("fontSize",a)*(e.lineThreshold||.2),p=a.textAlign,g=[],v=[],y=[],_=e.wordDelimiter||" ",x=e.tag?e.tag:e.span?"span":"div",w=e.type||e.split||"chars,words,lines",T=r&&~w.indexOf("lines")?[]:null,S=~w.indexOf("words"),b=~w.indexOf("chars"),M=T_(e),E=e.linesClass,O=~(E||"").indexOf("++"),V=[],I=a.display==="flex",N=n.style.display,C,B,H,P,Y,X,$,Z,re,se,ve,te;for(O&&(E=E.split("++").join("")),I&&(n.style.display="block"),B=n.getElementsByTagName("*"),H=B.length,Y=[],C=0;C<H;C++)Y[C]=B[C];if(T||M)for(C=0;C<H;C++)P=Y[C],X=P.parentNode===n,(X||M||b&&!S)&&(te=P.offsetTop,T&&X&&Math.abs(te-c)>m&&(P.nodeName!=="BR"||C===0)&&($=[],T.push($),c=te),M&&(P._x=P.offsetLeft,P._y=te,P._w=P.offsetWidth,P._h=P.offsetHeight),T&&((P._isSplit&&X||!b&&X||S&&X||!S&&P.parentNode.parentNode===n&&!P.parentNode._isSplit)&&($.push(P),P._x-=l,pb(P,n,_)&&(P._wordEnd=!0)),P.nodeName==="BR"&&(P.nextSibling&&P.nextSibling.nodeName==="BR"||C===0)&&T.push([])));for(C=0;C<H;C++){if(P=Y[C],X=P.parentNode===n,P.nodeName==="BR"){T||M?(P.parentNode&&P.parentNode.removeChild(P),Y.splice(C--,1),H--):S||n.appendChild(P);continue}if(M&&(re=P.style,!S&&!X&&(P._x+=P.parentNode._x,P._y+=P.parentNode._y),re.left=P._x+"px",re.top=P._y+"px",re.position="absolute",re.display="block",re.width=P._w+1+"px",re.height=P._h+"px"),!S&&b)if(P._isSplit)for(P._next=B=P.nextSibling,P.parentNode.appendChild(P);B&&B.nodeType===3&&B.textContent===" ";)P._next=B.nextSibling,P.parentNode.appendChild(B),B=B.nextSibling;else P.parentNode._isSplit?(P._parent=P.parentNode,!P.previousSibling&&P.firstChild&&(P.firstChild._isFirst=!0),P.nextSibling&&P.nextSibling.textContent===" "&&!P.nextSibling.nextSibling&&V.push(P.nextSibling),P._next=P.nextSibling&&P.nextSibling._isFirst?null:P.nextSibling,P.parentNode.removeChild(P),Y.splice(C--,1),H--):X||(te=!P.nextSibling&&pb(P.parentNode,n,_),P.parentNode._parent&&P.parentNode._parent.appendChild(P),te&&P.parentNode.appendChild(Fo.createTextNode(" ")),x==="span"&&(P.style.display="inline"),g.push(P));else P.parentNode._isSplit&&!P._isSplit&&P.innerHTML!==""?v.push(P):b&&!P._isSplit&&(x==="span"&&(P.style.display="inline"),g.push(P))}for(C=V.length;--C>-1;)V[C].parentNode.removeChild(V[C]);if(T){for(M&&(se=Fo.createElement(x),n.appendChild(se),ve=se.offsetWidth+"px",te=se.offsetParent===n?0:n.offsetLeft,n.removeChild(se)),re=n.style.cssText,n.style.cssText="display:none;";n.firstChild;)n.removeChild(n.firstChild);for(Z=_===" "&&(!M||!S&&!b),C=0;C<T.length;C++){for($=T[C],se=Fo.createElement(x),se.style.cssText="display:block;text-align:"+p+";position:"+(M?"absolute;":"relative;"),E&&(se.className=E+(O?C+1:"")),y.push(se),H=$.length,B=0;B<H;B++)$[B].nodeName!=="BR"&&(P=$[B],se.appendChild(P),Z&&P._wordEnd&&se.appendChild(Fo.createTextNode(" ")),M&&(B===0&&(se.style.top=P._y+"px",se.style.left=l+te+"px"),P.style.top="0px",te&&(P.style.left=P._x-te+"px")));H===0?se.innerHTML="&nbsp;":!S&&!b&&(nC(se),E_(se,String.fromCharCode(160)," ")),M&&(se.style.width=ve,se.style.height=P._h+"px"),n.appendChild(se)}n.style.cssText=re}M&&(o>n.clientHeight&&(n.style.height=o-f+"px",n.clientHeight<o&&(n.style.height=o+d+"px")),s>n.clientWidth&&(n.style.width=s-h+"px",n.clientWidth<s&&(n.style.width=s+u+"px"))),I&&(N?n.style.display=N:n.style.removeProperty("display")),Bm(t,g),S&&Bm(i,v),Bm(r,y)},tH=(n,e,t,i)=>{let r=e.tag?e.tag:e.span?"span":"div",s=e.type||e.split||"chars,words,lines",o=~s.indexOf("chars"),a=T_(e),l=e.wordDelimiter||" ",c=l!==" "?"":a?"&#173; ":" ",d="</"+r+">",u=1,f=e.specialChars?typeof e.specialChars=="function"?e.specialChars:ZV:null,h,m,p,g,v,y,_,x,w=Fo.createElement("div"),T=n.parentNode;for(T.insertBefore(w,n),w.textContent=n.nodeValue,T.removeChild(n),n=w,h=Vh(n),_=h.indexOf("<")!==-1,e.reduceWhiteSpace!==!1&&(h=h.replace(YV," ").replace(qV,"")),_&&(h=h.split("<").join("{{LT}}")),v=h.length,m=(h.charAt(0)===" "?c:"")+t(),p=0;p<v;p++)if(y=h.charAt(p),f&&(x=f(h.substr(p),e.specialChars)))y=h.substr(p,x||1),m+=o&&y!==" "?i()+y+"</"+r+">":y,p+=x-1;else if(y===l&&h.charAt(p-1)!==l&&p){for(m+=u?d:"",u=0;h.charAt(p+1)===l;)m+=c,p++;p===v-1?m+=c:h.charAt(p+1)!==")"&&(m+=c+t(),u=1)}else y==="{"&&h.substr(p,6)==="{{LT}}"?(m+=o?i()+"{{LT}}</"+r+">":"{{LT}}",p+=5):y.charCodeAt(0)>=55296&&y.charCodeAt(0)<=56319||h.charCodeAt(p+1)>=65024&&h.charCodeAt(p+1)<=65039?(g=((h.substr(p,12).split(PE)||[])[1]||"").length||2,m+=o&&y!==" "?i()+h.substr(p,g)+"</"+r+">":h.substr(p,g),p+=g-1):m+=o&&y!==" "?i()+y+"</"+r+">":y;n.outerHTML=m+(u?d:""),_&&E_(T,"{{LT}}","<")},iC=(n,e,t,i)=>{let r=M_(n.childNodes),s=r.length,o=T_(e),a,l;if(n.nodeType!==3||s>1){for(e.absolute=!1,a=0;a<s;a++)l=r[a],l._next=l._isFirst=l._parent=l._wordEnd=null,(l.nodeType!==3||/\S+/.test(l.nodeValue))&&(o&&l.nodeType!==3&&tC(l).display==="inline"&&(l.style.display="inline-block",l.style.position="relative"),l._isSplit=!0,iC(l,e,t,i));e.absolute=o,n._isSplit=!0;return}tH(n,e,t,i)};class Xl{constructor(e,t){eC||KV(),this.elements=M_(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)}split(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;let t=this.elements.length,i=e.tag?e.tag:e.span?"span":"div",r=hb(e.wordsClass,i),s=hb(e.charsClass,i),o,a,l;for(;--t>-1;)l=this.elements[t],this._originals[t]=l.innerHTML,o=l.clientHeight,a=l.clientWidth,iC(l,e,r,s),eH(l,e,this.chars,this.words,this.lines,a,o);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this}revert(){let e=this._originals;if(!e)throw"revert() call wasn't scoped properly.";return this.elements.forEach((t,i)=>t.innerHTML=e[i]),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this}static create(e,t){return new Xl(e,t)}}Xl.version="3.7.0";var Cv=new Map,Hf=new WeakMap,mb=0,nH=void 0;function iH(n){return n?(Hf.has(n)||(mb+=1,Hf.set(n,mb.toString())),Hf.get(n)):"0"}function rH(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?iH(n.root):n[e]}`).toString()}function sH(n){const e=rH(n);let t=Cv.get(e);if(!t){const i=new Map;let r;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const c=a.isIntersecting&&r.some(d=>a.intersectionRatio>=d);n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(d=>{d(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},Cv.set(e,t)}return t}function oH(n,e,t={},i=nH){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const l=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:r,observer:s,elements:o}=sH(t),a=o.get(n)||[];return o.has(n)||o.set(n,a),a.push(e),s.observe(n),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(n),s.unobserve(n)),o.size===0&&(s.disconnect(),Cv.delete(r))}}function ql({threshold:n,delay:e,trackVisibility:t,rootMargin:i,root:r,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:c}={}){var d;const[u,f]=j.useState(null),h=j.useRef(c),[m,p]=j.useState({inView:!!a,entry:void 0});h.current=c,j.useEffect(()=>{if(o||!u)return;let _;return _=oH(u,(x,w)=>{p({inView:x,entry:w}),h.current&&h.current(x,w),w.isIntersecting&&s&&_&&(_(),_=void 0)},{root:r,rootMargin:i,threshold:n,trackVisibility:t,delay:e},l),()=>{_&&_()}},[Array.isArray(n)?n.toString():n,u,r,i,s,o,t,l,e]);const g=(d=m.entry)==null?void 0:d.target,v=j.useRef(void 0);!u&&g&&!s&&!o&&v.current!==g&&(v.current=g,p({inView:!!a,entry:void 0}));const y=[f,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}ge.registerPlugin(Xl);function Ti({children:n,reveal:e=!0,className:t}){const i=j.useRef(null),{menu:r}=$t(u=>({menu:u.menu})),{ref:s,inView:o}=ql(),a=Gc.useMediaQuery({minWidth:Kt.lg}),l=at(vo.root,{[vo.isDesktop]:a,[vo.isVisible]:a&&o,[vo.menuOpen]:r.open,[vo.reveal]:e}),c=at(vo.front,t),d=at(vo.base,t);return D.jsxs("div",{className:l,ref:s,children:[a&&e&&D.jsx("div",{ref:i,className:c,children:n}),D.jsx("div",{className:d,children:n})]})}const aH="Heading-root_R-u5B",lH="Heading-alignRight_lzL3f",uH="Heading-line_MzTu6",cH="Heading-misaligned_4V-sv",fH="Heading-char_D4NTc",dH="Heading-menuOpen_cIvrp",hH="Heading-isVisible_4lVgU",_o={root:aH,alignRight:lH,line:uH,misaligned:cH,char:fH,menuOpen:dH,isVisible:hH};var rC={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Rn,function(){var t={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};return function(d,u){u||(u={});var f={};for(var h in t)u.hasOwnProperty(h)?f[h]=u[h]:f[h]=t[h];typeof d.toArray=="function"&&(d=d.toArray());var m=Object.prototype.toString.call(d);m!=="[object Array]"&&m!=="[object NodeList]"&&m!=="[object HTMLCollection]"&&(d=[d]);for(var p=0;p<d.length;p++)i(d[p],f)};function i(c,d){if(!o(c)||!d.reProcess&&c.getAttribute("textFitted"))return!1;d.reProcess||c.setAttribute("textFitted",1);var u,f,h,m,p,g,v;if(h=c.innerHTML,m=s(c),f=r(c),!m||!d.widthOnly&&!f)throw d.widthOnly?new Error("Set a static width on the target element "+c.outerHTML+" before using textFit!"):new Error("Set a static height and width on the target element "+c.outerHTML+" before using textFit!");h.indexOf("textFitted")===-1?(u=document.createElement("span"),u.className="textFitted",u.style.display="inline-block",u.innerHTML=h,c.innerHTML="",c.appendChild(u)):(u=c.querySelector("span.textFitted"),a(u,"textFitAlignVert")&&(u.className=u.className.replace("textFitAlignVert",""),u.style.height="",c.className.replace("textFitAlignVertFlex",""))),d.alignHoriz&&(c.style["text-align"]="center",u.style["text-align"]="center");var y=d.multiLine;d.detectMultiLine&&!y&&u.scrollHeight>=parseInt(window.getComputedStyle(u)["font-size"],10)*2&&(y=!0),y||(c.style["white-space"]="nowrap"),p=d.minFontSize,v=d.maxFontSize;for(var _=p;p<=v;)g=v+p>>1,u.style.fontSize=g+"px",u.scrollWidth<=m&&(d.widthOnly||u.scrollHeight<=f)?(_=g,p=g+1):v=g-1;if(u.style.fontSize!=_+"px"&&(u.style.fontSize=_+"px"),d.alignVert){l();var x=u.scrollHeight;window.getComputedStyle(c).position==="static"&&(c.style.position="relative"),a(u,"textFitAlignVert")||(u.className=u.className+" textFitAlignVert"),u.style.height=x+"px",d.alignVertWithFlexbox&&!a(c,"textFitAlignVertFlex")&&(c.className=c.className+" textFitAlignVertFlex")}}function r(c){var d=window.getComputedStyle(c,null);return c.clientHeight-parseInt(d.getPropertyValue("padding-top"),10)-parseInt(d.getPropertyValue("padding-bottom"),10)}function s(c){var d=window.getComputedStyle(c,null);return c.clientWidth-parseInt(d.getPropertyValue("padding-left"),10)-parseInt(d.getPropertyValue("padding-right"),10)}function o(c){return typeof HTMLElement=="object"?c instanceof HTMLElement:c&&typeof c=="object"&&c!==null&&c.nodeType===1&&typeof c.nodeName=="string"}function a(c,d){return(" "+c.className+" ").indexOf(" "+d+" ")>-1}function l(){if(!document.getElementById("textFitStyleSheet")){var c=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join(""),d=document.createElement("style");d.type="text/css",d.id="textFitStyleSheet",d.innerHTML=c,document.body.appendChild(d)}}})})(rC);var pH=rC.exports;const mH=rs(pH);function gH(n){const{app:e,sizes:t}=$t(i=>({app:i.app,sizes:i.sizes}));return j.useEffect(()=>{if(!n||!e.ready)return;const i=Array.isArray(n)?n.map(r=>r.current):n.current;mH(i,{widthOnly:!0,detectMultiLine:!1,maxFontSize:400})},[e.ready,t.width]),null}ge.registerPlugin(Xl);function ws({children:n,alignRight:e,misaligned:t,className:i}){const{scroll:r,menu:s,sizes:o}=$t(m=>({menu:m.menu,scroll:m.scroll,sizes:m.sizes})),a=Gc.useMediaQuery({minWidth:Kt.lg}),{ref:l,inView:c}=ql(),d=j.useRef(null),u=j.useRef(null);gH(d);const f=j.useCallback(()=>{var p;u.current&&u.current.revert();const m=(p=d.current)==null?void 0:p.querySelectorAll(".textFitted");m&&(u.current=new Xl(m,{type:"lines,chars",linesClass:`${_o.line}`,charsClass:`${_o.char}`}))},[]);j.useEffect(()=>{r&&a&&f()},[r,a,f,o.width]),j.useEffect(()=>{!a&&u.current&&u.current.revert()},[a]);const h=at(_o.root,i,{[_o.alignRight]:e,[_o.misaligned]:t,[_o.isVisible]:a&&c,[_o.menuOpen]:s.open});return D.jsx("div",{ref:l,children:D.jsx("div",{ref:d,className:h,children:n})})}function vH(){const{t:n}=Bi("translation",{keyPrefix:"portfolio"}),e=n("intro",{returnObjects:!0}),t=n("portfolio",{returnObjects:!0});return D.jsxs(Qh,{name:"portfolio",className:Fr.root,children:[D.jsx(At,{grid:!0,outerRightOnMobile:!0,children:D.jsx(yt,{start:1,end:2,children:D.jsx(ws,{misaligned:!0,children:D.jsxs(D.Fragment,{children:[D.jsx("pre",{className:Fr.pre,children:e[0]}),D.jsx(Qn,{i18nKey:"portfolio.intro.1"})]})},e[0])})}),D.jsx(At,{grid:!0,children:D.jsx(yt,{start:3,end:1,children:D.jsxs(Ti,{children:[D.jsx("div",{children:e[2]}),D.jsx("div",{children:e[3]})]})})},e[2]),D.jsx(At,{grid:!0,outerRightOnMobile:!0,className:Fr.projectSection,children:D.jsx(yt,{start:2,end:2,children:D.jsx(ws,{children:t[0]},t[0])})}),D.jsx(At,{grid:!0,children:D.jsx(yt,{start:2,end:1,children:D.jsx(Ti,{children:D.jsxs("div",{children:[D.jsx(Qn,{i18nKey:"portfolio.portfolio.1"}),D.jsx(Qn,{i18nKey:"portfolio.portfolio.2"})]})})})},t[1]),D.jsx("div",{className:Fr.cardContainer,id:"card-container"}),D.jsx("video",{id:"skReel",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:Fr.video,children:D.jsx("source",{src:"/projects/sk/sk-reel.mp4",type:"video/mp4"})}),D.jsx("video",{id:"aqReel",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:Fr.video,children:D.jsx("source",{src:"/projects/aq/reel-aq.mp4",type:"video/mp4"})}),D.jsx("video",{id:"fbReel",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:Fr.video,children:D.jsx("source",{src:"/projects/fb/fb-reel.mp4",type:"video/mp4"})}),D.jsx("video",{id:"feudiReel",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:Fr.video,children:D.jsx("source",{src:"/projects/feudi/feudi-reel.mp4",type:"video/mp4"})}),D.jsx("video",{id:"claralunaReel",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:Fr.video,children:D.jsx("source",{src:"/projects/claraluna/claraluna-reel.mp4",type:"video/mp4"})})]})}const _H="About-root_-thQo",yH="About-awardsTitle_AYUd-",xH="About-section_IEwd6",wH="About-columns_GfyA1",yo={root:_H,awardsTitle:yH,section:xH,columns:wH},bH="ImageTrigger-root_TRnky",SH={root:bH};function Nn({children:n,name:e,sizes:t=[3,2]}){const i=gi();j.useEffect(()=>{i.images.addImage({name:e,sizes:t})},[i.images,e,t[0],t[1]]);const r=j.useCallback(()=>{i.pointer.setType("image"),i.images.showImage(e)},[i.images,e]),s=j.useCallback(()=>{i.pointer.setType("default"),i.images.hideImage(e)},[i.images,e]);return D.jsx("em",{className:SH.root,onMouseEnter:r,onMouseLeave:s,children:n})}const MH="Square-root_QtEq5",TH={root:MH};function EH(){return D.jsx("div",{className:TH.root})}const AH="List-root_acNhM",CH="List-item_huqD-",sC={root:AH,item:CH};function DH({children:n}){return D.jsx("div",{className:sC.root,children:n})}function Su({children:n,end:e}){return D.jsxs("div",{className:sC.item,children:[D.jsx("span",{children:n}),D.jsx("span",{children:e})]})}function PH(){const{t:n}=Bi("translation",{keyPrefix:"about"}),e=n("intro",{returnObjects:!0}),t=n("clan_title"),i=n("clan",{returnObjects:!0}),r=n("method_title"),s=n("method",{returnObjects:!0});return D.jsxs(Qh,{name:"about",className:yo.root,children:[D.jsx(At,{grid:!0,children:D.jsx(yt,{start:3,end:1,children:D.jsx("div",{className:yo.section,children:D.jsx(Ti,{children:D.jsx("div",{children:D.jsx(Qn,{i18nKey:"about.intro.0",components:{ImageVenice:D.jsx(Nn,{name:"venice"}),ImageSketchin:D.jsx(Nn,{name:"sketchin"}),ImageTCMGTK:D.jsx(Nn,{name:"tcmgtk",sizes:[2,3]})}})})},e[0])})})}),D.jsx(At,{grid:!0,outerRightOnMobile:!0,children:D.jsx(yt,{start:1,end:2,children:D.jsx(ws,{children:D.jsx(Qn,{i18nKey:"about.intro.1",components:{Square:D.jsx(EH,{}),pre:D.jsx("pre",{})}})},e[1])})}),D.jsx(At,{grid:!0,children:D.jsx(yt,{start:2,end:1,children:D.jsx(Ti,{children:e.slice(2).map((o,a)=>D.jsx("div",{children:D.jsx(Qn,{i18nKey:`about.intro.${a+2}`,components:{ImageVenice:D.jsx(Nn,{name:"venice"}),ImageSketchin:D.jsx(Nn,{name:"sketchin"}),ImageTCMGTK:D.jsx(Nn,{name:"tcmgtk",sizes:[2,3]})}})},a))},e[2])})}),D.jsx(At,{grid:!0,outerRightOnMobile:!0,children:D.jsx(yt,{start:2,end:2,children:D.jsx("div",{className:yo.section,children:D.jsx(ws,{alignRight:!0,children:D.jsxs(D.Fragment,{children:[t[0],D.jsx("br",{})," ",t[1]]})},t[0])})})}),D.jsx(At,{grid:!0,children:D.jsx(yt,{start:2,end:2,children:D.jsxs("div",{className:yo.columns,children:[D.jsx(Ti,{children:i.slice(0,2).map((o,a)=>D.jsx("div",{children:D.jsx(Qn,{i18nKey:`about.clan.${a}`,components:{ImageBW:D.jsx(Nn,{name:"bw",sizes:[2.5,2.5]}),ImageNO1:D.jsx(Nn,{name:"no1"}),ImageNO2:D.jsx(Nn,{name:"no2"}),ImageNO3:D.jsx(Nn,{name:"no3",sizes:[2,2.5]})}})},a))},i[0]),D.jsx(Ti,{children:i.slice(2).map((o,a)=>D.jsx("div",{children:D.jsx(Qn,{i18nKey:`about.clan.${a+2}`,components:{ImageBW:D.jsx(Nn,{name:"bw",sizes:[2.5,2.5]}),ImageNO1:D.jsx(Nn,{name:"no1"}),ImageNO2:D.jsx(Nn,{name:"no2"}),ImageNO3:D.jsx(Nn,{name:"no3",sizes:[2,2.5]})}})},a))},i[2])]})})}),D.jsx(At,{grid:!0,outerRightOnMobile:!0,children:D.jsx(yt,{start:1,end:3,children:D.jsx("div",{className:yo.section,children:D.jsx(ws,{children:D.jsx(Qn,{i18nKey:"about.method_title",components:{pre:D.jsx("pre",{})}})},r)})})}),D.jsx(At,{grid:!0,children:D.jsx(yt,{start:2,end:1,children:D.jsx(Ti,{children:D.jsx("div",{children:D.jsx(Qn,{i18nKey:"about.method.0"})})},s[0])})}),D.jsx(At,{grid:!0,outerRightOnMobile:!0,children:D.jsx(yt,{start:1,end:3,children:D.jsxs("div",{className:yo.section,children:[D.jsx(ws,{children:D.jsx(Qn,{i18nKey:"about.method.1"})},s[1]),D.jsx(ws,{alignRight:!0,children:D.jsx(Qn,{i18nKey:"about.method.2"})},s[2])]})})}),D.jsx(At,{grid:!0,children:D.jsx(yt,{start:1,end:1,children:D.jsx("div",{className:yo.section,children:D.jsx(Ti,{children:D.jsx("div",{children:D.jsx(Qn,{i18nKey:"about.method.3"})})},s[3])})})}),D.jsx(At,{grid:!0,children:D.jsx(yt,{start:1,end:3,children:D.jsx(Ti,{children:D.jsxs(DH,{children:[D.jsx(Su,{end:"x6",children:"Awwwards"}),D.jsx(Su,{end:"x6",children:"CSS Design Awards"}),D.jsx(Su,{end:"x1",children:"FWA"}),D.jsx(Su,{end:"x3",children:"iF Design Award"}),D.jsx(Su,{end:"x8",children:"Other"})]})})})})]})}const LH="Contact-root_nlWJs",RH="Contact-section_lHKN7",OH="Contact-emailContainer_0Uh5j",kH="Contact-email_RIfzb",IH="Contact-isEmailVisible_6Tufz",FH="Contact-list_rybs6",ka={root:LH,section:RH,emailContainer:OH,email:kH,isEmailVisible:IH,list:FH},ud=n=>j.createElement("svg",{width:"11px",height:"11px",viewBox:"0 0 11 11",...n},j.createElement("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round"},j.createElement("g",{transform:"translate(-850.000000, -655.000000)",stroke:"#FFFFFF"},j.createElement("g",{transform:"translate(850.025126, 654.661165)"},j.createElement("path",{d:"M2.47487373,0.838834765 L10.4748737,0.838834765 M10.4748737,0.838834765 L10.4748737,9.83883476 M0.474873734,10.8388348 L10.4748737,0.838834765"})))));function NH(){const n=gi(),{t:e}=Bi("translation",{keyPrefix:"contact"}),t=e("intro"),i=e("social_intro"),{ref:r,inView:s}=ql(),o=j.useCallback(()=>{n.pointer.setType("hover")},[n.pointer]),a=j.useCallback(()=>{n.pointer.setType("default")},[n.pointer]),l=at({[ka.isEmailVisible]:s});return D.jsx(Qh,{name:"contact",className:ka.root,children:D.jsxs(At,{grid:!0,children:[D.jsx(yt,{start:1,end:1,children:D.jsx(Ti,{children:D.jsx("div",{children:t})},t)}),D.jsx(yt,{start:1,end:3,children:D.jsx("div",{className:ka.section,ref:r,onMouseEnter:o,onMouseLeave:a,children:D.jsx(ws,{className:l,children:D.jsx("div",{children:D.jsx("div",{className:ka.emailContainer,children:D.jsx("a",{className:ka.email,href:"jayanthgummitha@gmail.com",children:"jayanthgummitha@gmail.com"})})})})})}),D.jsx(yt,{start:1,end:1,children:D.jsx(Ti,{children:D.jsx("div",{children:i})},i)}),D.jsx(yt,{start:2,end:1,children:D.jsx(Ti,{children:D.jsx("div",{children:D.jsxs("ul",{className:ka.list,children:[D.jsx("li",{children:D.jsxs("a",{href:"https://www.linkedin.com/in/gummitha-jayanth-2104abc",onMouseEnter:o,onMouseLeave:a,target:"_blank",children:[D.jsx("span",{children:"Linkedin"}),D.jsx(ud,{})]})}),D.jsx("li",{children:D.jsxs("a",{href:"https://x.com/GummithaJayanth",onMouseEnter:o,onMouseLeave:a,target:"_blank",children:[D.jsx("span",{children:"Twitter"}),D.jsx(ud,{})]})}),D.jsx("li",{children:D.jsxs("a",{href:"https://github.com/JayanthGummitha",onMouseEnter:o,onMouseLeave:a,target:"_blank",children:[D.jsx("span",{children:"Github"}),D.jsx(ud,{})]})})]})})})})]})})}window.cursor={x:0,y:0};window.cursorNormalized={x:0,y:0};function zH(){const n=gi(),e=j.useRef({height:0,width:0}),t=j.useRef(null),{scroll:i,sizes:r}=$t(l=>({scroll:l.scroll,sizes:l.sizes})),s=j.useMemo(()=>ik==="mouse",[r.width]),o=sk(()=>{var f,h;if(!t.current)return;const l=(f=t.current)==null?void 0:f.clientWidth,c=(h=t.current)==null?void 0:h.clientHeight,d=e.current.width,u=e.current.height;(l!==d||c!==u)&&(n.sizes.update({width:l,height:c}),document.documentElement.style.setProperty("--app-height",`${c}px`),e.current={width:l,height:c})},300,[r.width,r.height]),a=j.useCallback(l=>{const{x:c,y:d}=TE(l);window.cursor.x=c,window.cursor.y=d,window.cursorNormalized.x=c/r.width-.5,window.cursorNormalized.y=d/r.height-.5},[r.height,r.width]);return j.useEffect(()=>(o(),window.addEventListener("resize",o),window.addEventListener("touchstart",a),window.addEventListener("touchmove",a),window.addEventListener("mousemove",a),()=>{window.removeEventListener("resize",o),window.removeEventListener("touchstart",a),window.removeEventListener("touchmove",a),window.removeEventListener("mousemove",a)}),[n.sizes,r.height,r.width,o,a]),j.useEffect(()=>{i?Ll.enablePageScroll():Ll.disablePageScroll()},[i]),D.jsxs(D.Fragment,{children:[D.jsx("div",{ref:t,style:{height:"100vh",width:"100%",pointerEvents:"none",position:"fixed"}}),D.jsx(u6,{}),D.jsx(PV,{}),D.jsx(JO,{children:D.jsx(X8,{})}),D.jsx(vH,{}),D.jsx(PH,{}),D.jsx(NH,{}),s&&D.jsx(pk,{})]})}const BH="ProjectHero-root_zthfo",UH="ProjectHero-figure_6ZhEb",jH="ProjectHero-open_Uch7l",VH="ProjectHero-transitionOut_nFD0I",HH="ProjectHero-detailContainer_kZqEs",WH="ProjectHero-details_c4crU",GH="ProjectHero-detailBlock_b-dnH",$H="ProjectHero-info_KL5lR",XH="ProjectHero-titleContainer_-Aka8",qH="ProjectHero-titleInner_2KjrR",YH="ProjectHero-title_2Nisi",KH="ProjectHero-live_ezSv4",JH="ProjectHero-externalArrow_OJQNt",Cn={root:BH,figure:UH,open:jH,transitionOut:VH,detailContainer:HH,details:WH,detailBlock:GH,info:$H,titleContainer:XH,titleInner:qH,title:YH,live:KH,externalArrow:JH};function Yl(){const[n,e]=j.useState(),{transitionStage:t}=j.useContext(Q0);return j.useEffect(()=>{requestAnimationFrame(()=>{e(t)})},[t]),n}const ZH=()=>{const n=gi(),{project:e}=F0(),t=Yl(),{t:i}=Bi("translation"),{t:r}=Bi(e),s=j.useCallback(()=>{n.pointer.setType("hover")},[n.pointer]),o=j.useCallback(()=>{n.pointer.setType("default")},[n.pointer]);console.log(r("awards"));const a=r("awards"),l=r("live"),c=at(Cn.root,t&&Cn[t]);return D.jsx(At,{withoutMenu:!0,children:D.jsxs("div",{className:c,children:[D.jsx("figure",{className:Cn.figure,children:r("image")&&D.jsx("img",{src:r("image"),alt:e})}),D.jsxs("div",{className:Cn.info,children:[D.jsx("div",{className:Cn.titleContainer,children:D.jsx("div",{className:Cn.titleInner,children:D.jsx("h1",{className:Cn.title,children:r("title")})})}),D.jsxs("div",{className:Cn.detailContainer,children:[D.jsxs("div",{className:Cn.details,children:[D.jsxs("div",{className:Cn.detailBlock,children:[D.jsx("h3",{children:i("role")}),D.jsx("p",{children:r("role")})]}),D.jsxs("div",{className:Cn.detailBlock,children:[D.jsx("h3",{children:i("agency")}),D.jsx("p",{children:r("agency")})]}),D.jsxs("div",{className:Cn.detailBlock,children:[D.jsx("h3",{children:i("completed")}),D.jsx("p",{children:r("completed")})]}),D.jsx("div",{className:Cn.detailBlock,children:a.length>0&&D.jsxs(D.Fragment,{children:[D.jsx("h3",{children:"Awards"}),a.map(d=>D.jsx("p",{children:d},d))]})})]}),D.jsx("div",{className:Cn.live,children:l&&D.jsxs("a",{href:l,target:"_blank",onMouseEnter:s,onMouseLeave:o,children:["Visit live"," ",D.jsx("span",{className:Cn.externalArrow,children:D.jsx(ud,{})})]})})]})]})]})})},QH="ProjectCTA-root_AUnot",e8="ProjectCTA-open_b-mkb",t8="ProjectCTA-container_ArgAy",n8="ProjectCTA-cta_MPfbd",i8="ProjectCTA-nextInner_aUPMY",r8="ProjectCTA-loader_wdGrp",xo={root:QH,open:e8,container:t8,cta:n8,nextInner:i8,loader:r8},s8=70,Um=s8*2*Math.PI,o8=()=>{const{t:n}=Bi("translation"),e=gi(),t=Yl(),i=no(),{project:r}=F0(),s=$t(h=>h.projects),{ref:o,inView:a}=ql(),l=j.useRef(null),c=j.useMemo(()=>{const h=s.findIndex(p=>p.url===r),m=h===-1||h===s.length-1?0:h+1;return s[m]},[r,s]),d=j.useCallback(()=>{e.pointer.setType("hover")},[e.pointer]),u=j.useCallback(()=>{e.pointer.setType("default")},[e.pointer]);j.useEffect(()=>{a&&!l.current&&(l.current=window.setTimeout(()=>{Vd(c.url),l.current=null},3e3)),!a&&l.current&&(clearTimeout(l.current),l.current=null)},[a,c.url]),j.useEffect(()=>{i.pathname==="/"&&l.current&&(clearTimeout(l.current),l.current=null)},[i.pathname]);const f=at(xo.root,t&&xo[t]);return D.jsx("div",{className:f,children:D.jsx(At,{withoutMenu:!0,className:xo.container,children:D.jsx("button",{className:at(xo.cta,xo.next),onMouseEnter:d,onMouseLeave:u,onClick:()=>Vd(`/${c.url}`),ref:o,children:D.jsxs("div",{className:xo.nextInner,children:[n("go to project")," ",c.name,D.jsx("div",{className:xo.loader,children:D.jsx("svg",{width:"150",height:"150",children:D.jsx("circle",{stroke:"#00f",strokeWidth:"2",fill:"transparent",r:"70",cx:"75",cy:"75",style:{strokeDasharray:`${Um} ${Um}`,strokeDashoffset:a?0:Um}})})})]})})})})},a8="TextIntro-root_aAjNi",l8="TextIntro-inner_3pmWx",u8="TextIntro-open_TBJpk",jm={root:a8,inner:l8,open:u8},c8=({text:n})=>{const e=Yl(),t=at(jm.root,e&&jm[e]);return D.jsx(At,{grid:!0,withoutMenu:!0,children:D.jsx(yt,{start:2,end:2,children:D.jsx("div",{className:t,children:D.jsx("div",{className:jm.inner,children:n})})})})},f8="TextTwoColumns-root_O-gc4",d8="TextTwoColumns-open_C9Rp5",h8="TextTwoColumns-title_n8jRI",p8="TextTwoColumns-visible_NF6Wv",m8="TextTwoColumns-text_U4AYc",g8="TextTwoColumns-label_1RQ6-",v8="TextTwoColumns-numbersContainer_ANSa0",_8="TextTwoColumns-techContainer_XFpCI",y8="TextTwoColumns-wrapper_dlWnn",x8="TextTwoColumns-number_rmwrt",w8="TextTwoColumns-item_3BNEX",b8="TextTwoColumns-tech_TbRcI",S8="TextTwoColumns-figure_xFvHT",vn={root:f8,open:d8,title:h8,visible:p8,text:m8,label:g8,numbersContainer:v8,techContainer:_8,wrapper:y8,number:x8,item:w8,tech:b8,figure:S8},M8={flow:"/images/flow.jpg",glsl:"/images/glsl.jpg",lambda:"/images/lambda.jpg",next:"/images/next.jpg",pixi:"/images/pixi.jpg",postcss:"/images/postcss.jpg",sass:"/images/sass.jpg",react:"/images/react.jpg",redux:"/images/redux.jpg",rx:"/images/rx.jpg",three:"/images/three.jpg",vite:"/images/vite.jpg",webpack:"/images/webpack.jpg"},T8=({title:n,text:e,numbers:t,technologies:i})=>{const r=Yl(),{ref:s,inView:o}=ql({triggerOnce:!0}),a=at(vn.root,r&&vn[r],{[vn.visible]:o});return D.jsx("div",{className:a,children:D.jsxs(At,{grid:!0,withoutMenu:!0,children:[D.jsx(yt,{start:1,end:1,children:D.jsx("div",{className:vn.wrapper,children:D.jsx("h3",{className:vn.title,ref:s,children:n})})}),D.jsx(yt,{start:2,end:2,children:D.jsxs(D.Fragment,{children:[D.jsx("div",{className:vn.text,dangerouslySetInnerHTML:{__html:e}}),t&&D.jsx("div",{className:vn.numbersContainer,children:t.map(({value:l,label:c},d)=>D.jsxs("div",{className:vn.item,children:[D.jsx("div",{className:vn.wrapper,children:D.jsx("span",{className:vn.number,children:l})}),D.jsx("div",{className:vn.wrapper,children:D.jsx("p",{className:vn.label,children:c})})]},d))}),i&&D.jsx("div",{className:vn.techContainer,children:i.map((l,c)=>D.jsx("div",{className:vn.tech,children:D.jsxs("figure",{className:vn.figure,children:[D.jsx("img",{src:M8[l.toLowerCase()],alt:l,title:l}),D.jsx("figcaption",{children:D.jsx("p",{className:vn.label,children:l})})]})},c))})]})})]})})},E8="Media-root_K4Ghm",A8="Media-open_GrAAS",C8="Media-item_jqaOh",Vm={root:E8,open:A8,item:C8};function D8({src:n,alt:e}){return D.jsxs("video",{muted:!0,loop:!0,autoPlay:!0,children:[D.jsx("source",{src:n,type:"video/mp4"}),e]})}function P8({media:n}){const e=Yl(),t=at(Vm.root,e&&Vm[e]);return D.jsx(At,{withoutMenu:!0,children:D.jsx("div",{className:t,children:n.map(({src:i,alt:r},s)=>{const o=i.endsWith(".mp4");return D.jsx("div",{className:Vm.item,children:o?D.jsx(D8,{src:i,alt:r},i):D.jsx("img",{src:i,alt:r})},s)})})})}const L8="Awards-root_BnVaY",R8="Awards-open_DGf5K",O8="Awards-container_c8D4k",k8="Awards-title_ipRmH",I8="Awards-figure_s7aHy",Mu={root:L8,open:R8,container:O8,title:k8,figure:I8},F8={awwwards:"/images/awwwards.jpg","css design award":"/images/css-design-awards.jpg","digital design awards":"/images/ddd.jpg","if design awards":"/images/if.jpg",fwa:"/images/fwa.jpg"};function N8({awards:n}){const{t:e}=Bi("translation"),t=Yl(),i=at(Mu.root,t&&Mu[t]);return D.jsx("div",{className:i,children:D.jsxs(At,{grid:!0,withoutMenu:!0,children:[D.jsx(yt,{start:1,end:1,children:D.jsx("h3",{className:Mu.title,children:e("riconoscimenti")})}),D.jsx(yt,{start:2,end:2,className:Mu.container,children:n.map(r=>D.jsxs("figure",{className:Mu.figure,children:[D.jsx("img",{src:F8[r.toLowerCase()],alt:r,title:r}),D.jsx("figcaption",{children:r})]},r))})]})})}const z8="Numbers-root_FwSZR",B8="Numbers-wrapper_AsjAj",U8="Numbers-number_pSo5t",j8="Numbers-label_CyyBv",V8="Numbers-item_4TAK0",H8="Numbers-visible_ig7tJ",wo={root:z8,wrapper:B8,number:U8,label:j8,item:V8,visible:H8};function W8({numbers:n}){const{ref:e,inView:t}=ql(),i=at(wo.root,{[wo.visible]:t});return D.jsx("div",{className:i,ref:e,children:D.jsx(At,{grid:!0,withoutMenu:!0,children:n.map(({value:r,label:s},o)=>D.jsxs(yt,{start:o+1,end:1,className:wo.item,children:[D.jsx("div",{className:wo.wrapper,children:D.jsx("span",{className:wo.number,children:r})}),D.jsx("div",{className:wo.wrapper,children:D.jsx("p",{className:wo.label,children:s})})]},o))})})}const Wf={Awards:N8,Media:P8,Numbers:W8,TextIntro:c8,TextTwoColumns:T8},G8=()=>{const{project:n}=F0(),{t:e}=Bi(n),t=e("modules");return D.jsxs(D.Fragment,{children:[D.jsx(ZH,{}),t.map(({component:i,...r},s)=>{if(!(Wf!=null&&Wf[i]))return console.warn("Module not found -> "+i),null;const o=Wf[i];return D.jsx(o,{...r},s)}),D.jsx(o8,{})]})};function $8(){return D.jsx(ET,{children:D.jsx(N0,{path:"*",element:D.jsx(zH,{})})})}function X8(){const{displayLocation:n}=j.useContext(Q0);return D.jsx(ET,{location:n,children:D.jsx(N0,{path:":project",element:D.jsx(G8,{})})})}const oC=document.getElementById("root");if(!oC)throw new Error("Failed to find the root element");const q8=Wm.createRoot(oC);q8.render(D.jsx(IR,{children:D.jsx(AP,{store:vT,children:D.jsx($8,{})})}));
